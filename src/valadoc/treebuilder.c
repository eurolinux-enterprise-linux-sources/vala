/* treebuilder.c generated by valac, the Vala compiler
 * generated from treebuilder.vala, do not modify */

/* treebuilder.vala
 *
 * Copyright (C) 2011  Florian Brosch
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Florian Brosch <flo.brosch@gmail.com>
 */


#include <glib.h>
#include <glib-object.h>
#include <vala.h>
#include <valagee.h>
#include <valadoc.h>
#include <stdlib.h>
#include <string.h>
#include <valacodegen.h>
#include <glib/gstdio.h>
#include <stdio.h>
#include <gobject/gvaluecollector.h>


#define VALADOC_DRIVERS_TYPE_TREE_BUILDER (valadoc_drivers_tree_builder_get_type ())
#define VALADOC_DRIVERS_TREE_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALADOC_DRIVERS_TYPE_TREE_BUILDER, ValadocDriversTreeBuilder))
#define VALADOC_DRIVERS_TREE_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALADOC_DRIVERS_TYPE_TREE_BUILDER, ValadocDriversTreeBuilderClass))
#define VALADOC_DRIVERS_IS_TREE_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALADOC_DRIVERS_TYPE_TREE_BUILDER))
#define VALADOC_DRIVERS_IS_TREE_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALADOC_DRIVERS_TYPE_TREE_BUILDER))
#define VALADOC_DRIVERS_TREE_BUILDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALADOC_DRIVERS_TYPE_TREE_BUILDER, ValadocDriversTreeBuilderClass))

typedef struct _ValadocDriversTreeBuilder ValadocDriversTreeBuilder;
typedef struct _ValadocDriversTreeBuilderClass ValadocDriversTreeBuilderClass;
typedef struct _ValadocDriversTreeBuilderPrivate ValadocDriversTreeBuilderPrivate;

#define VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA (valadoc_drivers_tree_builder_package_meta_data_get_type ())
#define VALADOC_DRIVERS_TREE_BUILDER_PACKAGE_META_DATA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, ValadocDriversTreeBuilderPackageMetaData))
#define VALADOC_DRIVERS_TREE_BUILDER_PACKAGE_META_DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, ValadocDriversTreeBuilderPackageMetaDataClass))
#define VALADOC_DRIVERS_TREE_BUILDER_IS_PACKAGE_META_DATA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA))
#define VALADOC_DRIVERS_TREE_BUILDER_IS_PACKAGE_META_DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA))
#define VALADOC_DRIVERS_TREE_BUILDER_PACKAGE_META_DATA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, ValadocDriversTreeBuilderPackageMetaDataClass))

typedef struct _ValadocDriversTreeBuilderPackageMetaData ValadocDriversTreeBuilderPackageMetaData;
typedef struct _ValadocDriversTreeBuilderPackageMetaDataClass ValadocDriversTreeBuilderPackageMetaDataClass;
#define _vala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (vala_iterable_unref (var), NULL)))
#define _valadoc_drivers_tree_builder_package_meta_data_unref0(var) ((var == NULL) ? NULL : (var = (valadoc_drivers_tree_builder_package_meta_data_unref (var), NULL)))
#define _vala_map_unref0(var) ((var == NULL) ? NULL : (var = (vala_map_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _valadoc_api_tree_unref0(var) ((var == NULL) ? NULL : (var = (valadoc_api_tree_unref (var), NULL)))
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _valadoc_api_source_comment_unref0(var) ((var == NULL) ? NULL : (var = (valadoc_api_source_comment_unref (var), NULL)))
#define _vala_source_reference_unref0(var) ((var == NULL) ? NULL : (var = (vala_source_reference_unref (var), NULL)))
#define _vala_comment_unref0(var) ((var == NULL) ? NULL : (var = (vala_comment_unref (var), NULL)))
#define _vala_map_iterator_unref0(var) ((var == NULL) ? NULL : (var = (vala_map_iterator_unref (var), NULL)))
typedef struct _ValadocDriversTreeBuilderPackageMetaDataPrivate ValadocDriversTreeBuilderPackageMetaDataPrivate;
#define _vala_source_file_unref0(var) ((var == NULL) ? NULL : (var = (vala_source_file_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _vala_code_visitor_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_visitor_unref (var), NULL)))
#define _vala_code_context_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_context_unref (var), NULL)))
typedef struct _ValadocDriversTreeBuilderParamSpecPackageMetaData ValadocDriversTreeBuilderParamSpecPackageMetaData;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _ValadocDriversTreeBuilder {
	ValaCodeVisitor parent_instance;
	ValadocDriversTreeBuilderPrivate * priv;
};

struct _ValadocDriversTreeBuilderClass {
	ValaCodeVisitorClass parent_class;
};

struct _ValadocDriversTreeBuilderPrivate {
	ValaArrayList* packages;
	ValadocDriversTreeBuilderPackageMetaData* source_package;
	ValaHashMap* files;
	ValaHashMap* symbol_map;
	ValadocErrorReporter* reporter;
	ValadocSettings* settings;
	ValadocApiNode* current_node;
	ValadocApiTree* tree;
	ValadocApiClass* glib_error;
};

struct _ValadocDriversTreeBuilderPackageMetaData {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ValadocApiPackage* package;
	ValaHashMap* namespaces;
	ValaArrayList* files;
	ValadocDriversTreeBuilderPackageMetaDataPrivate * priv;
};

struct _ValadocDriversTreeBuilderPackageMetaDataClass {
	GTypeClass parent_class;
	void (*finalize) (ValadocDriversTreeBuilderPackageMetaData *self);
};

struct _ValadocDriversTreeBuilderParamSpecPackageMetaData {
	GParamSpec parent_instance;
};


static gpointer valadoc_drivers_tree_builder_parent_class = NULL;
static gpointer valadoc_drivers_tree_builder_package_meta_data_parent_class = NULL;

GType valadoc_drivers_tree_builder_get_type (void) G_GNUC_CONST;
static gpointer valadoc_drivers_tree_builder_package_meta_data_ref (gpointer instance);
static void valadoc_drivers_tree_builder_package_meta_data_unref (gpointer instance);
static GParamSpec* valadoc_drivers_tree_builder_param_spec_package_meta_data (const gchar* name,
                                                                       const gchar* nick,
                                                                       const gchar* blurb,
                                                                       GType object_type,
                                                                       GParamFlags flags) G_GNUC_UNUSED;
static void valadoc_drivers_tree_builder_value_set_package_meta_data (GValue* value,
                                                               gpointer v_object) G_GNUC_UNUSED;
static void valadoc_drivers_tree_builder_value_take_package_meta_data (GValue* value,
                                                                gpointer v_object) G_GNUC_UNUSED;
static gpointer valadoc_drivers_tree_builder_value_get_package_meta_data (const GValue* value) G_GNUC_UNUSED;
static GType valadoc_drivers_tree_builder_package_meta_data_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
#define VALADOC_DRIVERS_TREE_BUILDER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), VALADOC_DRIVERS_TYPE_TREE_BUILDER, ValadocDriversTreeBuilderPrivate))
ValadocApiClass* valadoc_drivers_tree_builder_get_glib_error (ValadocDriversTreeBuilder* self);
ValaHashMap* valadoc_drivers_tree_builder_get_symbol_map (ValadocDriversTreeBuilder* self);
static ValadocApiPointer* valadoc_drivers_tree_builder_create_pointer (ValadocDriversTreeBuilder* self,
                                                                ValaPointerType* vtyperef,
                                                                ValadocApiItem* parent,
                                                                ValadocApiNode* caller);
static ValadocApiArray* valadoc_drivers_tree_builder_create_array (ValadocDriversTreeBuilder* self,
                                                            ValaArrayType* vtyperef,
                                                            ValadocApiItem* parent,
                                                            ValadocApiNode* caller);
static ValadocApiTypeReference* valadoc_drivers_tree_builder_create_type_reference (ValadocDriversTreeBuilder* self,
                                                                             ValaDataType* vtyperef,
                                                                             ValadocApiItem* parent,
                                                                             ValadocApiNode* caller);
static gboolean valadoc_drivers_tree_builder_type_reference_pass_ownership (ValadocDriversTreeBuilder* self,
                                                                     ValaDataType* element);
static ValadocApiOwnership valadoc_drivers_tree_builder_get_type_reference_ownership (ValadocDriversTreeBuilder* self,
                                                                               ValaDataType* element);
static void valadoc_drivers_tree_builder_process_attributes (ValadocDriversTreeBuilder* self,
                                                      ValadocApiSymbol* parent,
                                                      GList* lst);
static gboolean _vala_string_array_contains (gchar* * stack,
                                      int stack_length,
                                      gchar* needle);
static gchar* valadoc_drivers_tree_builder_get_ccode_type_id (ValadocDriversTreeBuilder* self,
                                                       ValaCodeNode* node);
static gboolean valadoc_drivers_tree_builder_is_reference_counting (ValadocDriversTreeBuilder* self,
                                                             ValaTypeSymbol* sym);
static gchar* valadoc_drivers_tree_builder_get_ref_function (ValadocDriversTreeBuilder* self,
                                                      ValaClass* sym);
static gchar* valadoc_drivers_tree_builder_get_unref_function (ValadocDriversTreeBuilder* self,
                                                        ValaClass* sym);
static gchar* valadoc_drivers_tree_builder_get_finalize_function_name (ValadocDriversTreeBuilder* self,
                                                                ValaClass* element);
static gchar* valadoc_drivers_tree_builder_get_free_function_name (ValadocDriversTreeBuilder* self,
                                                            ValaClass* element);
static gchar* valadoc_drivers_tree_builder_get_finish_name (ValadocDriversTreeBuilder* self,
                                                     ValaMethod* m);
static gchar* valadoc_drivers_tree_builder_get_take_value_function (ValadocDriversTreeBuilder* self,
                                                             ValaClass* sym);
static gchar* valadoc_drivers_tree_builder_get_get_value_function (ValadocDriversTreeBuilder* self,
                                                            ValaClass* sym);
static gchar* valadoc_drivers_tree_builder_get_set_value_function (ValadocDriversTreeBuilder* self,
                                                            ValaClass* sym);
static gchar* valadoc_drivers_tree_builder_get_param_spec_function (ValadocDriversTreeBuilder* self,
                                                             ValaCodeNode* sym);
static gchar* valadoc_drivers_tree_builder_get_dup_function (ValadocDriversTreeBuilder* self,
                                                      ValaTypeSymbol* sym);
static gchar* valadoc_drivers_tree_builder_get_copy_function (ValadocDriversTreeBuilder* self,
                                                       ValaTypeSymbol* sym);
static gchar* valadoc_drivers_tree_builder_get_destroy_function (ValadocDriversTreeBuilder* self,
                                                          ValaTypeSymbol* sym);
static gchar* valadoc_drivers_tree_builder_get_free_function (ValadocDriversTreeBuilder* self,
                                                       ValaTypeSymbol* sym);
static gchar* valadoc_drivers_tree_builder_get_cname (ValadocDriversTreeBuilder* self,
                                               ValaSymbol* symbol);
static ValadocApiSourceComment* valadoc_drivers_tree_builder_create_comment (ValadocDriversTreeBuilder* self,
                                                                      ValaComment* comment);
static gchar* valadoc_drivers_tree_builder_get_method_name (ValadocDriversTreeBuilder* self,
                                                     ValaMethod* element);
static gchar* valadoc_drivers_tree_builder_get_quark_macro_name (ValadocDriversTreeBuilder* self,
                                                          ValaErrorDomain* element);
static gchar* valadoc_drivers_tree_builder_get_private_cname (ValadocDriversTreeBuilder* self,
                                                       ValaClass* element);
static gchar* valadoc_drivers_tree_builder_get_class_macro_name (ValadocDriversTreeBuilder* self,
                                                          ValaClass* element);
static gchar* valadoc_drivers_tree_builder_get_class_type_macro_name (ValadocDriversTreeBuilder* self,
                                                               ValaClass* element);
static gchar* valadoc_drivers_tree_builder_get_is_type_macro_name (ValadocDriversTreeBuilder* self,
                                                            ValaTypeSymbol* element);
static gchar* valadoc_drivers_tree_builder_get_is_class_type_macro_name (ValadocDriversTreeBuilder* self,
                                                                  ValaTypeSymbol* element);
static gchar* valadoc_drivers_tree_builder_get_type_function_name (ValadocDriversTreeBuilder* self,
                                                            ValaTypeSymbol* element);
static gchar* valadoc_drivers_tree_builder_get_type_macro_name (ValadocDriversTreeBuilder* self,
                                                         ValaTypeSymbol* element);
static gchar* valadoc_drivers_tree_builder_get_type_cast_macro_name (ValadocDriversTreeBuilder* self,
                                                              ValaTypeSymbol* element);
static gchar* valadoc_drivers_tree_builder_get_interface_macro_name (ValadocDriversTreeBuilder* self,
                                                              ValaInterface* element);
static gchar* valadoc_drivers_tree_builder_get_quark_function_name (ValadocDriversTreeBuilder* self,
                                                             ValaErrorDomain* element);
static ValadocDriversTreeBuilderPackageMetaData* valadoc_drivers_tree_builder_get_package_meta_data (ValadocDriversTreeBuilder* self,
                                                                                              ValadocApiPackage* pkg);
static ValadocDriversTreeBuilderPackageMetaData* valadoc_drivers_tree_builder_register_package (ValadocDriversTreeBuilder* self,
                                                                                         ValadocApiPackage* package);
static ValadocDriversTreeBuilderPackageMetaData* valadoc_drivers_tree_builder_package_meta_data_new (ValadocApiPackage* package);
static ValadocDriversTreeBuilderPackageMetaData* valadoc_drivers_tree_builder_package_meta_data_construct (GType object_type,
                                                                                                    ValadocApiPackage* package);
static ValadocApiSourceFile* valadoc_drivers_tree_builder_register_source_file (ValadocDriversTreeBuilder* self,
                                                                         ValadocDriversTreeBuilderPackageMetaData* meta_data,
                                                                         ValaSourceFile* source_file);
static void valadoc_drivers_tree_builder_package_meta_data_register_source_file (ValadocDriversTreeBuilderPackageMetaData* self,
                                                                          ValaSourceFile* file);
static ValadocApiSourceFile* valadoc_drivers_tree_builder_get_source_file (ValadocDriversTreeBuilder* self,
                                                                    ValaSymbol* symbol);
static ValadocApiPackage* valadoc_drivers_tree_builder_find_package_for_file (ValadocDriversTreeBuilder* self,
                                                                       ValaSourceFile* source_file);
static gboolean valadoc_drivers_tree_builder_package_meta_data_is_package_for_file (ValadocDriversTreeBuilderPackageMetaData* self,
                                                                             ValaSourceFile* source_file);
static ValadocApiNamespace* valadoc_drivers_tree_builder_get_namespace (ValadocDriversTreeBuilder* self,
                                                                 ValadocApiPackage* pkg,
                                                                 ValaSymbol* symbol,
                                                                 ValadocApiSourceFile* file);
static ValadocApiNamespace* valadoc_drivers_tree_builder_package_meta_data_get_namespace (ValadocDriversTreeBuilderPackageMetaData* self,
                                                                                   ValaNamespace* vns,
                                                                                   ValadocApiSourceFile* file);
static ValadocMethodBindingType valadoc_drivers_tree_builder_get_method_binding_type (ValadocDriversTreeBuilder* self,
                                                                               ValaMethod* element);
static ValadocApiSymbolAccessibility valadoc_drivers_tree_builder_get_access_modifier (ValadocDriversTreeBuilder* self,
                                                                                ValaSymbol* symbol);
static ValadocApiPropertyAccessorType valadoc_drivers_tree_builder_get_property_accessor_type (ValadocDriversTreeBuilder* self,
                                                                                        ValaPropertyAccessor* element);
static gboolean valadoc_drivers_tree_builder_is_type_reference_unowned (ValadocDriversTreeBuilder* self,
                                                                 ValaDataType* element);
static gboolean valadoc_drivers_tree_builder_is_type_reference_owned (ValadocDriversTreeBuilder* self,
                                                               ValaDataType* element);
static gboolean valadoc_drivers_tree_builder_is_type_reference_weak (ValadocDriversTreeBuilder* self,
                                                              ValaDataType* element);
static ValadocApiOwnership valadoc_drivers_tree_builder_get_property_ownership (ValadocDriversTreeBuilder* self,
                                                                         ValaPropertyAccessor* element);
static ValadocApiPropertyBindingType valadoc_drivers_tree_builder_get_property_binding_type (ValadocDriversTreeBuilder* self,
                                                                                      ValaProperty* element);
static ValadocApiFormalParameterType valadoc_drivers_tree_builder_get_formal_parameter_type (ValadocDriversTreeBuilder* self,
                                                                                      ValaParameter* element);
static gchar* valadoc_drivers_tree_builder_get_package_name (ValadocDriversTreeBuilder* self,
                                                      const gchar* path);
static gboolean valadoc_drivers_tree_builder_add_package (ValadocDriversTreeBuilder* self,
                                                   ValaCodeContext* context,
                                                   const gchar* pkg);
static void valadoc_drivers_tree_builder_add_deps (ValadocDriversTreeBuilder* self,
                                            ValaCodeContext* context,
                                            const gchar* file_path,
                                            const gchar* pkg_name);
static void valadoc_drivers_tree_builder_add_depencies (ValadocDriversTreeBuilder* self,
                                                 ValaCodeContext* context,
                                                 gchar** packages,
                                                 int packages_length1);
static void valadoc_drivers_tree_builder_add_documented_files (ValadocDriversTreeBuilder* self,
                                                        ValaCodeContext* context,
                                                        gchar** sources,
                                                        int sources_length1);
static ValaCodeContext* valadoc_drivers_tree_builder_create_valac_tree (ValadocDriversTreeBuilder* self,
                                                                 ValadocSettings* settings);
static void valadoc_drivers_tree_builder_process_children (ValadocDriversTreeBuilder* self,
                                                    ValadocApiNode* node,
                                                    ValaCodeNode* element);
static ValadocApiNode* valadoc_drivers_tree_builder_get_parent_node_for (ValadocDriversTreeBuilder* self,
                                                                  ValaSymbol* element);
static void valadoc_drivers_tree_builder_real_visit_namespace (ValaCodeVisitor* base,
                                                        ValaNamespace* element);
static void valadoc_drivers_tree_builder_real_visit_class (ValaCodeVisitor* base,
                                                    ValaClass* element);
static void valadoc_drivers_tree_builder_real_visit_interface (ValaCodeVisitor* base,
                                                        ValaInterface* element);
static void valadoc_drivers_tree_builder_real_visit_struct (ValaCodeVisitor* base,
                                                     ValaStruct* element);
static void valadoc_drivers_tree_builder_real_visit_field (ValaCodeVisitor* base,
                                                    ValaField* element);
static void valadoc_drivers_tree_builder_real_visit_property (ValaCodeVisitor* base,
                                                       ValaProperty* element);
static void valadoc_drivers_tree_builder_real_visit_creation_method (ValaCodeVisitor* base,
                                                              ValaCreationMethod* element);
static void valadoc_drivers_tree_builder_real_visit_method (ValaCodeVisitor* base,
                                                     ValaMethod* element);
static void valadoc_drivers_tree_builder_real_visit_signal (ValaCodeVisitor* base,
                                                     ValaSignal* element);
static void valadoc_drivers_tree_builder_real_visit_delegate (ValaCodeVisitor* base,
                                                       ValaDelegate* element);
static void valadoc_drivers_tree_builder_real_visit_enum (ValaCodeVisitor* base,
                                                   ValaEnum* element);
static void valadoc_drivers_tree_builder_real_visit_enum_value (ValaCodeVisitor* base,
                                                         ValaEnumValue* element);
static void valadoc_drivers_tree_builder_real_visit_constant (ValaCodeVisitor* base,
                                                       ValaConstant* element);
static void valadoc_drivers_tree_builder_real_visit_error_domain (ValaCodeVisitor* base,
                                                           ValaErrorDomain* element);
static void valadoc_drivers_tree_builder_real_visit_error_code (ValaCodeVisitor* base,
                                                         ValaErrorCode* element);
static void valadoc_drivers_tree_builder_real_visit_type_parameter (ValaCodeVisitor* base,
                                                             ValaTypeParameter* element);
static void valadoc_drivers_tree_builder_real_visit_formal_parameter (ValaCodeVisitor* base,
                                                               ValaParameter* element);
ValadocApiTree* valadoc_drivers_tree_builder_build (ValadocDriversTreeBuilder* self,
                                                    ValadocSettings* settings,
                                                    ValadocErrorReporter* reporter);
ValadocDriversTreeBuilder* valadoc_drivers_tree_builder_new (void);
ValadocDriversTreeBuilder* valadoc_drivers_tree_builder_construct (GType object_type);
static void valadoc_drivers_tree_builder_package_meta_data_finalize (ValadocDriversTreeBuilderPackageMetaData * obj);
static void valadoc_drivers_tree_builder_finalize (ValaCodeVisitor * obj);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}


ValadocApiClass*
valadoc_drivers_tree_builder_get_glib_error (ValadocDriversTreeBuilder* self)
{
	ValadocApiClass* result = NULL;
	ValadocApiClass* _tmp0_;
	ValadocApiClass* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->glib_error;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


static gpointer
_vala_map_ref0 (gpointer self)
{
	return self ? vala_map_ref (self) : NULL;
}


ValaHashMap*
valadoc_drivers_tree_builder_get_symbol_map (ValadocDriversTreeBuilder* self)
{
	ValaHashMap* result = NULL;
	ValaHashMap* _tmp0_;
	ValaHashMap* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->symbol_map;
	_tmp1_ = _vala_map_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


static gpointer
_vala_code_node_ref0 (gpointer self)
{
	return self ? vala_code_node_ref (self) : NULL;
}


static ValadocApiPointer*
valadoc_drivers_tree_builder_create_pointer (ValadocDriversTreeBuilder* self,
                                             ValaPointerType* vtyperef,
                                             ValadocApiItem* parent,
                                             ValadocApiNode* caller)
{
	ValadocApiPointer* result = NULL;
	ValadocApiPointer* ptr = NULL;
	ValadocApiPointer* _tmp0_;
	ValaDataType* vntype = NULL;
	ValaDataType* _tmp1_;
	ValaDataType* _tmp2_;
	ValaDataType* _tmp3_;
	ValaDataType* _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (vtyperef != NULL, NULL);
	g_return_val_if_fail (parent != NULL, NULL);
	g_return_val_if_fail (caller != NULL, NULL);
	_tmp0_ = valadoc_api_pointer_new (parent, vtyperef);
	ptr = _tmp0_;
	_tmp1_ = vala_pointer_type_get_base_type (vtyperef);
	_tmp2_ = _tmp1_;
	_tmp3_ = _vala_code_node_ref0 (_tmp2_);
	vntype = _tmp3_;
	_tmp4_ = vntype;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_POINTER_TYPE)) {
		ValadocApiPointer* _tmp5_;
		ValaDataType* _tmp6_;
		ValadocApiPointer* _tmp7_;
		ValadocApiPointer* _tmp8_;
		ValadocApiPointer* _tmp9_;
		_tmp5_ = ptr;
		_tmp6_ = vntype;
		_tmp7_ = ptr;
		_tmp8_ = valadoc_drivers_tree_builder_create_pointer (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, VALA_TYPE_POINTER_TYPE, ValaPointerType), (ValadocApiItem*) _tmp7_, caller);
		_tmp9_ = _tmp8_;
		valadoc_api_pointer_set_data_type (_tmp5_, (ValadocApiItem*) _tmp9_);
		_g_object_unref0 (_tmp9_);
	} else {
		ValaDataType* _tmp10_;
		_tmp10_ = vntype;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, VALA_TYPE_ARRAY_TYPE)) {
			ValadocApiPointer* _tmp11_;
			ValaDataType* _tmp12_;
			ValadocApiPointer* _tmp13_;
			ValadocApiArray* _tmp14_;
			ValadocApiArray* _tmp15_;
			_tmp11_ = ptr;
			_tmp12_ = vntype;
			_tmp13_ = ptr;
			_tmp14_ = valadoc_drivers_tree_builder_create_array (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, VALA_TYPE_ARRAY_TYPE, ValaArrayType), (ValadocApiItem*) _tmp13_, caller);
			_tmp15_ = _tmp14_;
			valadoc_api_pointer_set_data_type (_tmp11_, (ValadocApiItem*) _tmp15_);
			_g_object_unref0 (_tmp15_);
		} else {
			ValadocApiPointer* _tmp16_;
			ValaDataType* _tmp17_;
			ValadocApiPointer* _tmp18_;
			ValadocApiTypeReference* _tmp19_;
			ValadocApiTypeReference* _tmp20_;
			_tmp16_ = ptr;
			_tmp17_ = vntype;
			_tmp18_ = ptr;
			_tmp19_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp17_, (ValadocApiItem*) _tmp18_, caller);
			_tmp20_ = _tmp19_;
			valadoc_api_pointer_set_data_type (_tmp16_, (ValadocApiItem*) _tmp20_);
			_g_object_unref0 (_tmp20_);
		}
	}
	result = ptr;
	_vala_code_node_unref0 (vntype);
	return result;
}


static ValadocApiArray*
valadoc_drivers_tree_builder_create_array (ValadocDriversTreeBuilder* self,
                                           ValaArrayType* vtyperef,
                                           ValadocApiItem* parent,
                                           ValadocApiNode* caller)
{
	ValadocApiArray* result = NULL;
	ValadocApiArray* arr = NULL;
	ValadocApiArray* _tmp0_;
	ValaDataType* vntype = NULL;
	ValaDataType* _tmp1_;
	ValaDataType* _tmp2_;
	ValaDataType* _tmp3_;
	ValaDataType* _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (vtyperef != NULL, NULL);
	g_return_val_if_fail (parent != NULL, NULL);
	g_return_val_if_fail (caller != NULL, NULL);
	_tmp0_ = valadoc_api_array_new (parent, vtyperef);
	arr = _tmp0_;
	_tmp1_ = vala_array_type_get_element_type (vtyperef);
	_tmp2_ = _tmp1_;
	_tmp3_ = _vala_code_node_ref0 (_tmp2_);
	vntype = _tmp3_;
	_tmp4_ = vntype;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_ARRAY_TYPE)) {
		ValadocApiArray* _tmp5_;
		ValaDataType* _tmp6_;
		ValadocApiArray* _tmp7_;
		ValadocApiArray* _tmp8_;
		ValadocApiArray* _tmp9_;
		_tmp5_ = arr;
		_tmp6_ = vntype;
		_tmp7_ = arr;
		_tmp8_ = valadoc_drivers_tree_builder_create_array (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, VALA_TYPE_ARRAY_TYPE, ValaArrayType), (ValadocApiItem*) _tmp7_, caller);
		_tmp9_ = _tmp8_;
		valadoc_api_array_set_data_type (_tmp5_, (ValadocApiItem*) _tmp9_);
		_g_object_unref0 (_tmp9_);
	} else {
		ValadocApiArray* _tmp10_;
		ValaDataType* _tmp11_;
		ValadocApiArray* _tmp12_;
		ValadocApiTypeReference* _tmp13_;
		ValadocApiTypeReference* _tmp14_;
		_tmp10_ = arr;
		_tmp11_ = vntype;
		_tmp12_ = arr;
		_tmp13_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp11_, (ValadocApiItem*) _tmp12_, caller);
		_tmp14_ = _tmp13_;
		valadoc_api_array_set_data_type (_tmp10_, (ValadocApiItem*) _tmp14_);
		_g_object_unref0 (_tmp14_);
	}
	result = arr;
	_vala_code_node_unref0 (vntype);
	return result;
}


static ValadocApiTypeReference*
valadoc_drivers_tree_builder_create_type_reference (ValadocDriversTreeBuilder* self,
                                                    ValaDataType* vtyperef,
                                                    ValadocApiItem* parent,
                                                    ValadocApiNode* caller)
{
	ValadocApiTypeReference* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean is_nullable = FALSE;
	gchar* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	gchar* signature = NULL;
	gchar* _tmp12_;
	gboolean pass_ownership = FALSE;
	ValadocApiOwnership ownership = 0;
	gboolean _tmp13_ = FALSE;
	gboolean is_dynamic = FALSE;
	ValadocApiTypeReference* type_ref = NULL;
	ValadocApiOwnership _tmp16_;
	gboolean _tmp17_;
	gboolean _tmp18_;
	gboolean _tmp19_;
	const gchar* _tmp20_;
	ValadocApiTypeReference* _tmp21_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (parent != NULL, NULL);
	g_return_val_if_fail (caller != NULL, NULL);
	if (vtyperef != NULL) {
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp3_ = vala_data_type_get_nullable (vtyperef);
		_tmp4_ = _tmp3_;
		_tmp2_ = _tmp4_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		_tmp1_ = !G_TYPE_CHECK_INSTANCE_TYPE (vtyperef, VALA_TYPE_GENERIC_TYPE);
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		_tmp0_ = !G_TYPE_CHECK_INSTANCE_TYPE (vtyperef, VALA_TYPE_POINTER_TYPE);
	} else {
		_tmp0_ = FALSE;
	}
	is_nullable = _tmp0_;
	if (vtyperef != NULL) {
		ValaTypeSymbol* _tmp7_;
		ValaTypeSymbol* _tmp8_;
		_tmp7_ = vala_data_type_get_data_type (vtyperef);
		_tmp8_ = _tmp7_;
		_tmp6_ = _tmp8_ != NULL;
	} else {
		_tmp6_ = FALSE;
	}
	if (_tmp6_) {
		ValaTypeSymbol* _tmp9_;
		ValaTypeSymbol* _tmp10_;
		gchar* _tmp11_;
		_tmp9_ = vala_data_type_get_data_type (vtyperef);
		_tmp10_ = _tmp9_;
		_tmp11_ = vala_gvariant_module_get_dbus_signature ((ValaSymbol*) _tmp10_);
		_g_free0 (_tmp5_);
		_tmp5_ = _tmp11_;
	} else {
		_g_free0 (_tmp5_);
		_tmp5_ = NULL;
	}
	_tmp12_ = g_strdup (_tmp5_);
	signature = _tmp12_;
	pass_ownership = valadoc_drivers_tree_builder_type_reference_pass_ownership (self, vtyperef);
	ownership = valadoc_drivers_tree_builder_get_type_reference_ownership (self, vtyperef);
	if (vtyperef != NULL) {
		gboolean _tmp14_;
		gboolean _tmp15_;
		_tmp14_ = vala_data_type_get_is_dynamic (vtyperef);
		_tmp15_ = _tmp14_;
		_tmp13_ = _tmp15_;
	} else {
		_tmp13_ = FALSE;
	}
	is_dynamic = _tmp13_;
	_tmp16_ = ownership;
	_tmp17_ = pass_ownership;
	_tmp18_ = is_dynamic;
	_tmp19_ = is_nullable;
	_tmp20_ = signature;
	_tmp21_ = valadoc_api_typereference_new (parent, _tmp16_, _tmp17_, _tmp18_, _tmp19_, _tmp20_, vtyperef);
	type_ref = _tmp21_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (vtyperef, VALA_TYPE_POINTER_TYPE)) {
		ValadocApiTypeReference* _tmp22_;
		ValadocApiTypeReference* _tmp23_;
		ValadocApiPointer* _tmp24_;
		ValadocApiPointer* _tmp25_;
		_tmp22_ = type_ref;
		_tmp23_ = type_ref;
		_tmp24_ = valadoc_drivers_tree_builder_create_pointer (self, G_TYPE_CHECK_INSTANCE_CAST (vtyperef, VALA_TYPE_POINTER_TYPE, ValaPointerType), (ValadocApiItem*) _tmp23_, caller);
		_tmp25_ = _tmp24_;
		valadoc_api_typereference_set_data_type (_tmp22_, (ValadocApiItem*) _tmp25_);
		_g_object_unref0 (_tmp25_);
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (vtyperef, VALA_TYPE_ARRAY_TYPE)) {
			ValadocApiTypeReference* _tmp26_;
			ValadocApiTypeReference* _tmp27_;
			ValadocApiArray* _tmp28_;
			ValadocApiArray* _tmp29_;
			_tmp26_ = type_ref;
			_tmp27_ = type_ref;
			_tmp28_ = valadoc_drivers_tree_builder_create_array (self, G_TYPE_CHECK_INSTANCE_CAST (vtyperef, VALA_TYPE_ARRAY_TYPE, ValaArrayType), (ValadocApiItem*) _tmp27_, caller);
			_tmp29_ = _tmp28_;
			valadoc_api_typereference_set_data_type (_tmp26_, (ValadocApiItem*) _tmp29_);
			_g_object_unref0 (_tmp29_);
		}
	}
	if (vtyperef != NULL) {
		{
			ValaList* _vdtype_list = NULL;
			ValaList* _tmp30_;
			gint _vdtype_size = 0;
			ValaList* _tmp31_;
			gint _tmp32_;
			gint _tmp33_;
			gint _vdtype_index = 0;
			_tmp30_ = vala_data_type_get_type_arguments (vtyperef);
			_vdtype_list = _tmp30_;
			_tmp31_ = _vdtype_list;
			_tmp32_ = vala_collection_get_size ((ValaCollection*) _tmp31_);
			_tmp33_ = _tmp32_;
			_vdtype_size = _tmp33_;
			_vdtype_index = -1;
			while (TRUE) {
				gint _tmp34_;
				gint _tmp35_;
				gint _tmp36_;
				ValaDataType* vdtype = NULL;
				ValaList* _tmp37_;
				gint _tmp38_;
				gpointer _tmp39_;
				ValadocApiTypeReference* type_param = NULL;
				ValaDataType* _tmp40_;
				ValadocApiTypeReference* _tmp41_;
				ValadocApiTypeReference* _tmp42_;
				ValadocApiTypeReference* _tmp43_;
				ValadocApiTypeReference* _tmp44_;
				_tmp34_ = _vdtype_index;
				_vdtype_index = _tmp34_ + 1;
				_tmp35_ = _vdtype_index;
				_tmp36_ = _vdtype_size;
				if (!(_tmp35_ < _tmp36_)) {
					break;
				}
				_tmp37_ = _vdtype_list;
				_tmp38_ = _vdtype_index;
				_tmp39_ = vala_list_get (_tmp37_, _tmp38_);
				vdtype = (ValaDataType*) _tmp39_;
				_tmp40_ = vdtype;
				_tmp41_ = type_ref;
				_tmp42_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp40_, (ValadocApiItem*) _tmp41_, caller);
				type_param = _tmp42_;
				_tmp43_ = type_ref;
				_tmp44_ = type_param;
				valadoc_api_typereference_add_type_argument (_tmp43_, _tmp44_);
				_g_object_unref0 (type_param);
				_vala_code_node_unref0 (vdtype);
			}
			_vala_iterable_unref0 (_vdtype_list);
		}
	}
	result = type_ref;
	_g_free0 (signature);
	_g_free0 (_tmp5_);
	return result;
}


static gboolean
bool_parse (const gchar* str)
{
	gboolean result = FALSE;
	g_return_val_if_fail (str != NULL, FALSE);
	if (g_strcmp0 (str, "true") == 0) {
		result = TRUE;
		return result;
	} else {
		result = FALSE;
		return result;
	}
}


static gboolean
_vala_string_array_contains (gchar* * stack,
                             int stack_length,
                             gchar* needle)
{
	int i;
	for (i = 0; i < stack_length; i++) {
		if (g_strcmp0 (stack[i], needle) == 0) {
			return TRUE;
		}
	}
	return FALSE;
}


static void
valadoc_drivers_tree_builder_process_attributes (ValadocDriversTreeBuilder* self,
                                                 ValadocApiSymbol* parent,
                                                 GList* lst)
{
	gchar** attributes = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar** _tmp22_;
	gint attributes_length1;
	gint _attributes_size_;
	gchar* tmp = NULL;
	gchar* _tmp23_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (parent != NULL);
	_tmp0_ = g_strdup ("ReturnsModifiedPointer");
	_tmp1_ = g_strdup ("DestroysInstance");
	_tmp2_ = g_strdup ("GenericAccessors");
	_tmp3_ = g_strdup ("NoAccessorMethod");
	_tmp4_ = g_strdup ("NoArrayLength");
	_tmp5_ = g_strdup ("Experimental");
	_tmp6_ = g_strdup ("Diagnostics");
	_tmp7_ = g_strdup ("PrintfFormat");
	_tmp8_ = g_strdup ("PointerType");
	_tmp9_ = g_strdup ("ScanfFormat");
	_tmp10_ = g_strdup ("ThreadLocal");
	_tmp11_ = g_strdup ("SimpleType");
	_tmp12_ = g_strdup ("HasEmitter");
	_tmp13_ = g_strdup ("ModuleInit");
	_tmp14_ = g_strdup ("NoWrapper");
	_tmp15_ = g_strdup ("Immutable");
	_tmp16_ = g_strdup ("ErrorBase");
	_tmp17_ = g_strdup ("NoReturn");
	_tmp18_ = g_strdup ("NoThrow");
	_tmp19_ = g_strdup ("Compact");
	_tmp20_ = g_strdup ("Assert");
	_tmp21_ = g_strdup ("Flags");
	_tmp22_ = g_new0 (gchar*, 22 + 1);
	_tmp22_[0] = _tmp0_;
	_tmp22_[1] = _tmp1_;
	_tmp22_[2] = _tmp2_;
	_tmp22_[3] = _tmp3_;
	_tmp22_[4] = _tmp4_;
	_tmp22_[5] = _tmp5_;
	_tmp22_[6] = _tmp6_;
	_tmp22_[7] = _tmp7_;
	_tmp22_[8] = _tmp8_;
	_tmp22_[9] = _tmp9_;
	_tmp22_[10] = _tmp10_;
	_tmp22_[11] = _tmp11_;
	_tmp22_[12] = _tmp12_;
	_tmp22_[13] = _tmp13_;
	_tmp22_[14] = _tmp14_;
	_tmp22_[15] = _tmp15_;
	_tmp22_[16] = _tmp16_;
	_tmp22_[17] = _tmp17_;
	_tmp22_[18] = _tmp18_;
	_tmp22_[19] = _tmp19_;
	_tmp22_[20] = _tmp20_;
	_tmp22_[21] = _tmp21_;
	attributes = _tmp22_;
	attributes_length1 = 22;
	_attributes_size_ = attributes_length1;
	_tmp23_ = g_strdup ("");
	tmp = _tmp23_;
	{
		GList* att_collection = NULL;
		GList* att_it = NULL;
		att_collection = lst;
		for (att_it = att_collection; att_it != NULL; att_it = att_it->next) {
			ValaAttribute* _tmp24_;
			ValaAttribute* att = NULL;
			_tmp24_ = _vala_code_node_ref0 ((ValaAttribute*) att_it->data);
			att = _tmp24_;
			{
				gboolean _tmp25_ = FALSE;
				gboolean _tmp26_ = FALSE;
				ValaAttribute* _tmp27_;
				const gchar* _tmp28_;
				const gchar* _tmp29_;
				_tmp27_ = att;
				_tmp28_ = vala_attribute_get_name (_tmp27_);
				_tmp29_ = _tmp28_;
				if (g_strcmp0 (_tmp29_, "CCode") == 0) {
					ValaAttribute* _tmp30_;
					ValaMap* _tmp31_;
					ValaMap* _tmp32_;
					gpointer _tmp33_;
					const gchar* _tmp34_;
					_tmp30_ = att;
					_tmp31_ = vala_attribute_get_args (_tmp30_);
					_tmp32_ = _tmp31_;
					_tmp33_ = vala_map_get (_tmp32_, "has_target");
					_g_free0 (tmp);
					tmp = (gchar*) _tmp33_;
					_tmp34_ = tmp;
					_tmp26_ = _tmp34_ != NULL;
				} else {
					_tmp26_ = FALSE;
				}
				if (_tmp26_) {
					const gchar* _tmp35_;
					_tmp35_ = tmp;
					_tmp25_ = g_strcmp0 (_tmp35_, "false") == 0;
				} else {
					_tmp25_ = FALSE;
				}
				if (_tmp25_) {
					ValadocApiAttribute* new_attribute = NULL;
					ValadocApiSourceFile* _tmp36_;
					ValadocApiSourceFile* _tmp37_;
					ValaAttribute* _tmp38_;
					const gchar* _tmp39_;
					const gchar* _tmp40_;
					ValaAttribute* _tmp41_;
					ValadocApiAttribute* _tmp42_;
					ValadocApiAttribute* _tmp43_;
					ValadocApiAttribute* _tmp44_;
					ValaAttribute* _tmp45_;
					ValadocApiAttributeArgument* _tmp46_;
					ValadocApiAttributeArgument* _tmp47_;
					ValadocApiAttribute* _tmp48_;
					_tmp36_ = valadoc_api_node_get_source_file ((ValadocApiNode*) parent);
					_tmp37_ = _tmp36_;
					_tmp38_ = att;
					_tmp39_ = vala_attribute_get_name (_tmp38_);
					_tmp40_ = _tmp39_;
					_tmp41_ = att;
					_tmp42_ = valadoc_api_attribute_new ((ValadocApiNode*) parent, _tmp37_, _tmp40_, _tmp41_);
					_tmp43_ = _tmp42_;
					_g_object_unref0 (_tmp37_);
					new_attribute = _tmp43_;
					_tmp44_ = new_attribute;
					_tmp45_ = att;
					_tmp46_ = valadoc_api_attribute_add_boolean (_tmp44_, "has_target", FALSE, _tmp45_);
					_tmp47_ = _tmp46_;
					_g_object_unref0 (_tmp47_);
					_tmp48_ = new_attribute;
					valadoc_api_symbol_add_attribute (parent, _tmp48_);
					_g_object_unref0 (new_attribute);
				} else {
					ValaAttribute* _tmp49_;
					const gchar* _tmp50_;
					const gchar* _tmp51_;
					_tmp49_ = att;
					_tmp50_ = vala_attribute_get_name (_tmp49_);
					_tmp51_ = _tmp50_;
					if (g_strcmp0 (_tmp51_, "Version") == 0) {
						ValadocApiAttribute* new_attribute = NULL;
						ValadocApiSourceFile* _tmp52_;
						ValadocApiSourceFile* _tmp53_;
						ValaAttribute* _tmp54_;
						const gchar* _tmp55_;
						const gchar* _tmp56_;
						ValaAttribute* _tmp57_;
						ValadocApiAttribute* _tmp58_;
						ValadocApiAttribute* _tmp59_;
						ValaAttribute* _tmp60_;
						ValaMap* _tmp61_;
						ValaMap* _tmp62_;
						gpointer _tmp63_;
						const gchar* _tmp64_;
						ValaAttribute* _tmp70_;
						ValaMap* _tmp71_;
						ValaMap* _tmp72_;
						gpointer _tmp73_;
						const gchar* _tmp74_;
						ValaAttribute* _tmp80_;
						ValaMap* _tmp81_;
						ValaMap* _tmp82_;
						gpointer _tmp83_;
						const gchar* _tmp84_;
						ValaAttribute* _tmp100_;
						ValaMap* _tmp101_;
						ValaMap* _tmp102_;
						gpointer _tmp103_;
						const gchar* _tmp104_;
						ValadocApiAttribute* _tmp110_;
						_tmp52_ = valadoc_api_node_get_source_file ((ValadocApiNode*) parent);
						_tmp53_ = _tmp52_;
						_tmp54_ = att;
						_tmp55_ = vala_attribute_get_name (_tmp54_);
						_tmp56_ = _tmp55_;
						_tmp57_ = att;
						_tmp58_ = valadoc_api_attribute_new ((ValadocApiNode*) parent, _tmp53_, _tmp56_, _tmp57_);
						_tmp59_ = _tmp58_;
						_g_object_unref0 (_tmp53_);
						new_attribute = _tmp59_;
						_tmp60_ = att;
						_tmp61_ = vala_attribute_get_args (_tmp60_);
						_tmp62_ = _tmp61_;
						_tmp63_ = vala_map_get (_tmp62_, "deprecated");
						_g_free0 (tmp);
						tmp = (gchar*) _tmp63_;
						_tmp64_ = tmp;
						if (_tmp64_ != NULL) {
							ValadocApiAttribute* _tmp65_;
							const gchar* _tmp66_;
							ValaAttribute* _tmp67_;
							ValadocApiAttributeArgument* _tmp68_;
							ValadocApiAttributeArgument* _tmp69_;
							_tmp65_ = new_attribute;
							_tmp66_ = tmp;
							_tmp67_ = att;
							_tmp68_ = valadoc_api_attribute_add_boolean (_tmp65_, "deprecated", bool_parse (_tmp66_), _tmp67_);
							_tmp69_ = _tmp68_;
							_g_object_unref0 (_tmp69_);
						}
						_tmp70_ = att;
						_tmp71_ = vala_attribute_get_args (_tmp70_);
						_tmp72_ = _tmp71_;
						_tmp73_ = vala_map_get (_tmp72_, "since");
						_g_free0 (tmp);
						tmp = (gchar*) _tmp73_;
						_tmp74_ = tmp;
						if (_tmp74_ != NULL) {
							ValadocApiAttribute* _tmp75_;
							const gchar* _tmp76_;
							ValaAttribute* _tmp77_;
							ValadocApiAttributeArgument* _tmp78_;
							ValadocApiAttributeArgument* _tmp79_;
							_tmp75_ = new_attribute;
							_tmp76_ = tmp;
							_tmp77_ = att;
							_tmp78_ = valadoc_api_attribute_add_string (_tmp75_, "since", _tmp76_, _tmp77_);
							_tmp79_ = _tmp78_;
							_g_object_unref0 (_tmp79_);
						}
						_tmp80_ = att;
						_tmp81_ = vala_attribute_get_args (_tmp80_);
						_tmp82_ = _tmp81_;
						_tmp83_ = vala_map_get (_tmp82_, "deprecated_since");
						_g_free0 (tmp);
						tmp = (gchar*) _tmp83_;
						_tmp84_ = tmp;
						if (_tmp84_ != NULL) {
							ValadocApiAttribute* _tmp85_;
							const gchar* _tmp86_;
							ValaAttribute* _tmp87_;
							ValadocApiAttributeArgument* _tmp88_;
							ValadocApiAttributeArgument* _tmp89_;
							ValaAttribute* _tmp90_;
							ValaMap* _tmp91_;
							ValaMap* _tmp92_;
							gpointer _tmp93_;
							gchar* _tmp94_;
							gboolean _tmp95_;
							_tmp85_ = new_attribute;
							_tmp86_ = tmp;
							_tmp87_ = att;
							_tmp88_ = valadoc_api_attribute_add_string (_tmp85_, "deprecated_since", _tmp86_, _tmp87_);
							_tmp89_ = _tmp88_;
							_g_object_unref0 (_tmp89_);
							_tmp90_ = att;
							_tmp91_ = vala_attribute_get_args (_tmp90_);
							_tmp92_ = _tmp91_;
							_tmp93_ = vala_map_get (_tmp92_, "deprecated");
							_tmp94_ = (gchar*) _tmp93_;
							_tmp95_ = _tmp94_ == NULL;
							_g_free0 (_tmp94_);
							if (_tmp95_) {
								ValadocApiAttribute* _tmp96_;
								ValaAttribute* _tmp97_;
								ValadocApiAttributeArgument* _tmp98_;
								ValadocApiAttributeArgument* _tmp99_;
								_tmp96_ = new_attribute;
								_tmp97_ = att;
								_tmp98_ = valadoc_api_attribute_add_boolean (_tmp96_, "deprecated", TRUE, _tmp97_);
								_tmp99_ = _tmp98_;
								_g_object_unref0 (_tmp99_);
							}
						}
						_tmp100_ = att;
						_tmp101_ = vala_attribute_get_args (_tmp100_);
						_tmp102_ = _tmp101_;
						_tmp103_ = vala_map_get (_tmp102_, "replacement");
						_g_free0 (tmp);
						tmp = (gchar*) _tmp103_;
						_tmp104_ = tmp;
						if (_tmp104_ != NULL) {
							ValadocApiAttribute* _tmp105_;
							const gchar* _tmp106_;
							ValaAttribute* _tmp107_;
							ValadocApiAttributeArgument* _tmp108_;
							ValadocApiAttributeArgument* _tmp109_;
							_tmp105_ = new_attribute;
							_tmp106_ = tmp;
							_tmp107_ = att;
							_tmp108_ = valadoc_api_attribute_add_string (_tmp105_, "replacement", _tmp106_, _tmp107_);
							_tmp109_ = _tmp108_;
							_g_object_unref0 (_tmp109_);
						}
						_tmp110_ = new_attribute;
						valadoc_api_symbol_add_attribute (parent, _tmp110_);
						_g_object_unref0 (new_attribute);
					} else {
						ValaAttribute* _tmp111_;
						const gchar* _tmp112_;
						const gchar* _tmp113_;
						_tmp111_ = att;
						_tmp112_ = vala_attribute_get_name (_tmp111_);
						_tmp113_ = _tmp112_;
						if (g_strcmp0 (_tmp113_, "Deprecated") == 0) {
							ValadocApiAttribute* new_attribute = NULL;
							ValadocApiSourceFile* _tmp114_;
							ValadocApiSourceFile* _tmp115_;
							ValaAttribute* _tmp116_;
							const gchar* _tmp117_;
							const gchar* _tmp118_;
							ValaAttribute* _tmp119_;
							ValadocApiAttribute* _tmp120_;
							ValadocApiAttribute* _tmp121_;
							ValaAttribute* _tmp122_;
							ValaMap* _tmp123_;
							ValaMap* _tmp124_;
							gpointer _tmp125_;
							const gchar* _tmp126_;
							ValaAttribute* _tmp132_;
							ValaMap* _tmp133_;
							ValaMap* _tmp134_;
							gpointer _tmp135_;
							const gchar* _tmp136_;
							ValadocApiAttribute* _tmp142_;
							_tmp114_ = valadoc_api_node_get_source_file ((ValadocApiNode*) parent);
							_tmp115_ = _tmp114_;
							_tmp116_ = att;
							_tmp117_ = vala_attribute_get_name (_tmp116_);
							_tmp118_ = _tmp117_;
							_tmp119_ = att;
							_tmp120_ = valadoc_api_attribute_new ((ValadocApiNode*) parent, _tmp115_, _tmp118_, _tmp119_);
							_tmp121_ = _tmp120_;
							_g_object_unref0 (_tmp115_);
							new_attribute = _tmp121_;
							_tmp122_ = att;
							_tmp123_ = vala_attribute_get_args (_tmp122_);
							_tmp124_ = _tmp123_;
							_tmp125_ = vala_map_get (_tmp124_, "since");
							_g_free0 (tmp);
							tmp = (gchar*) _tmp125_;
							_tmp126_ = tmp;
							if (_tmp126_ != NULL) {
								ValadocApiAttribute* _tmp127_;
								const gchar* _tmp128_;
								ValaAttribute* _tmp129_;
								ValadocApiAttributeArgument* _tmp130_;
								ValadocApiAttributeArgument* _tmp131_;
								_tmp127_ = new_attribute;
								_tmp128_ = tmp;
								_tmp129_ = att;
								_tmp130_ = valadoc_api_attribute_add_string (_tmp127_, "since", _tmp128_, _tmp129_);
								_tmp131_ = _tmp130_;
								_g_object_unref0 (_tmp131_);
							}
							_tmp132_ = att;
							_tmp133_ = vala_attribute_get_args (_tmp132_);
							_tmp134_ = _tmp133_;
							_tmp135_ = vala_map_get (_tmp134_, "replacement");
							_g_free0 (tmp);
							tmp = (gchar*) _tmp135_;
							_tmp136_ = tmp;
							if (_tmp136_ != NULL) {
								ValadocApiAttribute* _tmp137_;
								const gchar* _tmp138_;
								ValaAttribute* _tmp139_;
								ValadocApiAttributeArgument* _tmp140_;
								ValadocApiAttributeArgument* _tmp141_;
								_tmp137_ = new_attribute;
								_tmp138_ = tmp;
								_tmp139_ = att;
								_tmp140_ = valadoc_api_attribute_add_string (_tmp137_, "replacement", _tmp138_, _tmp139_);
								_tmp141_ = _tmp140_;
								_g_object_unref0 (_tmp141_);
							}
							_tmp142_ = new_attribute;
							valadoc_api_symbol_add_attribute (parent, _tmp142_);
							_g_object_unref0 (new_attribute);
						} else {
							ValaAttribute* _tmp143_;
							const gchar* _tmp144_;
							const gchar* _tmp145_;
							gchar** _tmp146_;
							gint _tmp146__length1;
							_tmp143_ = att;
							_tmp144_ = vala_attribute_get_name (_tmp143_);
							_tmp145_ = _tmp144_;
							_tmp146_ = attributes;
							_tmp146__length1 = attributes_length1;
							if (_vala_string_array_contains (_tmp146_, _tmp146__length1, _tmp145_)) {
								ValadocApiAttribute* new_attribute = NULL;
								ValadocApiSourceFile* _tmp147_;
								ValadocApiSourceFile* _tmp148_;
								ValaAttribute* _tmp149_;
								const gchar* _tmp150_;
								const gchar* _tmp151_;
								ValaAttribute* _tmp152_;
								ValadocApiAttribute* _tmp153_;
								ValadocApiAttribute* _tmp154_;
								ValadocApiAttribute* _tmp155_;
								_tmp147_ = valadoc_api_node_get_source_file ((ValadocApiNode*) parent);
								_tmp148_ = _tmp147_;
								_tmp149_ = att;
								_tmp150_ = vala_attribute_get_name (_tmp149_);
								_tmp151_ = _tmp150_;
								_tmp152_ = att;
								_tmp153_ = valadoc_api_attribute_new ((ValadocApiNode*) parent, _tmp148_, _tmp151_, _tmp152_);
								_tmp154_ = _tmp153_;
								_g_object_unref0 (_tmp148_);
								new_attribute = _tmp154_;
								_tmp155_ = new_attribute;
								valadoc_api_symbol_add_attribute (parent, _tmp155_);
								_g_object_unref0 (new_attribute);
							}
						}
					}
				}
				_vala_code_node_unref0 (att);
			}
		}
	}
	_g_free0 (tmp);
	attributes = (_vala_array_free (attributes, attributes_length1, (GDestroyNotify) g_free), NULL);
}


static gchar*
valadoc_drivers_tree_builder_get_ccode_type_id (ValadocDriversTreeBuilder* self,
                                                ValaCodeNode* node)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = vala_get_ccode_type_id (node);
	result = _tmp0_;
	return result;
}


static gboolean
valadoc_drivers_tree_builder_is_reference_counting (ValadocDriversTreeBuilder* self,
                                                    ValaTypeSymbol* sym)
{
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sym != NULL, FALSE);
	result = vala_is_reference_counting (sym);
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_ref_function (ValadocDriversTreeBuilder* self,
                                               ValaClass* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_ref_function ((ValaTypeSymbol*) sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_unref_function (ValadocDriversTreeBuilder* self,
                                                 ValaClass* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_unref_function ((ValaObjectTypeSymbol*) sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_finalize_function_name (ValadocDriversTreeBuilder* self,
                                                         ValaClass* element)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	if (!vala_class_is_fundamental (element)) {
		result = NULL;
		return result;
	}
	_tmp0_ = vala_get_ccode_lower_case_name ((ValaCodeNode*) element, NULL);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("%s_finalize", _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_free_function_name (ValadocDriversTreeBuilder* self,
                                                     ValaClass* element)
{
	gchar* result = NULL;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_class_get_is_compact (element);
	_tmp1_ = _tmp0_;
	if (!_tmp1_) {
		result = NULL;
		return result;
	}
	_tmp2_ = vala_get_ccode_free_function ((ValaTypeSymbol*) element);
	result = _tmp2_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_finish_name (ValadocDriversTreeBuilder* self,
                                              ValaMethod* m)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	_tmp0_ = vala_get_ccode_finish_name (m);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_take_value_function (ValadocDriversTreeBuilder* self,
                                                      ValaClass* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_take_value_function ((ValaCodeNode*) sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_get_value_function (ValadocDriversTreeBuilder* self,
                                                     ValaClass* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_get_value_function ((ValaCodeNode*) sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_set_value_function (ValadocDriversTreeBuilder* self,
                                                     ValaClass* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_set_value_function ((ValaCodeNode*) sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_param_spec_function (ValadocDriversTreeBuilder* self,
                                                      ValaCodeNode* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_param_spec_function (sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_dup_function (ValadocDriversTreeBuilder* self,
                                               ValaTypeSymbol* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_dup_function (sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_copy_function (ValadocDriversTreeBuilder* self,
                                                ValaTypeSymbol* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_copy_function (sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_destroy_function (ValadocDriversTreeBuilder* self,
                                                   ValaTypeSymbol* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_destroy_function (sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_free_function (ValadocDriversTreeBuilder* self,
                                                ValaTypeSymbol* sym)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = vala_get_ccode_free_function (sym);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_cname (ValadocDriversTreeBuilder* self,
                                        ValaSymbol* symbol)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (symbol != NULL, NULL);
	_tmp0_ = vala_get_ccode_name ((ValaCodeNode*) symbol);
	result = _tmp0_;
	return result;
}


static gpointer
_vala_source_reference_ref0 (gpointer self)
{
	return self ? vala_source_reference_ref (self) : NULL;
}


static ValadocApiSourceComment*
valadoc_drivers_tree_builder_create_comment (ValadocDriversTreeBuilder* self,
                                             ValaComment* comment)
{
	ValadocApiSourceComment* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	if (comment != NULL) {
		ValaSourceReference* pos = NULL;
		ValaSourceReference* _tmp0_;
		ValaSourceReference* _tmp1_;
		ValaSourceReference* _tmp2_;
		ValadocApiSourceFile* file = NULL;
		ValaHashMap* _tmp3_;
		ValaSourceReference* _tmp4_;
		ValaSourceFile* _tmp5_;
		ValaSourceFile* _tmp6_;
		gpointer _tmp7_;
		_tmp0_ = vala_comment_get_source_reference (comment);
		_tmp1_ = _tmp0_;
		_tmp2_ = _vala_source_reference_ref0 (_tmp1_);
		pos = _tmp2_;
		_tmp3_ = self->priv->files;
		_tmp4_ = pos;
		_tmp5_ = vala_source_reference_get_file (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = vala_map_get ((ValaMap*) _tmp3_, _tmp6_);
		file = (ValadocApiSourceFile*) _tmp7_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (comment, VALA_TYPE_GIR_COMMENT)) {
			ValadocApiGirSourceComment* tmp = NULL;
			const gchar* _tmp8_;
			const gchar* _tmp9_;
			ValadocApiSourceFile* _tmp10_;
			ValaSourceReference* _tmp11_;
			ValaSourceLocation _tmp12_ = {0};
			ValaSourceLocation _tmp13_;
			gint _tmp14_;
			ValaSourceReference* _tmp15_;
			ValaSourceLocation _tmp16_ = {0};
			ValaSourceLocation _tmp17_;
			gint _tmp18_;
			ValaSourceReference* _tmp19_;
			ValaSourceLocation _tmp20_ = {0};
			ValaSourceLocation _tmp21_;
			gint _tmp22_;
			ValaSourceReference* _tmp23_;
			ValaSourceLocation _tmp24_ = {0};
			ValaSourceLocation _tmp25_;
			gint _tmp26_;
			ValadocApiGirSourceComment* _tmp27_;
			ValaComment* _tmp28_;
			ValaComment* _tmp29_;
			ValaMapIterator* it = NULL;
			ValaMapIterator* _tmp59_;
			_tmp8_ = vala_comment_get_content (comment);
			_tmp9_ = _tmp8_;
			_tmp10_ = file;
			_tmp11_ = pos;
			vala_source_reference_get_begin (_tmp11_, &_tmp12_);
			_tmp13_ = _tmp12_;
			_tmp14_ = _tmp13_.line;
			_tmp15_ = pos;
			vala_source_reference_get_begin (_tmp15_, &_tmp16_);
			_tmp17_ = _tmp16_;
			_tmp18_ = _tmp17_.column;
			_tmp19_ = pos;
			vala_source_reference_get_end (_tmp19_, &_tmp20_);
			_tmp21_ = _tmp20_;
			_tmp22_ = _tmp21_.line;
			_tmp23_ = pos;
			vala_source_reference_get_end (_tmp23_, &_tmp24_);
			_tmp25_ = _tmp24_;
			_tmp26_ = _tmp25_.column;
			_tmp27_ = valadoc_api_gir_source_comment_new (_tmp9_, _tmp10_, _tmp14_, _tmp18_, _tmp22_, _tmp26_);
			tmp = _tmp27_;
			_tmp28_ = vala_gir_comment_get_return_content (G_TYPE_CHECK_INSTANCE_CAST (comment, VALA_TYPE_GIR_COMMENT, ValaGirComment));
			_tmp29_ = _tmp28_;
			if (_tmp29_ != NULL) {
				ValaSourceReference* return_pos = NULL;
				ValaComment* _tmp30_;
				ValaComment* _tmp31_;
				ValaSourceReference* _tmp32_;
				ValaSourceReference* _tmp33_;
				ValaSourceReference* _tmp34_;
				ValadocApiGirSourceComment* _tmp35_;
				ValaComment* _tmp36_;
				ValaComment* _tmp37_;
				const gchar* _tmp38_;
				const gchar* _tmp39_;
				ValadocApiSourceFile* _tmp40_;
				ValaSourceReference* _tmp41_;
				ValaSourceLocation _tmp42_ = {0};
				ValaSourceLocation _tmp43_;
				gint _tmp44_;
				ValaSourceReference* _tmp45_;
				ValaSourceLocation _tmp46_ = {0};
				ValaSourceLocation _tmp47_;
				gint _tmp48_;
				ValaSourceReference* _tmp49_;
				ValaSourceLocation _tmp50_ = {0};
				ValaSourceLocation _tmp51_;
				gint _tmp52_;
				ValaSourceReference* _tmp53_;
				ValaSourceLocation _tmp54_ = {0};
				ValaSourceLocation _tmp55_;
				gint _tmp56_;
				ValadocApiSourceComment* _tmp57_;
				ValadocApiSourceComment* _tmp58_;
				_tmp30_ = vala_gir_comment_get_return_content (G_TYPE_CHECK_INSTANCE_CAST (comment, VALA_TYPE_GIR_COMMENT, ValaGirComment));
				_tmp31_ = _tmp30_;
				_tmp32_ = vala_comment_get_source_reference (_tmp31_);
				_tmp33_ = _tmp32_;
				_tmp34_ = _vala_source_reference_ref0 (_tmp33_);
				return_pos = _tmp34_;
				_tmp35_ = tmp;
				_tmp36_ = vala_gir_comment_get_return_content (G_TYPE_CHECK_INSTANCE_CAST (comment, VALA_TYPE_GIR_COMMENT, ValaGirComment));
				_tmp37_ = _tmp36_;
				_tmp38_ = vala_comment_get_content (_tmp37_);
				_tmp39_ = _tmp38_;
				_tmp40_ = file;
				_tmp41_ = return_pos;
				vala_source_reference_get_begin (_tmp41_, &_tmp42_);
				_tmp43_ = _tmp42_;
				_tmp44_ = _tmp43_.line;
				_tmp45_ = return_pos;
				vala_source_reference_get_begin (_tmp45_, &_tmp46_);
				_tmp47_ = _tmp46_;
				_tmp48_ = _tmp47_.column;
				_tmp49_ = return_pos;
				vala_source_reference_get_end (_tmp49_, &_tmp50_);
				_tmp51_ = _tmp50_;
				_tmp52_ = _tmp51_.line;
				_tmp53_ = return_pos;
				vala_source_reference_get_end (_tmp53_, &_tmp54_);
				_tmp55_ = _tmp54_;
				_tmp56_ = _tmp55_.column;
				_tmp57_ = valadoc_api_source_comment_new (_tmp39_, _tmp40_, _tmp44_, _tmp48_, _tmp52_, _tmp56_);
				_tmp58_ = _tmp57_;
				valadoc_api_gir_source_comment_set_return_comment (_tmp35_, _tmp58_);
				_valadoc_api_source_comment_unref0 (_tmp58_);
				_vala_source_reference_unref0 (return_pos);
			}
			_tmp59_ = vala_gir_comment_parameter_iterator (G_TYPE_CHECK_INSTANCE_CAST (comment, VALA_TYPE_GIR_COMMENT, ValaGirComment));
			it = _tmp59_;
			while (TRUE) {
				ValaMapIterator* _tmp60_;
				ValaComment* vala_param = NULL;
				ValaMapIterator* _tmp61_;
				gpointer _tmp62_;
				ValaSourceReference* param_pos = NULL;
				ValaComment* _tmp63_;
				ValaSourceReference* _tmp64_;
				ValaSourceReference* _tmp65_;
				ValaSourceReference* _tmp66_;
				ValadocApiSourceComment* param_comment = NULL;
				ValaComment* _tmp67_;
				const gchar* _tmp68_;
				const gchar* _tmp69_;
				ValadocApiSourceFile* _tmp70_;
				ValaSourceReference* _tmp71_;
				ValaSourceLocation _tmp72_ = {0};
				ValaSourceLocation _tmp73_;
				gint _tmp74_;
				ValaSourceReference* _tmp75_;
				ValaSourceLocation _tmp76_ = {0};
				ValaSourceLocation _tmp77_;
				gint _tmp78_;
				ValaSourceReference* _tmp79_;
				ValaSourceLocation _tmp80_ = {0};
				ValaSourceLocation _tmp81_;
				gint _tmp82_;
				ValaSourceReference* _tmp83_;
				ValaSourceLocation _tmp84_ = {0};
				ValaSourceLocation _tmp85_;
				gint _tmp86_;
				ValadocApiSourceComment* _tmp87_;
				ValadocApiGirSourceComment* _tmp88_;
				ValaMapIterator* _tmp89_;
				gpointer _tmp90_;
				gchar* _tmp91_;
				ValadocApiSourceComment* _tmp92_;
				_tmp60_ = it;
				if (!vala_map_iterator_next (_tmp60_)) {
					break;
				}
				_tmp61_ = it;
				_tmp62_ = vala_map_iterator_get_value (_tmp61_);
				vala_param = (ValaComment*) _tmp62_;
				_tmp63_ = vala_param;
				_tmp64_ = vala_comment_get_source_reference (_tmp63_);
				_tmp65_ = _tmp64_;
				_tmp66_ = _vala_source_reference_ref0 (_tmp65_);
				param_pos = _tmp66_;
				_tmp67_ = vala_param;
				_tmp68_ = vala_comment_get_content (_tmp67_);
				_tmp69_ = _tmp68_;
				_tmp70_ = file;
				_tmp71_ = param_pos;
				vala_source_reference_get_begin (_tmp71_, &_tmp72_);
				_tmp73_ = _tmp72_;
				_tmp74_ = _tmp73_.line;
				_tmp75_ = param_pos;
				vala_source_reference_get_begin (_tmp75_, &_tmp76_);
				_tmp77_ = _tmp76_;
				_tmp78_ = _tmp77_.column;
				_tmp79_ = param_pos;
				vala_source_reference_get_end (_tmp79_, &_tmp80_);
				_tmp81_ = _tmp80_;
				_tmp82_ = _tmp81_.line;
				_tmp83_ = param_pos;
				vala_source_reference_get_end (_tmp83_, &_tmp84_);
				_tmp85_ = _tmp84_;
				_tmp86_ = _tmp85_.column;
				_tmp87_ = valadoc_api_source_comment_new (_tmp69_, _tmp70_, _tmp74_, _tmp78_, _tmp82_, _tmp86_);
				param_comment = _tmp87_;
				_tmp88_ = tmp;
				_tmp89_ = it;
				_tmp90_ = vala_map_iterator_get_key (_tmp89_);
				_tmp91_ = (gchar*) _tmp90_;
				_tmp92_ = param_comment;
				valadoc_api_gir_source_comment_add_parameter_content (_tmp88_, _tmp91_, _tmp92_);
				_g_free0 (_tmp91_);
				_valadoc_api_source_comment_unref0 (param_comment);
				_vala_source_reference_unref0 (param_pos);
				_vala_comment_unref0 (vala_param);
			}
			result = (ValadocApiSourceComment*) tmp;
			_vala_map_iterator_unref0 (it);
			_g_object_unref0 (file);
			_vala_source_reference_unref0 (pos);
			return result;
		} else {
			const gchar* _tmp93_;
			const gchar* _tmp94_;
			ValadocApiSourceFile* _tmp95_;
			ValaSourceReference* _tmp96_;
			ValaSourceLocation _tmp97_ = {0};
			ValaSourceLocation _tmp98_;
			gint _tmp99_;
			ValaSourceReference* _tmp100_;
			ValaSourceLocation _tmp101_ = {0};
			ValaSourceLocation _tmp102_;
			gint _tmp103_;
			ValaSourceReference* _tmp104_;
			ValaSourceLocation _tmp105_ = {0};
			ValaSourceLocation _tmp106_;
			gint _tmp107_;
			ValaSourceReference* _tmp108_;
			ValaSourceLocation _tmp109_ = {0};
			ValaSourceLocation _tmp110_;
			gint _tmp111_;
			ValadocApiSourceComment* _tmp112_;
			_tmp93_ = vala_comment_get_content (comment);
			_tmp94_ = _tmp93_;
			_tmp95_ = file;
			_tmp96_ = pos;
			vala_source_reference_get_begin (_tmp96_, &_tmp97_);
			_tmp98_ = _tmp97_;
			_tmp99_ = _tmp98_.line;
			_tmp100_ = pos;
			vala_source_reference_get_begin (_tmp100_, &_tmp101_);
			_tmp102_ = _tmp101_;
			_tmp103_ = _tmp102_.column;
			_tmp104_ = pos;
			vala_source_reference_get_end (_tmp104_, &_tmp105_);
			_tmp106_ = _tmp105_;
			_tmp107_ = _tmp106_.line;
			_tmp108_ = pos;
			vala_source_reference_get_end (_tmp108_, &_tmp109_);
			_tmp110_ = _tmp109_;
			_tmp111_ = _tmp110_.column;
			_tmp112_ = valadoc_api_source_comment_new (_tmp94_, _tmp95_, _tmp99_, _tmp103_, _tmp107_, _tmp111_);
			result = _tmp112_;
			_g_object_unref0 (file);
			_vala_source_reference_unref0 (pos);
			return result;
		}
		_g_object_unref0 (file);
		_vala_source_reference_unref0 (pos);
	}
	result = NULL;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_method_name (ValadocDriversTreeBuilder* self,
                                              ValaMethod* element)
{
	gchar* result = NULL;
	const gchar* _tmp17_;
	const gchar* _tmp18_;
	gchar* _tmp19_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CREATION_METHOD)) {
		const gchar* _tmp0_;
		const gchar* _tmp1_;
		_tmp0_ = vala_symbol_get_name ((ValaSymbol*) element);
		_tmp1_ = _tmp0_;
		if (g_strcmp0 (_tmp1_, ".new") == 0) {
			ValaSymbol* _tmp2_;
			ValaSymbol* _tmp3_;
			const gchar* _tmp4_;
			const gchar* _tmp5_;
			gchar* _tmp6_;
			_tmp2_ = vala_symbol_get_parent_symbol ((ValaSymbol*) element);
			_tmp3_ = _tmp2_;
			_tmp4_ = vala_symbol_get_name (_tmp3_);
			_tmp5_ = _tmp4_;
			_tmp6_ = g_strdup (_tmp5_);
			result = _tmp6_;
			return result;
		} else {
			ValaSymbol* _tmp7_;
			ValaSymbol* _tmp8_;
			const gchar* _tmp9_;
			const gchar* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			const gchar* _tmp13_;
			const gchar* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			_tmp7_ = vala_symbol_get_parent_symbol ((ValaSymbol*) element);
			_tmp8_ = _tmp7_;
			_tmp9_ = vala_symbol_get_name (_tmp8_);
			_tmp10_ = _tmp9_;
			_tmp11_ = g_strconcat (_tmp10_, ".", NULL);
			_tmp12_ = _tmp11_;
			_tmp13_ = vala_symbol_get_name ((ValaSymbol*) element);
			_tmp14_ = _tmp13_;
			_tmp15_ = g_strconcat (_tmp12_, _tmp14_, NULL);
			_tmp16_ = _tmp15_;
			_g_free0 (_tmp12_);
			result = _tmp16_;
			return result;
		}
	}
	_tmp17_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp18_ = _tmp17_;
	_tmp19_ = g_strdup (_tmp18_);
	result = _tmp19_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_quark_macro_name (ValadocDriversTreeBuilder* self,
                                                   ValaErrorDomain* element)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_get_ccode_upper_case_name ((ValaSymbol*) element, NULL);
	result = _tmp0_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_private_cname (ValadocDriversTreeBuilder* self,
                                                ValaClass* element)
{
	gchar* result = NULL;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gchar* cname = NULL;
	gchar* _tmp2_;
	gchar* _tmp3_ = NULL;
	const gchar* _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_class_get_is_compact (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		result = NULL;
		return result;
	}
	_tmp2_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	cname = _tmp2_;
	_tmp4_ = cname;
	if (_tmp4_ != NULL) {
		const gchar* _tmp5_;
		gchar* _tmp6_;
		_tmp5_ = cname;
		_tmp6_ = g_strconcat (_tmp5_, "Private", NULL);
		_g_free0 (_tmp3_);
		_tmp3_ = _tmp6_;
	} else {
		_g_free0 (_tmp3_);
		_tmp3_ = NULL;
	}
	result = _tmp3_;
	_g_free0 (cname);
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_class_macro_name (ValadocDriversTreeBuilder* self,
                                                   ValaClass* element)
{
	gchar* result = NULL;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_class_get_is_compact (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		result = NULL;
		return result;
	}
	_tmp2_ = vala_get_ccode_upper_case_name ((ValaSymbol*) element, NULL);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("%s_GET_CLASS", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	result = _tmp5_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_class_type_macro_name (ValadocDriversTreeBuilder* self,
                                                        ValaClass* element)
{
	gchar* result = NULL;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_class_get_is_compact (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		result = NULL;
		return result;
	}
	_tmp2_ = vala_get_ccode_upper_case_name ((ValaSymbol*) element, NULL);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("%s_CLASS", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	result = _tmp5_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_is_type_macro_name (ValadocDriversTreeBuilder* self,
                                                     ValaTypeSymbol* element)
{
	gchar* result = NULL;
	gchar* name = NULL;
	gchar* _tmp0_;
	const gchar* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	const gchar* _tmp3_;
	gchar* _tmp6_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_get_ccode_type_check_function (element);
	name = _tmp0_;
	_tmp3_ = name;
	if (_tmp3_ != NULL) {
		const gchar* _tmp4_;
		_tmp4_ = name;
		_tmp2_ = g_strcmp0 (_tmp4_, "") != 0;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		const gchar* _tmp5_;
		_tmp5_ = name;
		_tmp1_ = _tmp5_;
	} else {
		_tmp1_ = NULL;
	}
	_tmp6_ = g_strdup (_tmp1_);
	result = _tmp6_;
	_g_free0 (name);
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_is_class_type_macro_name (ValadocDriversTreeBuilder* self,
                                                           ValaTypeSymbol* element)
{
	gchar* result = NULL;
	gchar* name = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_is_type_macro_name (self, element);
	name = _tmp0_;
	_tmp2_ = name;
	if (_tmp2_ != NULL) {
		const gchar* _tmp3_;
		gchar* _tmp4_;
		_tmp3_ = name;
		_tmp4_ = g_strconcat (_tmp3_, "_CLASS", NULL);
		_g_free0 (_tmp1_);
		_tmp1_ = _tmp4_;
	} else {
		_g_free0 (_tmp1_);
		_tmp1_ = NULL;
	}
	result = _tmp1_;
	_g_free0 (name);
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_type_function_name (ValadocDriversTreeBuilder* self,
                                                     ValaTypeSymbol* element)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CLASS)) {
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp3_ = vala_class_get_is_compact (G_TYPE_CHECK_INSTANCE_CAST (element, VALA_TYPE_CLASS, ValaClass));
		_tmp4_ = _tmp3_;
		_tmp2_ = _tmp4_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_ERROR_DOMAIN);
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_DELEGATE);
	}
	if (_tmp0_) {
		result = NULL;
		return result;
	}
	_tmp5_ = vala_get_ccode_lower_case_name ((ValaCodeNode*) element, NULL);
	_tmp6_ = _tmp5_;
	_tmp7_ = g_strdup_printf ("%s_get_type", _tmp6_);
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp6_);
	result = _tmp8_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_type_macro_name (ValadocDriversTreeBuilder* self,
                                                  ValaTypeSymbol* element)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gchar* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CLASS)) {
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp3_ = vala_class_get_is_compact (G_TYPE_CHECK_INSTANCE_CAST (element, VALA_TYPE_CLASS, ValaClass));
		_tmp4_ = _tmp3_;
		_tmp2_ = _tmp4_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_ERROR_DOMAIN);
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_DELEGATE);
	}
	if (_tmp0_) {
		result = NULL;
		return result;
	}
	_tmp5_ = vala_get_ccode_type_id ((ValaCodeNode*) element);
	result = _tmp5_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_type_cast_macro_name (ValadocDriversTreeBuilder* self,
                                                       ValaTypeSymbol* element)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CLASS)) {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = vala_class_get_is_compact (G_TYPE_CHECK_INSTANCE_CAST (element, VALA_TYPE_CLASS, ValaClass));
		_tmp3_ = _tmp2_;
		_tmp1_ = !_tmp3_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_INTERFACE);
	}
	if (_tmp0_) {
		gchar* _tmp4_;
		_tmp4_ = vala_get_ccode_upper_case_name ((ValaSymbol*) element, NULL);
		result = _tmp4_;
		return result;
	} else {
		result = NULL;
		return result;
	}
}


static gchar*
valadoc_drivers_tree_builder_get_interface_macro_name (ValadocDriversTreeBuilder* self,
                                                       ValaInterface* element)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_get_ccode_upper_case_name ((ValaSymbol*) element, NULL);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("%s_GET_INTERFACE", _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}


static gchar*
valadoc_drivers_tree_builder_get_quark_function_name (ValadocDriversTreeBuilder* self,
                                                      ValaErrorDomain* element)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = vala_get_ccode_lower_case_prefix ((ValaSymbol*) element);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strconcat (_tmp1_, "quark", NULL);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}


static gpointer
_vala_iterable_ref0 (gpointer self)
{
	return self ? vala_iterable_ref (self) : NULL;
}


static ValadocDriversTreeBuilderPackageMetaData*
valadoc_drivers_tree_builder_get_package_meta_data (ValadocDriversTreeBuilder* self,
                                                    ValadocApiPackage* pkg)
{
	ValadocDriversTreeBuilderPackageMetaData* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (pkg != NULL, NULL);
	{
		ValaArrayList* _data_list = NULL;
		ValaArrayList* _tmp0_;
		ValaArrayList* _tmp1_;
		gint _data_size = 0;
		ValaArrayList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _data_index = 0;
		_tmp0_ = self->priv->packages;
		_tmp1_ = _vala_iterable_ref0 (_tmp0_);
		_data_list = _tmp1_;
		_tmp2_ = _data_list;
		_tmp3_ = vala_collection_get_size ((ValaCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_data_size = _tmp4_;
		_data_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			ValadocDriversTreeBuilderPackageMetaData* data = NULL;
			ValaArrayList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_;
			ValadocDriversTreeBuilderPackageMetaData* _tmp11_;
			ValadocApiPackage* _tmp12_;
			_tmp5_ = _data_index;
			_data_index = _tmp5_ + 1;
			_tmp6_ = _data_index;
			_tmp7_ = _data_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _data_list;
			_tmp9_ = _data_index;
			_tmp10_ = vala_list_get ((ValaList*) _tmp8_, _tmp9_);
			data = (ValadocDriversTreeBuilderPackageMetaData*) _tmp10_;
			_tmp11_ = data;
			_tmp12_ = _tmp11_->package;
			if (_tmp12_ == pkg) {
				result = data;
				_vala_iterable_unref0 (_data_list);
				return result;
			}
			_valadoc_drivers_tree_builder_package_meta_data_unref0 (data);
		}
		_vala_iterable_unref0 (_data_list);
	}
	result = NULL;
	return result;
}


static ValadocDriversTreeBuilderPackageMetaData*
valadoc_drivers_tree_builder_register_package (ValadocDriversTreeBuilder* self,
                                               ValadocApiPackage* package)
{
	ValadocDriversTreeBuilderPackageMetaData* result = NULL;
	ValadocDriversTreeBuilderPackageMetaData* meta_data = NULL;
	ValadocDriversTreeBuilderPackageMetaData* _tmp0_;
	ValadocApiTree* _tmp1_;
	ValaArrayList* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (package != NULL, NULL);
	_tmp0_ = valadoc_drivers_tree_builder_package_meta_data_new (package);
	meta_data = _tmp0_;
	_tmp1_ = self->priv->tree;
	valadoc_api_tree_add_package (_tmp1_, package);
	_tmp2_ = self->priv->packages;
	vala_collection_add ((ValaCollection*) _tmp2_, meta_data);
	result = meta_data;
	return result;
}


static ValadocApiSourceFile*
valadoc_drivers_tree_builder_register_source_file (ValadocDriversTreeBuilder* self,
                                                   ValadocDriversTreeBuilderPackageMetaData* meta_data,
                                                   ValaSourceFile* source_file)
{
	ValadocApiSourceFile* result = NULL;
	ValadocApiSourceFile* file = NULL;
	ValadocApiPackage* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	ValadocApiSourceFile* _tmp5_;
	ValadocApiSourceFile* _tmp6_;
	ValaHashMap* _tmp7_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (meta_data != NULL, NULL);
	g_return_val_if_fail (source_file != NULL, NULL);
	_tmp0_ = meta_data->package;
	_tmp1_ = vala_source_file_get_relative_filename (source_file);
	_tmp2_ = _tmp1_;
	_tmp3_ = vala_source_file_get_csource_filename (source_file);
	_tmp4_ = _tmp3_;
	_tmp5_ = valadoc_api_source_file_new (_tmp0_, _tmp2_, _tmp4_, source_file);
	_tmp6_ = _tmp5_;
	_g_free0 (_tmp4_);
	_g_free0 (_tmp2_);
	file = _tmp6_;
	_tmp7_ = self->priv->files;
	vala_map_set ((ValaMap*) _tmp7_, source_file, file);
	valadoc_drivers_tree_builder_package_meta_data_register_source_file (meta_data, source_file);
	result = file;
	return result;
}


static ValadocApiSourceFile*
valadoc_drivers_tree_builder_get_source_file (ValadocDriversTreeBuilder* self,
                                              ValaSymbol* symbol)
{
	ValadocApiSourceFile* result = NULL;
	ValaSourceReference* source_ref = NULL;
	ValaSourceReference* _tmp0_;
	ValaSourceReference* _tmp1_;
	ValaSourceReference* _tmp2_;
	ValaSourceReference* _tmp3_;
	ValadocApiSourceFile* file = NULL;
	ValaHashMap* _tmp4_;
	ValaSourceReference* _tmp5_;
	ValaSourceFile* _tmp6_;
	ValaSourceFile* _tmp7_;
	gpointer _tmp8_;
	ValadocApiSourceFile* _tmp9_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (symbol != NULL, NULL);
	_tmp0_ = vala_code_node_get_source_reference ((ValaCodeNode*) symbol);
	_tmp1_ = _tmp0_;
	_tmp2_ = _vala_source_reference_ref0 (_tmp1_);
	source_ref = _tmp2_;
	_tmp3_ = source_ref;
	if (_tmp3_ == NULL) {
		result = NULL;
		_vala_source_reference_unref0 (source_ref);
		return result;
	}
	_tmp4_ = self->priv->files;
	_tmp5_ = source_ref;
	_tmp6_ = vala_source_reference_get_file (_tmp5_);
	_tmp7_ = _tmp6_;
	_tmp8_ = vala_map_get ((ValaMap*) _tmp4_, _tmp7_);
	file = (ValadocApiSourceFile*) _tmp8_;
	_tmp9_ = file;
	_vala_assert (_tmp9_ != NULL, "file != null");
	result = file;
	_vala_source_reference_unref0 (source_ref);
	return result;
}


static ValadocApiPackage*
valadoc_drivers_tree_builder_find_package_for_file (ValadocDriversTreeBuilder* self,
                                                    ValaSourceFile* source_file)
{
	ValadocApiPackage* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (source_file != NULL, NULL);
	{
		ValaArrayList* _pkg_list = NULL;
		ValaArrayList* _tmp0_;
		ValaArrayList* _tmp1_;
		gint _pkg_size = 0;
		ValaArrayList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _pkg_index = 0;
		_tmp0_ = self->priv->packages;
		_tmp1_ = _vala_iterable_ref0 (_tmp0_);
		_pkg_list = _tmp1_;
		_tmp2_ = _pkg_list;
		_tmp3_ = vala_collection_get_size ((ValaCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_pkg_size = _tmp4_;
		_pkg_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			ValadocDriversTreeBuilderPackageMetaData* pkg = NULL;
			ValaArrayList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_;
			ValadocDriversTreeBuilderPackageMetaData* _tmp11_;
			_tmp5_ = _pkg_index;
			_pkg_index = _tmp5_ + 1;
			_tmp6_ = _pkg_index;
			_tmp7_ = _pkg_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _pkg_list;
			_tmp9_ = _pkg_index;
			_tmp10_ = vala_list_get ((ValaList*) _tmp8_, _tmp9_);
			pkg = (ValadocDriversTreeBuilderPackageMetaData*) _tmp10_;
			_tmp11_ = pkg;
			if (valadoc_drivers_tree_builder_package_meta_data_is_package_for_file (_tmp11_, source_file)) {
				ValadocDriversTreeBuilderPackageMetaData* _tmp12_;
				ValadocApiPackage* _tmp13_;
				ValadocApiPackage* _tmp14_;
				_tmp12_ = pkg;
				_tmp13_ = _tmp12_->package;
				_tmp14_ = _g_object_ref0 (_tmp13_);
				result = _tmp14_;
				_valadoc_drivers_tree_builder_package_meta_data_unref0 (pkg);
				_vala_iterable_unref0 (_pkg_list);
				return result;
			}
			_valadoc_drivers_tree_builder_package_meta_data_unref0 (pkg);
		}
		_vala_iterable_unref0 (_pkg_list);
	}
	result = NULL;
	return result;
}


static ValadocApiNamespace*
valadoc_drivers_tree_builder_get_namespace (ValadocDriversTreeBuilder* self,
                                            ValadocApiPackage* pkg,
                                            ValaSymbol* symbol,
                                            ValadocApiSourceFile* file)
{
	ValadocApiNamespace* result = NULL;
	ValaSymbol* namespace_symbol = NULL;
	ValaSymbol* _tmp0_;
	ValadocDriversTreeBuilderPackageMetaData* meta_data = NULL;
	ValadocDriversTreeBuilderPackageMetaData* _tmp6_;
	ValaSymbol* _tmp7_;
	ValadocApiNamespace* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (pkg != NULL, NULL);
	g_return_val_if_fail (symbol != NULL, NULL);
	_tmp0_ = _vala_code_node_ref0 (symbol);
	namespace_symbol = _tmp0_;
	while (TRUE) {
		ValaSymbol* _tmp1_;
		ValaSymbol* _tmp2_;
		ValaSymbol* _tmp3_;
		ValaSymbol* _tmp4_;
		ValaSymbol* _tmp5_;
		_tmp1_ = namespace_symbol;
		if (!(!G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, VALA_TYPE_NAMESPACE))) {
			break;
		}
		_tmp2_ = namespace_symbol;
		_tmp3_ = vala_symbol_get_parent_symbol (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp5_ = _vala_code_node_ref0 (_tmp4_);
		_vala_code_node_unref0 (namespace_symbol);
		namespace_symbol = _tmp5_;
	}
	_tmp6_ = valadoc_drivers_tree_builder_get_package_meta_data (self, pkg);
	meta_data = _tmp6_;
	_vala_assert (meta_data != NULL, "meta_data != null");
	_tmp7_ = namespace_symbol;
	_tmp8_ = valadoc_drivers_tree_builder_package_meta_data_get_namespace (meta_data, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, VALA_TYPE_NAMESPACE, ValaNamespace), file);
	result = _tmp8_;
	_valadoc_drivers_tree_builder_package_meta_data_unref0 (meta_data);
	_vala_code_node_unref0 (namespace_symbol);
	return result;
}


static ValadocMethodBindingType
valadoc_drivers_tree_builder_get_method_binding_type (ValadocDriversTreeBuilder* self,
                                                      ValaMethod* element)
{
	ValadocMethodBindingType result = 0;
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (element != NULL, 0);
	_tmp0_ = vala_method_get_is_inline (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		result = VALADOC_METHOD_BINDING_TYPE_INLINE;
		return result;
	} else {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = vala_method_get_is_abstract (element);
		_tmp3_ = _tmp2_;
		if (_tmp3_) {
			result = VALADOC_METHOD_BINDING_TYPE_ABSTRACT;
			return result;
		} else {
			gboolean _tmp4_;
			gboolean _tmp5_;
			_tmp4_ = vala_method_get_is_virtual (element);
			_tmp5_ = _tmp4_;
			if (_tmp5_) {
				result = VALADOC_METHOD_BINDING_TYPE_VIRTUAL;
				return result;
			} else {
				gboolean _tmp6_;
				gboolean _tmp7_;
				_tmp6_ = vala_method_get_overrides (element);
				_tmp7_ = _tmp6_;
				if (_tmp7_) {
					result = VALADOC_METHOD_BINDING_TYPE_OVERRIDE;
					return result;
				} else {
					gboolean _tmp8_;
					gboolean _tmp9_;
					_tmp8_ = vala_method_get_is_inline (element);
					_tmp9_ = _tmp8_;
					if (_tmp9_) {
						result = VALADOC_METHOD_BINDING_TYPE_INLINE;
						return result;
					} else {
						ValaMemberBinding _tmp10_;
						ValaMemberBinding _tmp11_;
						_tmp10_ = vala_method_get_binding (element);
						_tmp11_ = _tmp10_;
						if (_tmp11_ != VALA_MEMBER_BINDING_INSTANCE) {
							result = VALADOC_METHOD_BINDING_TYPE_STATIC;
							return result;
						}
					}
				}
			}
		}
	}
	result = VALADOC_METHOD_BINDING_TYPE_UNMODIFIED;
	return result;
}


static ValadocApiSymbolAccessibility
valadoc_drivers_tree_builder_get_access_modifier (ValadocDriversTreeBuilder* self,
                                                  ValaSymbol* symbol)
{
	ValadocApiSymbolAccessibility result = 0;
	ValaSymbolAccessibility _tmp0_;
	ValaSymbolAccessibility _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (symbol != NULL, 0);
	_tmp0_ = vala_symbol_get_access (symbol);
	_tmp1_ = _tmp0_;
	switch (_tmp1_) {
		case VALA_SYMBOL_ACCESSIBILITY_PROTECTED:
		{
			result = VALADOC_API_SYMBOL_ACCESSIBILITY_PROTECTED;
			return result;
		}
		case VALA_SYMBOL_ACCESSIBILITY_INTERNAL:
		{
			result = VALADOC_API_SYMBOL_ACCESSIBILITY_INTERNAL;
			return result;
		}
		case VALA_SYMBOL_ACCESSIBILITY_PRIVATE:
		{
			result = VALADOC_API_SYMBOL_ACCESSIBILITY_PRIVATE;
			return result;
		}
		case VALA_SYMBOL_ACCESSIBILITY_PUBLIC:
		{
			result = VALADOC_API_SYMBOL_ACCESSIBILITY_PUBLIC;
			return result;
		}
		default:
		{
			g_error ("treebuilder.vala:593: Unknown symbol accessibility modifier found");
		}
	}
}


static ValadocApiPropertyAccessorType
valadoc_drivers_tree_builder_get_property_accessor_type (ValadocDriversTreeBuilder* self,
                                                         ValaPropertyAccessor* element)
{
	ValadocApiPropertyAccessorType result = 0;
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (element != NULL, 0);
	_tmp0_ = vala_property_accessor_get_construction (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = vala_property_accessor_get_writable (element);
		_tmp3_ = _tmp2_;
		if (_tmp3_) {
			result = VALADOC_API_PROPERTY_ACCESSOR_TYPE_CONSTRUCT | VALADOC_API_PROPERTY_ACCESSOR_TYPE_SET;
			return result;
		}
		result = VALADOC_API_PROPERTY_ACCESSOR_TYPE_CONSTRUCT;
		return result;
	} else {
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp4_ = vala_property_accessor_get_writable (element);
		_tmp5_ = _tmp4_;
		if (_tmp5_) {
			result = VALADOC_API_PROPERTY_ACCESSOR_TYPE_SET;
			return result;
		} else {
			gboolean _tmp6_;
			gboolean _tmp7_;
			_tmp6_ = vala_property_accessor_get_readable (element);
			_tmp7_ = _tmp6_;
			if (_tmp7_) {
				result = VALADOC_API_PROPERTY_ACCESSOR_TYPE_GET;
				return result;
			}
		}
	}
	g_error ("treebuilder.vala:609: Unknown symbol accessibility type");
}


static gboolean
valadoc_drivers_tree_builder_type_reference_pass_ownership (ValadocDriversTreeBuilder* self,
                                                            ValaDataType* element)
{
	gboolean result = FALSE;
	ValaCodeNode* node = NULL;
	ValaCodeNode* _tmp0_;
	ValaCodeNode* _tmp1_;
	ValaCodeNode* _tmp2_;
	ValaCodeNode* _tmp3_;
	ValaCodeNode* _tmp13_;
	g_return_val_if_fail (self != NULL, FALSE);
	if (element == NULL) {
		result = FALSE;
		return result;
	}
	_tmp0_ = vala_code_node_get_parent_node ((ValaCodeNode*) element);
	_tmp1_ = _tmp0_;
	node = _tmp1_;
	_tmp2_ = node;
	if (_tmp2_ == NULL) {
		result = FALSE;
		return result;
	}
	_tmp3_ = node;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, VALA_TYPE_PARAMETER)) {
		gboolean _tmp4_ = FALSE;
		ValaCodeNode* _tmp5_;
		ValaParameterDirection _tmp6_;
		ValaParameterDirection _tmp7_;
		_tmp5_ = node;
		_tmp6_ = vala_parameter_get_direction (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, VALA_TYPE_PARAMETER, ValaParameter));
		_tmp7_ = _tmp6_;
		if (_tmp7_ == VALA_PARAMETER_DIRECTION_IN) {
			ValaCodeNode* _tmp8_;
			ValaDataType* _tmp9_;
			ValaDataType* _tmp10_;
			gboolean _tmp11_;
			gboolean _tmp12_;
			_tmp8_ = node;
			_tmp9_ = vala_variable_get_variable_type ((ValaVariable*) G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, VALA_TYPE_PARAMETER, ValaParameter));
			_tmp10_ = _tmp9_;
			_tmp11_ = vala_data_type_get_value_owned (_tmp10_);
			_tmp12_ = _tmp11_;
			_tmp4_ = _tmp12_;
		} else {
			_tmp4_ = FALSE;
		}
		result = _tmp4_;
		return result;
	}
	_tmp13_ = node;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, VALA_TYPE_PROPERTY)) {
		ValaCodeNode* _tmp14_;
		ValaDataType* _tmp15_;
		ValaDataType* _tmp16_;
		gboolean _tmp17_;
		gboolean _tmp18_;
		_tmp14_ = node;
		_tmp15_ = vala_property_get_property_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, VALA_TYPE_PROPERTY, ValaProperty));
		_tmp16_ = _tmp15_;
		_tmp17_ = vala_data_type_get_value_owned (_tmp16_);
		_tmp18_ = _tmp17_;
		result = _tmp18_;
		return result;
	}
	result = FALSE;
	return result;
}


static gboolean
valadoc_drivers_tree_builder_is_type_reference_unowned (ValadocDriversTreeBuilder* self,
                                                        ValaDataType* element)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaTypeSymbol* _tmp1_;
	ValaTypeSymbol* _tmp2_;
	gboolean _tmp5_ = FALSE;
	ValaCodeNode* _tmp6_;
	ValaCodeNode* _tmp7_;
	g_return_val_if_fail (self != NULL, FALSE);
	if (element == NULL) {
		result = FALSE;
		return result;
	}
	_tmp1_ = vala_data_type_get_data_type (element);
	_tmp2_ = _tmp1_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, VALA_TYPE_TYPESYMBOL)) {
		ValaTypeSymbol* _tmp3_;
		ValaTypeSymbol* _tmp4_;
		_tmp3_ = vala_data_type_get_data_type (element);
		_tmp4_ = _tmp3_;
		_tmp0_ = valadoc_drivers_tree_builder_is_reference_counting (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol)) == TRUE;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		result = FALSE;
		return result;
	}
	_tmp6_ = vala_code_node_get_parent_node ((ValaCodeNode*) element);
	_tmp7_ = _tmp6_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, VALA_TYPE_PARAMETER) == FALSE) {
		_tmp5_ = vala_data_type_is_weak (element);
	} else {
		_tmp5_ = FALSE;
	}
	result = _tmp5_;
	return result;
}


static gboolean
valadoc_drivers_tree_builder_is_type_reference_owned (ValadocDriversTreeBuilder* self,
                                                      ValaDataType* element)
{
	gboolean result = FALSE;
	ValaCodeNode* parent = NULL;
	ValaCodeNode* _tmp0_;
	ValaCodeNode* _tmp1_;
	ValaCodeNode* _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	if (element == NULL) {
		result = FALSE;
		return result;
	}
	_tmp0_ = vala_code_node_get_parent_node ((ValaCodeNode*) element);
	_tmp1_ = _tmp0_;
	parent = _tmp1_;
	_tmp2_ = parent;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, VALA_TYPE_PARAMETER)) {
		ValaCodeNode* _tmp3_;
		ValaParameterDirection _tmp4_;
		ValaParameterDirection _tmp5_;
		ValaCodeNode* _tmp6_;
		ValaDataType* _tmp7_;
		ValaDataType* _tmp8_;
		gboolean _tmp9_;
		gboolean _tmp10_;
		_tmp3_ = parent;
		_tmp4_ = vala_parameter_get_direction (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, VALA_TYPE_PARAMETER, ValaParameter));
		_tmp5_ = _tmp4_;
		if (_tmp5_ != VALA_PARAMETER_DIRECTION_IN) {
			result = FALSE;
			return result;
		}
		_tmp6_ = parent;
		_tmp7_ = vala_variable_get_variable_type ((ValaVariable*) G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, VALA_TYPE_PARAMETER, ValaParameter));
		_tmp8_ = _tmp7_;
		_tmp9_ = vala_data_type_get_value_owned (_tmp8_);
		_tmp10_ = _tmp9_;
		result = _tmp10_;
		return result;
	}
	result = FALSE;
	return result;
}


static gboolean
valadoc_drivers_tree_builder_is_type_reference_weak (ValadocDriversTreeBuilder* self,
                                                     ValaDataType* element)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaTypeSymbol* _tmp1_;
	ValaTypeSymbol* _tmp2_;
	gboolean _tmp5_ = FALSE;
	ValaCodeNode* _tmp6_;
	ValaCodeNode* _tmp7_;
	g_return_val_if_fail (self != NULL, FALSE);
	if (element == NULL) {
		result = FALSE;
		return result;
	}
	_tmp1_ = vala_data_type_get_data_type (element);
	_tmp2_ = _tmp1_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, VALA_TYPE_TYPESYMBOL)) {
		ValaTypeSymbol* _tmp3_;
		ValaTypeSymbol* _tmp4_;
		_tmp3_ = vala_data_type_get_data_type (element);
		_tmp4_ = _tmp3_;
		_tmp0_ = valadoc_drivers_tree_builder_is_reference_counting (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol)) == FALSE;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		result = FALSE;
		return result;
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_ARRAY_TYPE)) {
		result = FALSE;
		return result;
	}
	_tmp6_ = vala_code_node_get_parent_node ((ValaCodeNode*) element);
	_tmp7_ = _tmp6_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, VALA_TYPE_PARAMETER) == FALSE) {
		_tmp5_ = vala_data_type_is_weak (element);
	} else {
		_tmp5_ = FALSE;
	}
	result = _tmp5_;
	return result;
}


static ValadocApiOwnership
valadoc_drivers_tree_builder_get_type_reference_ownership (ValadocDriversTreeBuilder* self,
                                                           ValaDataType* element)
{
	ValadocApiOwnership result = 0;
	g_return_val_if_fail (self != NULL, 0);
	if (valadoc_drivers_tree_builder_is_type_reference_owned (self, element)) {
		result = VALADOC_API_OWNERSHIP_OWNED;
		return result;
	} else {
		if (valadoc_drivers_tree_builder_is_type_reference_weak (self, element)) {
			result = VALADOC_API_OWNERSHIP_WEAK;
			return result;
		} else {
			if (valadoc_drivers_tree_builder_is_type_reference_unowned (self, element)) {
				result = VALADOC_API_OWNERSHIP_UNOWNED;
				return result;
			}
		}
	}
	result = VALADOC_API_OWNERSHIP_DEFAULT;
	return result;
}


static ValadocApiOwnership
valadoc_drivers_tree_builder_get_property_ownership (ValadocDriversTreeBuilder* self,
                                                     ValaPropertyAccessor* element)
{
	ValadocApiOwnership result = 0;
	ValaDataType* _tmp0_;
	ValaDataType* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (element != NULL, 0);
	_tmp0_ = vala_property_accessor_get_value_type (element);
	_tmp1_ = _tmp0_;
	_tmp2_ = vala_data_type_get_value_owned (_tmp1_);
	_tmp3_ = _tmp2_;
	if (_tmp3_) {
		result = VALADOC_API_OWNERSHIP_OWNED;
		return result;
	}
	result = VALADOC_API_OWNERSHIP_UNOWNED;
	return result;
}


static ValadocApiPropertyBindingType
valadoc_drivers_tree_builder_get_property_binding_type (ValadocDriversTreeBuilder* self,
                                                        ValaProperty* element)
{
	ValadocApiPropertyBindingType result = 0;
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (element != NULL, 0);
	_tmp0_ = vala_property_get_is_abstract (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		result = VALADOC_API_PROPERTY_BINDING_TYPE_ABSTRACT;
		return result;
	} else {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = vala_property_get_is_virtual (element);
		_tmp3_ = _tmp2_;
		if (_tmp3_) {
			result = VALADOC_API_PROPERTY_BINDING_TYPE_VIRTUAL;
			return result;
		} else {
			gboolean _tmp4_;
			gboolean _tmp5_;
			_tmp4_ = vala_property_get_overrides (element);
			_tmp5_ = _tmp4_;
			if (_tmp5_) {
				result = VALADOC_API_PROPERTY_BINDING_TYPE_OVERRIDE;
				return result;
			}
		}
	}
	result = VALADOC_API_PROPERTY_BINDING_TYPE_UNMODIFIED;
	return result;
}


static ValadocApiFormalParameterType
valadoc_drivers_tree_builder_get_formal_parameter_type (ValadocDriversTreeBuilder* self,
                                                        ValaParameter* element)
{
	ValadocApiFormalParameterType result = 0;
	ValaParameterDirection _tmp0_;
	ValaParameterDirection _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (element != NULL, 0);
	_tmp0_ = vala_parameter_get_direction (element);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == VALA_PARAMETER_DIRECTION_OUT) {
		result = VALADOC_API_FORMAL_PARAMETER_TYPE_OUT;
		return result;
	} else {
		ValaParameterDirection _tmp2_;
		ValaParameterDirection _tmp3_;
		_tmp2_ = vala_parameter_get_direction (element);
		_tmp3_ = _tmp2_;
		if (_tmp3_ == VALA_PARAMETER_DIRECTION_REF) {
			result = VALADOC_API_FORMAL_PARAMETER_TYPE_REF;
			return result;
		} else {
			ValaParameterDirection _tmp4_;
			ValaParameterDirection _tmp5_;
			_tmp4_ = vala_parameter_get_direction (element);
			_tmp5_ = _tmp4_;
			if (_tmp5_ == VALA_PARAMETER_DIRECTION_IN) {
				result = VALADOC_API_FORMAL_PARAMETER_TYPE_IN;
				return result;
			}
		}
	}
	g_error ("treebuilder.vala:731: Unknown formal parameter type");
}


static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
	end = _tmp0_;
	_tmp1_ = end;
	if (_tmp1_ == NULL) {
		result = maxlen;
		return result;
	} else {
		gchar* _tmp2_;
		_tmp2_ = end;
		result = (glong) (_tmp2_ - str);
		return result;
	}
}


static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp6_;
	gchar* _tmp7_;
	g_return_val_if_fail (self != NULL, NULL);
	if (offset >= ((glong) 0)) {
		_tmp0_ = len >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		string_length = string_strnlen ((gchar*) self, offset + len);
	} else {
		gint _tmp1_;
		gint _tmp2_;
		_tmp1_ = strlen (self);
		_tmp2_ = _tmp1_;
		string_length = (glong) _tmp2_;
	}
	if (offset < ((glong) 0)) {
		glong _tmp3_;
		_tmp3_ = string_length;
		offset = _tmp3_ + offset;
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
	} else {
		glong _tmp4_;
		_tmp4_ = string_length;
		g_return_val_if_fail (offset <= _tmp4_, NULL);
	}
	if (len < ((glong) 0)) {
		glong _tmp5_;
		_tmp5_ = string_length;
		len = _tmp5_ - offset;
	}
	_tmp6_ = string_length;
	g_return_val_if_fail ((offset + len) <= _tmp6_, NULL);
	_tmp7_ = g_strndup (((gchar*) self) + offset, (gsize) len);
	result = _tmp7_;
	return result;
}


static gint
string_last_index_of_char (const gchar* self,
                           gunichar c,
                           gint start_index)
{
	gint result = 0;
	gchar* _result_ = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = g_utf8_strrchr (((gchar*) self) + start_index, (gssize) -1, c);
	_result_ = _tmp0_;
	_tmp1_ = _result_;
	if (_tmp1_ != NULL) {
		gchar* _tmp2_;
		_tmp2_ = _result_;
		result = (gint) (_tmp2_ - ((gchar*) self));
		return result;
	} else {
		result = -1;
		return result;
	}
}


static gchar*
valadoc_drivers_tree_builder_get_package_name (ValadocDriversTreeBuilder* self,
                                               const gchar* path)
{
	gchar* result = NULL;
	gchar* file_name = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (path != NULL, NULL);
	_tmp0_ = g_path_get_basename (path);
	file_name = _tmp0_;
	_tmp1_ = string_substring (file_name, (glong) 0, (glong) string_last_index_of_char (file_name, (gunichar) '.', 0));
	result = _tmp1_;
	_g_free0 (file_name);
	return result;
}


static gboolean
valadoc_drivers_tree_builder_add_package (ValadocDriversTreeBuilder* self,
                                          ValaCodeContext* context,
                                          const gchar* pkg)
{
	gboolean result = FALSE;
	gchar* vapi_name = NULL;
	gchar* _tmp0_;
	gchar* gir_name = NULL;
	gchar* _tmp1_;
	ValadocSettings* _tmp2_;
	gchar** _tmp3_;
	gint _tmp3__length1;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_;
	gchar* package_path = NULL;
	gchar* _tmp15_;
	const gchar* _tmp16_;
	ValaSourceFile* vfile = NULL;
	const gchar* _tmp19_;
	ValaSourceFile* _tmp20_;
	ValaSourceFile* _tmp21_;
	ValadocApiPackage* vdpkg = NULL;
	ValadocApiPackage* _tmp22_;
	ValadocApiPackage* _tmp23_;
	ValadocDriversTreeBuilderPackageMetaData* _tmp24_;
	ValadocDriversTreeBuilderPackageMetaData* _tmp25_;
	ValaSourceFile* _tmp26_;
	ValadocApiSourceFile* _tmp27_;
	ValadocApiSourceFile* _tmp28_;
	const gchar* _tmp29_;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	gchar* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (context != NULL, FALSE);
	g_return_val_if_fail (pkg != NULL, FALSE);
	if (vala_code_context_has_package (context, pkg)) {
		result = TRUE;
		return result;
	}
	_tmp0_ = g_strconcat (pkg, ".vapi", NULL);
	vapi_name = _tmp0_;
	_tmp1_ = g_strconcat (pkg, ".gir", NULL);
	gir_name = _tmp1_;
	_tmp2_ = self->priv->settings;
	_tmp3_ = _tmp2_->source_files;
	_tmp3__length1 = _tmp2_->source_files_length1;
	{
		gchar** source_file_collection = NULL;
		gint source_file_collection_length1 = 0;
		gint _source_file_collection_size_ = 0;
		gint source_file_it = 0;
		source_file_collection = _tmp3_;
		source_file_collection_length1 = _tmp3__length1;
		for (source_file_it = 0; source_file_it < _tmp3__length1; source_file_it = source_file_it + 1) {
			gchar* _tmp4_;
			gchar* source_file = NULL;
			_tmp4_ = g_strdup (source_file_collection[source_file_it]);
			source_file = _tmp4_;
			{
				gchar* basename = NULL;
				const gchar* _tmp5_;
				gchar* _tmp6_;
				gboolean _tmp7_ = FALSE;
				const gchar* _tmp8_;
				const gchar* _tmp9_;
				_tmp5_ = source_file;
				_tmp6_ = g_path_get_basename (_tmp5_);
				basename = _tmp6_;
				_tmp8_ = basename;
				_tmp9_ = vapi_name;
				if (g_strcmp0 (_tmp8_, _tmp9_) == 0) {
					_tmp7_ = TRUE;
				} else {
					const gchar* _tmp10_;
					const gchar* _tmp11_;
					_tmp10_ = basename;
					_tmp11_ = gir_name;
					_tmp7_ = g_strcmp0 (_tmp10_, _tmp11_) == 0;
				}
				if (_tmp7_) {
					result = TRUE;
					_g_free0 (basename);
					_g_free0 (source_file);
					_g_free0 (gir_name);
					_g_free0 (vapi_name);
					return result;
				}
				_g_free0 (basename);
				_g_free0 (source_file);
			}
		}
	}
	_tmp13_ = vala_code_context_get_vapi_path (context, pkg);
	_tmp12_ = _tmp13_;
	if (_tmp12_ == NULL) {
		gchar* _tmp14_;
		_tmp14_ = vala_code_context_get_gir_path (context, pkg);
		_g_free0 (_tmp12_);
		_tmp12_ = _tmp14_;
	}
	_tmp15_ = g_strdup (_tmp12_);
	package_path = _tmp15_;
	_tmp16_ = package_path;
	if (_tmp16_ == NULL) {
		gchar* _tmp17_;
		gchar* _tmp18_;
		_tmp17_ = g_strdup_printf ("Package `%s' not found in specified Vala API directories or GObject-In" \
"trospection GIR directories", pkg);
		_tmp18_ = _tmp17_;
		vala_report_error (NULL, _tmp18_);
		_g_free0 (_tmp18_);
		result = FALSE;
		_g_free0 (package_path);
		_g_free0 (_tmp12_);
		_g_free0 (gir_name);
		_g_free0 (vapi_name);
		return result;
	}
	vala_code_context_add_package (context, pkg);
	_tmp19_ = package_path;
	_tmp20_ = vala_source_file_new (context, VALA_SOURCE_FILE_TYPE_PACKAGE, _tmp19_, NULL, FALSE);
	vfile = _tmp20_;
	_tmp21_ = vfile;
	vala_code_context_add_source_file (context, _tmp21_);
	_tmp22_ = valadoc_api_package_new (pkg, TRUE, NULL);
	vdpkg = _tmp22_;
	_tmp23_ = vdpkg;
	_tmp24_ = valadoc_drivers_tree_builder_register_package (self, _tmp23_);
	_tmp25_ = _tmp24_;
	_tmp26_ = vfile;
	_tmp27_ = valadoc_drivers_tree_builder_register_source_file (self, _tmp25_, _tmp26_);
	_tmp28_ = _tmp27_;
	_g_object_unref0 (_tmp28_);
	_valadoc_drivers_tree_builder_package_meta_data_unref0 (_tmp25_);
	_tmp29_ = package_path;
	_tmp30_ = g_path_get_dirname (_tmp29_);
	_tmp31_ = _tmp30_;
	_tmp32_ = g_strdup_printf ("%s.deps", pkg);
	_tmp33_ = _tmp32_;
	_tmp34_ = g_build_filename (_tmp31_, _tmp33_, NULL);
	_tmp35_ = _tmp34_;
	valadoc_drivers_tree_builder_add_deps (self, context, _tmp35_, pkg);
	_g_free0 (_tmp35_);
	_g_free0 (_tmp33_);
	_g_free0 (_tmp31_);
	result = TRUE;
	_g_object_unref0 (vdpkg);
	_vala_source_file_unref0 (vfile);
	_g_free0 (package_path);
	_g_free0 (_tmp12_);
	_g_free0 (gir_name);
	_g_free0 (vapi_name);
	return result;
}


static gchar*
string_strip (const gchar* self)
{
	gchar* result = NULL;
	gchar* _result_ = NULL;
	gchar* _tmp0_;
	const gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_strdup (self);
	_result_ = _tmp0_;
	_tmp1_ = _result_;
	g_strstrip (_tmp1_);
	result = _result_;
	return result;
}


static void
valadoc_drivers_tree_builder_add_deps (ValadocDriversTreeBuilder* self,
                                       ValaCodeContext* context,
                                       const gchar* file_path,
                                       const gchar* pkg_name)
{
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	g_return_if_fail (file_path != NULL);
	g_return_if_fail (pkg_name != NULL);
	if (g_file_test (file_path, G_FILE_TEST_EXISTS)) {
		{
			gchar* deps_content = NULL;
			gulong deps_len = 0UL;
			gchar* _tmp0_ = NULL;
			gsize _tmp1_ = 0UL;
			const gchar* _tmp2_;
			gchar** _tmp3_;
			gchar** _tmp4_;
			g_file_get_contents (file_path, &_tmp0_, &_tmp1_, &_inner_error_);
			_g_free0 (deps_content);
			deps_content = _tmp0_;
			deps_len = (gulong) _tmp1_;
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_free0 (deps_content);
				if (_inner_error_->domain == G_FILE_ERROR) {
					goto __catch0_g_file_error;
				}
				_g_free0 (deps_content);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			_tmp2_ = deps_content;
			_tmp4_ = _tmp3_ = g_strsplit (_tmp2_, "\n", 0);
			{
				gchar** dep_collection = NULL;
				gint dep_collection_length1 = 0;
				gint _dep_collection_size_ = 0;
				gint dep_it = 0;
				dep_collection = _tmp4_;
				dep_collection_length1 = _vala_array_length (_tmp3_);
				for (dep_it = 0; dep_it < _vala_array_length (_tmp3_); dep_it = dep_it + 1) {
					gchar* _tmp5_;
					gchar* dep = NULL;
					_tmp5_ = g_strdup (dep_collection[dep_it]);
					dep = _tmp5_;
					{
						const gchar* _tmp6_;
						gchar* _tmp7_;
						const gchar* _tmp8_;
						_tmp6_ = dep;
						_tmp7_ = string_strip (_tmp6_);
						_g_free0 (dep);
						dep = _tmp7_;
						_tmp8_ = dep;
						if (g_strcmp0 (_tmp8_, "") != 0) {
							const gchar* _tmp9_;
							_tmp9_ = dep;
							if (!valadoc_drivers_tree_builder_add_package (self, context, _tmp9_)) {
								const gchar* _tmp10_;
								gchar* _tmp11_;
								gchar* _tmp12_;
								_tmp10_ = dep;
								_tmp11_ = g_strdup_printf ("%s, dependency of %s, not found in specified Vala API directories", _tmp10_, pkg_name);
								_tmp12_ = _tmp11_;
								vala_report_error (NULL, _tmp12_);
								_g_free0 (_tmp12_);
							}
						}
						_g_free0 (dep);
					}
				}
				dep_collection = (_vala_array_free (dep_collection, dep_collection_length1, (GDestroyNotify) g_free), NULL);
			}
			_g_free0 (deps_content);
		}
		goto __finally0;
		__catch0_g_file_error:
		{
			GError* e = NULL;
			GError* _tmp13_;
			const gchar* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			e = _inner_error_;
			_inner_error_ = NULL;
			_tmp13_ = e;
			_tmp14_ = _tmp13_->message;
			_tmp15_ = g_strdup_printf ("Unable to read dependency file: %s", _tmp14_);
			_tmp16_ = _tmp15_;
			vala_report_error (NULL, _tmp16_);
			_g_free0 (_tmp16_);
			_g_error_free0 (e);
		}
		__finally0:
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
}


/**
 * Adds the specified packages to the list of used packages.
 *
 * @param context The code context
 * @param packages a list of package names
 */
static void
valadoc_drivers_tree_builder_add_depencies (ValadocDriversTreeBuilder* self,
                                            ValaCodeContext* context,
                                            gchar** packages,
                                            int packages_length1)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	{
		gchar** package_collection = NULL;
		gint package_collection_length1 = 0;
		gint _package_collection_size_ = 0;
		gint package_it = 0;
		package_collection = packages;
		package_collection_length1 = packages_length1;
		for (package_it = 0; package_it < packages_length1; package_it = package_it + 1) {
			gchar* _tmp0_;
			gchar* package = NULL;
			_tmp0_ = g_strdup (package_collection[package_it]);
			package = _tmp0_;
			{
				const gchar* _tmp1_;
				_tmp1_ = package;
				if (!valadoc_drivers_tree_builder_add_package (self, context, _tmp1_)) {
					const gchar* _tmp2_;
					gchar* _tmp3_;
					gchar* _tmp4_;
					_tmp2_ = package;
					_tmp3_ = g_strdup_printf ("Package `%s' not found in specified Vala API directories or GObject-In" \
"trospection GIR directories", _tmp2_);
					_tmp4_ = _tmp3_;
					vala_report_error (NULL, _tmp4_);
					_g_free0 (_tmp4_);
				}
				_g_free0 (package);
			}
		}
	}
}


/**
 * Add the specified source file to the context. Only .vala, .vapi, .gs,
 * and .c files are supported.
 */
static void
valadoc_drivers_tree_builder_add_documented_files (ValadocDriversTreeBuilder* self,
                                                   ValaCodeContext* context,
                                                   gchar** sources,
                                                   int sources_length1)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	if (sources == NULL) {
		return;
	}
	{
		gchar** source_collection = NULL;
		gint source_collection_length1 = 0;
		gint _source_collection_size_ = 0;
		gint source_it = 0;
		source_collection = sources;
		source_collection_length1 = sources_length1;
		for (source_it = 0; source_it < sources_length1; source_it = source_it + 1) {
			gchar* _tmp0_;
			gchar* source = NULL;
			_tmp0_ = g_strdup (source_collection[source_it]);
			source = _tmp0_;
			{
				const gchar* _tmp1_;
				_tmp1_ = source;
				if (g_file_test (_tmp1_, G_FILE_TEST_EXISTS)) {
					gchar* rpath = NULL;
					const gchar* _tmp2_;
					gchar* _tmp3_;
					gboolean _tmp4_ = FALSE;
					const gchar* _tmp5_;
					_tmp2_ = source;
					_tmp3_ = vala_code_context_realpath (_tmp2_);
					rpath = _tmp3_;
					_tmp5_ = source;
					if (g_str_has_suffix (_tmp5_, ".vala")) {
						_tmp4_ = TRUE;
					} else {
						const gchar* _tmp6_;
						_tmp6_ = source;
						_tmp4_ = g_str_has_suffix (_tmp6_, ".gs");
					}
					if (_tmp4_) {
						ValaSourceFile* source_file = NULL;
						const gchar* _tmp7_;
						ValaSourceFile* _tmp8_;
						ValadocDriversTreeBuilderPackageMetaData* _tmp9_;
						ValadocDriversTreeBuilderPackageMetaData* _tmp15_;
						ValaSourceFile* _tmp16_;
						ValadocApiSourceFile* _tmp17_;
						ValadocApiSourceFile* _tmp18_;
						ValaProfile _tmp19_;
						ValaProfile _tmp20_;
						ValaSourceFile* _tmp30_;
						_tmp7_ = rpath;
						_tmp8_ = vala_source_file_new (context, VALA_SOURCE_FILE_TYPE_SOURCE, _tmp7_, NULL, FALSE);
						source_file = _tmp8_;
						_tmp9_ = self->priv->source_package;
						if (_tmp9_ == NULL) {
							ValadocSettings* _tmp10_;
							const gchar* _tmp11_;
							ValadocApiPackage* _tmp12_;
							ValadocApiPackage* _tmp13_;
							ValadocDriversTreeBuilderPackageMetaData* _tmp14_;
							_tmp10_ = self->priv->settings;
							_tmp11_ = _tmp10_->pkg_name;
							_tmp12_ = valadoc_api_package_new (_tmp11_, FALSE, NULL);
							_tmp13_ = _tmp12_;
							_tmp14_ = valadoc_drivers_tree_builder_register_package (self, _tmp13_);
							_valadoc_drivers_tree_builder_package_meta_data_unref0 (self->priv->source_package);
							self->priv->source_package = _tmp14_;
							_g_object_unref0 (_tmp13_);
						}
						_tmp15_ = self->priv->source_package;
						_tmp16_ = source_file;
						_tmp17_ = valadoc_drivers_tree_builder_register_source_file (self, _tmp15_, _tmp16_);
						_tmp18_ = _tmp17_;
						_g_object_unref0 (_tmp18_);
						_tmp19_ = vala_code_context_get_profile (context);
						_tmp20_ = _tmp19_;
						if (_tmp20_ == VALA_PROFILE_GOBJECT) {
							ValaUsingDirective* ns_ref = NULL;
							ValaUnresolvedSymbol* _tmp21_;
							ValaUnresolvedSymbol* _tmp22_;
							ValaUsingDirective* _tmp23_;
							ValaUsingDirective* _tmp24_;
							ValaSourceFile* _tmp25_;
							ValaUsingDirective* _tmp26_;
							ValaNamespace* _tmp27_;
							ValaNamespace* _tmp28_;
							ValaUsingDirective* _tmp29_;
							_tmp21_ = vala_unresolved_symbol_new (NULL, "GLib", NULL);
							_tmp22_ = _tmp21_;
							_tmp23_ = vala_using_directive_new ((ValaSymbol*) _tmp22_, NULL);
							_tmp24_ = _tmp23_;
							_vala_code_node_unref0 (_tmp22_);
							ns_ref = _tmp24_;
							_tmp25_ = source_file;
							_tmp26_ = ns_ref;
							vala_source_file_add_using_directive (_tmp25_, _tmp26_);
							_tmp27_ = vala_code_context_get_root (context);
							_tmp28_ = _tmp27_;
							_tmp29_ = ns_ref;
							vala_namespace_add_using_directive (_tmp28_, _tmp29_);
							_vala_code_node_unref0 (ns_ref);
						}
						_tmp30_ = source_file;
						vala_code_context_add_source_file (context, _tmp30_);
						_vala_source_file_unref0 (source_file);
					} else {
						gboolean _tmp31_ = FALSE;
						const gchar* _tmp32_;
						_tmp32_ = source;
						if (g_str_has_suffix (_tmp32_, ".vapi")) {
							_tmp31_ = TRUE;
						} else {
							const gchar* _tmp33_;
							_tmp33_ = source;
							_tmp31_ = g_str_has_suffix (_tmp33_, ".gir");
						}
						if (_tmp31_) {
							gchar* file_name = NULL;
							const gchar* _tmp34_;
							gchar* _tmp35_;
							ValaSourceFile* vfile = NULL;
							const gchar* _tmp36_;
							ValaSourceFile* _tmp37_;
							ValaSourceFile* _tmp38_;
							ValadocDriversTreeBuilderPackageMetaData* _tmp39_;
							ValadocDriversTreeBuilderPackageMetaData* _tmp45_;
							ValaSourceFile* _tmp46_;
							ValadocApiSourceFile* _tmp47_;
							ValadocApiSourceFile* _tmp48_;
							const gchar* _tmp49_;
							gchar* _tmp50_;
							gchar* _tmp51_;
							const gchar* _tmp52_;
							gchar* _tmp53_;
							gchar* _tmp54_;
							gchar* _tmp55_;
							gchar* _tmp56_;
							const gchar* _tmp57_;
							_tmp34_ = source;
							_tmp35_ = valadoc_drivers_tree_builder_get_package_name (self, _tmp34_);
							file_name = _tmp35_;
							_tmp36_ = rpath;
							_tmp37_ = vala_source_file_new (context, VALA_SOURCE_FILE_TYPE_PACKAGE, _tmp36_, NULL, FALSE);
							vfile = _tmp37_;
							_tmp38_ = vfile;
							vala_code_context_add_source_file (context, _tmp38_);
							_tmp39_ = self->priv->source_package;
							if (_tmp39_ == NULL) {
								ValadocSettings* _tmp40_;
								const gchar* _tmp41_;
								ValadocApiPackage* _tmp42_;
								ValadocApiPackage* _tmp43_;
								ValadocDriversTreeBuilderPackageMetaData* _tmp44_;
								_tmp40_ = self->priv->settings;
								_tmp41_ = _tmp40_->pkg_name;
								_tmp42_ = valadoc_api_package_new (_tmp41_, FALSE, NULL);
								_tmp43_ = _tmp42_;
								_tmp44_ = valadoc_drivers_tree_builder_register_package (self, _tmp43_);
								_valadoc_drivers_tree_builder_package_meta_data_unref0 (self->priv->source_package);
								self->priv->source_package = _tmp44_;
								_g_object_unref0 (_tmp43_);
							}
							_tmp45_ = self->priv->source_package;
							_tmp46_ = vfile;
							_tmp47_ = valadoc_drivers_tree_builder_register_source_file (self, _tmp45_, _tmp46_);
							_tmp48_ = _tmp47_;
							_g_object_unref0 (_tmp48_);
							_tmp49_ = source;
							_tmp50_ = g_path_get_dirname (_tmp49_);
							_tmp51_ = _tmp50_;
							_tmp52_ = file_name;
							_tmp53_ = g_strdup_printf ("%s.deps", _tmp52_);
							_tmp54_ = _tmp53_;
							_tmp55_ = g_build_filename (_tmp51_, _tmp54_, NULL);
							_tmp56_ = _tmp55_;
							_tmp57_ = file_name;
							valadoc_drivers_tree_builder_add_deps (self, context, _tmp56_, _tmp57_);
							_g_free0 (_tmp56_);
							_g_free0 (_tmp54_);
							_g_free0 (_tmp51_);
							_vala_source_file_unref0 (vfile);
							_g_free0 (file_name);
						} else {
							const gchar* _tmp58_;
							_tmp58_ = source;
							if (g_str_has_suffix (_tmp58_, ".c")) {
								const gchar* _tmp59_;
								ValadocApiTree* _tmp60_;
								const gchar* _tmp61_;
								_tmp59_ = rpath;
								vala_code_context_add_c_source_file (context, _tmp59_);
								_tmp60_ = self->priv->tree;
								_tmp61_ = rpath;
								valadoc_api_tree_add_external_c_files (_tmp60_, _tmp61_);
							} else {
								const gchar* _tmp62_;
								gchar* _tmp63_;
								gchar* _tmp64_;
								_tmp62_ = source;
								_tmp63_ = g_strdup_printf ("%s is not a supported source file type. Only .vala, .vapi, .gs, and .c" \
" files are supported.", _tmp62_);
								_tmp64_ = _tmp63_;
								vala_report_error (NULL, _tmp64_);
								_g_free0 (_tmp64_);
							}
						}
					}
					_g_free0 (rpath);
				} else {
					const gchar* _tmp65_;
					gchar* _tmp66_;
					gchar* _tmp67_;
					_tmp65_ = source;
					_tmp66_ = g_strdup_printf ("%s not found", _tmp65_);
					_tmp67_ = _tmp66_;
					vala_report_error (NULL, _tmp67_);
					_g_free0 (_tmp67_);
				}
				_g_free0 (source);
			}
		}
	}
}


static ValaCodeContext*
valadoc_drivers_tree_builder_create_valac_tree (ValadocDriversTreeBuilder* self,
                                                ValadocSettings* settings)
{
	ValaCodeContext* result = NULL;
	ValaCodeContext* context = NULL;
	ValaCodeContext* _tmp0_;
	ValaCodeContext* _tmp1_;
	ValaCodeContext* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_;
	ValaCodeContext* _tmp7_;
	ValaCodeContext* _tmp8_;
	gchar** _tmp9_;
	gint _tmp9__length1;
	ValaCodeContext* _tmp10_;
	ValaReport* _tmp11_;
	ValaReport* _tmp12_;
	gboolean _tmp13_;
	ValaCodeContext* _tmp14_;
	gchar** _tmp15_;
	gint _tmp15__length1;
	ValaCodeContext* _tmp16_;
	gchar** _tmp17_;
	gint _tmp17__length1;
	const gchar* _tmp18_;
	const gchar* _tmp26_;
	gboolean _tmp35_ = FALSE;
	gboolean _tmp36_ = FALSE;
	const gchar* _tmp37_;
	gchar** _tmp42_;
	gint _tmp42__length1;
	ValaCodeContext* _tmp54_;
	ValaProfile _tmp55_;
	ValaProfile _tmp56_;
	ValaCodeContext* _tmp84_;
	gchar** _tmp85_;
	gint _tmp85__length1;
	ValadocErrorReporter* _tmp86_;
	gint _tmp87_;
	gint _tmp88_;
	ValaCodeContext* _tmp89_;
	gchar** _tmp90_;
	gint _tmp90__length1;
	ValadocErrorReporter* _tmp91_;
	gint _tmp92_;
	gint _tmp93_;
	ValaParser* parser = NULL;
	ValaParser* _tmp94_;
	ValaParser* _tmp95_;
	ValaCodeContext* _tmp96_;
	ValaCodeContext* _tmp97_;
	ValaReport* _tmp98_;
	ValaReport* _tmp99_;
	ValaGirParser* gir_parser = NULL;
	ValaGirParser* _tmp100_;
	ValaGirParser* _tmp101_;
	ValaCodeContext* _tmp102_;
	ValaCodeContext* _tmp103_;
	ValaReport* _tmp104_;
	ValaReport* _tmp105_;
	ValaCodeContext* _tmp106_;
	ValaCodeContext* _tmp107_;
	ValaReport* _tmp108_;
	ValaReport* _tmp109_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (settings != NULL, NULL);
	_tmp0_ = vala_code_context_new ();
	context = _tmp0_;
	_tmp1_ = context;
	vala_code_context_push (_tmp1_);
	_tmp2_ = context;
	_tmp3_ = settings->experimental;
	vala_code_context_set_experimental (_tmp2_, _tmp3_);
	_tmp5_ = settings->experimental;
	if (_tmp5_) {
		_tmp4_ = TRUE;
	} else {
		gboolean _tmp6_;
		_tmp6_ = settings->experimental_non_null;
		_tmp4_ = _tmp6_;
	}
	_tmp7_ = context;
	vala_code_context_set_experimental_non_null (_tmp7_, _tmp4_);
	_tmp8_ = context;
	_tmp9_ = settings->vapi_directories;
	_tmp9__length1 = settings->vapi_directories_length1;
	vala_code_context_set_vapi_directories (_tmp8_, _tmp9_, _tmp9__length1);
	_tmp10_ = context;
	_tmp11_ = vala_code_context_get_report (_tmp10_);
	_tmp12_ = _tmp11_;
	_tmp13_ = settings->verbose;
	vala_report_set_enable_warnings (_tmp12_, _tmp13_);
	_tmp14_ = context;
	_tmp15_ = settings->metadata_directories;
	_tmp15__length1 = settings->metadata_directories_length1;
	vala_code_context_set_metadata_directories (_tmp14_, _tmp15_, _tmp15__length1);
	_tmp16_ = context;
	_tmp17_ = settings->gir_directories;
	_tmp17__length1 = settings->gir_directories_length1;
	vala_code_context_set_gir_directories (_tmp16_, _tmp17_, _tmp17__length1);
	_tmp18_ = settings->basedir;
	if (_tmp18_ == NULL) {
		ValaCodeContext* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		_tmp19_ = context;
		_tmp20_ = vala_code_context_realpath (".");
		_tmp21_ = _tmp20_;
		vala_code_context_set_basedir (_tmp19_, _tmp21_);
		_g_free0 (_tmp21_);
	} else {
		ValaCodeContext* _tmp22_;
		const gchar* _tmp23_;
		gchar* _tmp24_;
		gchar* _tmp25_;
		_tmp22_ = context;
		_tmp23_ = settings->basedir;
		_tmp24_ = vala_code_context_realpath (_tmp23_);
		_tmp25_ = _tmp24_;
		vala_code_context_set_basedir (_tmp22_, _tmp25_);
		_g_free0 (_tmp25_);
	}
	_tmp26_ = settings->directory;
	if (_tmp26_ != NULL) {
		ValaCodeContext* _tmp27_;
		const gchar* _tmp28_;
		gchar* _tmp29_;
		gchar* _tmp30_;
		_tmp27_ = context;
		_tmp28_ = settings->directory;
		_tmp29_ = vala_code_context_realpath (_tmp28_);
		_tmp30_ = _tmp29_;
		vala_code_context_set_directory (_tmp27_, _tmp30_);
		_g_free0 (_tmp30_);
	} else {
		ValaCodeContext* _tmp31_;
		ValaCodeContext* _tmp32_;
		const gchar* _tmp33_;
		const gchar* _tmp34_;
		_tmp31_ = context;
		_tmp32_ = context;
		_tmp33_ = vala_code_context_get_basedir (_tmp32_);
		_tmp34_ = _tmp33_;
		vala_code_context_set_directory (_tmp31_, _tmp34_);
	}
	_tmp37_ = settings->profile;
	if (g_strcmp0 (_tmp37_, "gobject-2.0") == 0) {
		_tmp36_ = TRUE;
	} else {
		const gchar* _tmp38_;
		_tmp38_ = settings->profile;
		_tmp36_ = g_strcmp0 (_tmp38_, "gobject") == 0;
	}
	if (_tmp36_) {
		_tmp35_ = TRUE;
	} else {
		const gchar* _tmp39_;
		_tmp39_ = settings->profile;
		_tmp35_ = _tmp39_ == NULL;
	}
	if (_tmp35_) {
		ValaCodeContext* _tmp40_;
		ValaCodeContext* _tmp41_;
		_tmp40_ = context;
		vala_code_context_set_profile (_tmp40_, VALA_PROFILE_GOBJECT);
		_tmp41_ = context;
		vala_code_context_add_define (_tmp41_, "GOBJECT");
	}
	_tmp42_ = settings->defines;
	_tmp42__length1 = settings->defines_length1;
	if (_tmp42_ != NULL) {
		gchar** _tmp43_;
		gint _tmp43__length1;
		_tmp43_ = settings->defines;
		_tmp43__length1 = settings->defines_length1;
		{
			gchar** define_collection = NULL;
			gint define_collection_length1 = 0;
			gint _define_collection_size_ = 0;
			gint define_it = 0;
			define_collection = _tmp43_;
			define_collection_length1 = _tmp43__length1;
			for (define_it = 0; define_it < _tmp43__length1; define_it = define_it + 1) {
				gchar* _tmp44_;
				gchar* define = NULL;
				_tmp44_ = g_strdup (define_collection[define_it]);
				define = _tmp44_;
				{
					ValaCodeContext* _tmp45_;
					const gchar* _tmp46_;
					_tmp45_ = context;
					_tmp46_ = define;
					vala_code_context_add_define (_tmp45_, _tmp46_);
					_g_free0 (define);
				}
			}
		}
	}
	{
		gint i = 0;
		i = 2;
		{
			gboolean _tmp47_ = FALSE;
			_tmp47_ = TRUE;
			while (TRUE) {
				gint _tmp49_;
				ValaCodeContext* _tmp50_;
				gint _tmp51_;
				gchar* _tmp52_;
				gchar* _tmp53_;
				if (!_tmp47_) {
					gint _tmp48_;
					_tmp48_ = i;
					i = _tmp48_ + 2;
				}
				_tmp47_ = FALSE;
				_tmp49_ = i;
				if (!(_tmp49_ <= 40)) {
					break;
				}
				_tmp50_ = context;
				_tmp51_ = i;
				_tmp52_ = g_strdup_printf ("VALA_0_%d", _tmp51_);
				_tmp53_ = _tmp52_;
				vala_code_context_add_define (_tmp50_, _tmp53_);
				_g_free0 (_tmp53_);
			}
		}
	}
	_tmp54_ = context;
	_tmp55_ = vala_code_context_get_profile (_tmp54_);
	_tmp56_ = _tmp55_;
	if (_tmp56_ == VALA_PROFILE_GOBJECT) {
		gint glib_major = 0;
		gint glib_minor = 0;
		ValaCodeContext* _tmp57_;
		gint _tmp58_;
		ValaCodeContext* _tmp59_;
		gint _tmp60_;
		ValaCodeContext* _tmp61_;
		gint _tmp62_;
		gint _tmp63_;
		gboolean _tmp64_ = FALSE;
		const gchar* _tmp65_;
		ValaCodeContext* _tmp67_;
		gint _tmp68_;
		ValaCodeContext* _tmp69_;
		gint _tmp70_;
		ValaCodeContext* _tmp71_;
		gint _tmp72_;
		gint _tmp73_;
		ValaCodeContext* _tmp82_;
		ValaCodeContext* _tmp83_;
		glib_major = 2;
		glib_minor = 40;
		_tmp57_ = context;
		_tmp58_ = glib_major;
		vala_code_context_set_target_glib_major (_tmp57_, _tmp58_);
		_tmp59_ = context;
		_tmp60_ = glib_minor;
		vala_code_context_set_target_glib_minor (_tmp59_, _tmp60_);
		_tmp61_ = context;
		_tmp62_ = vala_code_context_get_target_glib_major (_tmp61_);
		_tmp63_ = _tmp62_;
		if (_tmp63_ != 2) {
			vala_report_error (NULL, "This version of valac only supports GLib 2");
		}
		_tmp65_ = settings->target_glib;
		if (_tmp65_ != NULL) {
			const gchar* _tmp66_;
			_tmp66_ = settings->target_glib;
			_tmp64_ = sscanf (_tmp66_, "%d.%d", &glib_major, &glib_minor) != 2;
		} else {
			_tmp64_ = FALSE;
		}
		if (_tmp64_) {
			vala_report_error (NULL, "Invalid format for --target-glib");
		}
		_tmp67_ = context;
		_tmp68_ = glib_major;
		vala_code_context_set_target_glib_major (_tmp67_, _tmp68_);
		_tmp69_ = context;
		_tmp70_ = glib_minor;
		vala_code_context_set_target_glib_minor (_tmp69_, _tmp70_);
		_tmp71_ = context;
		_tmp72_ = vala_code_context_get_target_glib_major (_tmp71_);
		_tmp73_ = _tmp72_;
		if (_tmp73_ != 2) {
			vala_report_error (NULL, "This version of valac only supports GLib 2");
		}
		{
			gint i = 0;
			i = 16;
			{
				gboolean _tmp74_ = FALSE;
				_tmp74_ = TRUE;
				while (TRUE) {
					gint _tmp76_;
					gint _tmp77_;
					ValaCodeContext* _tmp78_;
					gint _tmp79_;
					gchar* _tmp80_;
					gchar* _tmp81_;
					if (!_tmp74_) {
						gint _tmp75_;
						_tmp75_ = i;
						i = _tmp75_ + 2;
					}
					_tmp74_ = FALSE;
					_tmp76_ = i;
					_tmp77_ = glib_minor;
					if (!(_tmp76_ <= _tmp77_)) {
						break;
					}
					_tmp78_ = context;
					_tmp79_ = i;
					_tmp80_ = g_strdup_printf ("GLIB_2_%d", _tmp79_);
					_tmp81_ = _tmp80_;
					vala_code_context_add_define (_tmp78_, _tmp81_);
					_g_free0 (_tmp81_);
				}
			}
		}
		_tmp82_ = context;
		if (!valadoc_drivers_tree_builder_add_package (self, _tmp82_, "glib-2.0")) {
			vala_report_error (NULL, "glib-2.0 not found in specified Vala API directories");
		}
		_tmp83_ = context;
		if (!valadoc_drivers_tree_builder_add_package (self, _tmp83_, "gobject-2.0")) {
			vala_report_error (NULL, "gobject-2.0 not found in specified Vala API directories");
		}
	}
	_tmp84_ = context;
	_tmp85_ = settings->packages;
	_tmp85__length1 = settings->packages_length1;
	valadoc_drivers_tree_builder_add_depencies (self, _tmp84_, _tmp85_, _tmp85__length1);
	_tmp86_ = self->priv->reporter;
	_tmp87_ = valadoc_error_reporter_get_errors (_tmp86_);
	_tmp88_ = _tmp87_;
	if (_tmp88_ > 0) {
		result = context;
		return result;
	}
	_tmp89_ = context;
	_tmp90_ = settings->source_files;
	_tmp90__length1 = settings->source_files_length1;
	valadoc_drivers_tree_builder_add_documented_files (self, _tmp89_, _tmp90_, _tmp90__length1);
	_tmp91_ = self->priv->reporter;
	_tmp92_ = valadoc_error_reporter_get_errors (_tmp91_);
	_tmp93_ = _tmp92_;
	if (_tmp93_ > 0) {
		result = context;
		return result;
	}
	_tmp94_ = vala_parser_new ();
	parser = _tmp94_;
	_tmp95_ = parser;
	_tmp96_ = context;
	vala_parser_parse (_tmp95_, _tmp96_);
	_tmp97_ = context;
	_tmp98_ = vala_code_context_get_report (_tmp97_);
	_tmp99_ = _tmp98_;
	if (vala_report_get_errors (_tmp99_) > 0) {
		result = context;
		_vala_code_visitor_unref0 (parser);
		return result;
	}
	_tmp100_ = vala_gir_parser_new ();
	gir_parser = _tmp100_;
	_tmp101_ = gir_parser;
	_tmp102_ = context;
	vala_gir_parser_parse (_tmp101_, _tmp102_);
	_tmp103_ = context;
	_tmp104_ = vala_code_context_get_report (_tmp103_);
	_tmp105_ = _tmp104_;
	if (vala_report_get_errors (_tmp105_) > 0) {
		result = context;
		_vala_code_visitor_unref0 (gir_parser);
		_vala_code_visitor_unref0 (parser);
		return result;
	}
	_tmp106_ = context;
	vala_code_context_check (_tmp106_);
	_tmp107_ = context;
	_tmp108_ = vala_code_context_get_report (_tmp107_);
	_tmp109_ = _tmp108_;
	if (vala_report_get_errors (_tmp109_) > 0) {
		result = context;
		_vala_code_visitor_unref0 (gir_parser);
		_vala_code_visitor_unref0 (parser);
		return result;
	}
	result = context;
	_vala_code_visitor_unref0 (gir_parser);
	_vala_code_visitor_unref0 (parser);
	return result;
}


static void
valadoc_drivers_tree_builder_process_children (ValadocDriversTreeBuilder* self,
                                               ValadocApiNode* node,
                                               ValaCodeNode* element)
{
	ValadocApiNode* old_node = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiNode* _tmp1_;
	ValadocApiNode* _tmp2_;
	ValadocApiNode* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (node != NULL);
	g_return_if_fail (element != NULL);
	_tmp0_ = self->priv->current_node;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	old_node = _tmp1_;
	_tmp2_ = _g_object_ref0 (node);
	_g_object_unref0 (self->priv->current_node);
	self->priv->current_node = _tmp2_;
	vala_code_node_accept_children (element, (ValaCodeVisitor*) self);
	_tmp3_ = _g_object_ref0 (old_node);
	_g_object_unref0 (self->priv->current_node);
	self->priv->current_node = _tmp3_;
	_g_object_unref0 (old_node);
}


static gpointer
_vala_source_file_ref0 (gpointer self)
{
	return self ? vala_source_file_ref (self) : NULL;
}


static ValadocApiNode*
valadoc_drivers_tree_builder_get_parent_node_for (ValadocDriversTreeBuilder* self,
                                                  ValaSymbol* element)
{
	ValadocApiNode* result = NULL;
	ValadocApiNode* _tmp0_;
	ValaSourceFile* vala_source_file = NULL;
	ValaSourceReference* _tmp3_;
	ValaSourceReference* _tmp4_;
	ValaSourceFile* _tmp5_;
	ValaSourceFile* _tmp6_;
	ValaSourceFile* _tmp7_;
	ValadocApiPackage* package = NULL;
	ValaSourceFile* _tmp8_;
	ValadocApiPackage* _tmp9_;
	ValadocApiSourceFile* source_file = NULL;
	ValadocApiSourceFile* _tmp10_;
	ValadocApiPackage* _tmp11_;
	ValadocApiSourceFile* _tmp12_;
	ValadocApiNamespace* _tmp13_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = self->priv->current_node;
	if (_tmp0_ != NULL) {
		ValadocApiNode* _tmp1_;
		ValadocApiNode* _tmp2_;
		_tmp1_ = self->priv->current_node;
		_tmp2_ = _g_object_ref0 (_tmp1_);
		result = _tmp2_;
		return result;
	}
	_tmp3_ = vala_code_node_get_source_reference ((ValaCodeNode*) element);
	_tmp4_ = _tmp3_;
	_tmp5_ = vala_source_reference_get_file (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = _vala_source_file_ref0 (_tmp6_);
	vala_source_file = _tmp7_;
	_tmp8_ = vala_source_file;
	_tmp9_ = valadoc_drivers_tree_builder_find_package_for_file (self, _tmp8_);
	package = _tmp9_;
	_tmp10_ = valadoc_drivers_tree_builder_get_source_file (self, element);
	source_file = _tmp10_;
	_tmp11_ = package;
	_tmp12_ = source_file;
	_tmp13_ = valadoc_drivers_tree_builder_get_namespace (self, _tmp11_, element, _tmp12_);
	result = (ValadocApiNode*) _tmp13_;
	_g_object_unref0 (source_file);
	_g_object_unref0 (package);
	_vala_source_file_unref0 (vala_source_file);
	return result;
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_namespace (ValaCodeVisitor* base,
                                                   ValaNamespace* element)
{
	ValadocDriversTreeBuilder * self;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	vala_code_node_accept_children ((ValaCodeNode*) element, (ValaCodeVisitor*) self);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_class (ValaCodeVisitor* base,
                                               ValaClass* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	gboolean _tmp5_ = FALSE;
	ValaClass* _tmp6_;
	ValaClass* _tmp7_;
	gboolean is_basic_type = FALSE;
	ValadocApiClass* node = NULL;
	ValadocApiNode* _tmp10_;
	ValadocApiSourceFile* _tmp11_;
	const gchar* _tmp12_;
	const gchar* _tmp13_;
	ValadocApiSourceComment* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	gchar* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	gchar* _tmp36_;
	gchar* _tmp37_;
	gchar* _tmp38_;
	gchar* _tmp39_;
	gchar* _tmp40_;
	gchar* _tmp41_;
	gchar* _tmp42_;
	gchar* _tmp43_;
	gchar* _tmp44_;
	gchar* _tmp45_;
	gchar* _tmp46_;
	gchar* _tmp47_;
	gchar* _tmp48_;
	gchar* _tmp49_;
	gchar* _tmp50_;
	gchar* _tmp51_;
	gchar* _tmp52_;
	gboolean _tmp53_;
	gboolean _tmp54_;
	gboolean _tmp55_;
	ValadocApiClass* _tmp56_;
	ValadocApiClass* _tmp57_;
	ValaHashMap* _tmp58_;
	ValadocApiClass* _tmp59_;
	ValadocApiNode* _tmp60_;
	ValadocApiClass* _tmp61_;
	ValadocApiClass* _tmp86_;
	GList* _tmp87_;
	ValadocApiClass* _tmp88_;
	gboolean _tmp89_ = FALSE;
	ValadocApiClass* _tmp90_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp6_ = vala_class_get_base_class (element);
	_tmp7_ = _tmp6_;
	if (_tmp7_ == NULL) {
		const gchar* _tmp8_;
		const gchar* _tmp9_;
		_tmp8_ = vala_symbol_get_name ((ValaSymbol*) element);
		_tmp9_ = _tmp8_;
		_tmp5_ = g_strcmp0 (_tmp9_, "string") == 0;
	} else {
		_tmp5_ = FALSE;
	}
	is_basic_type = _tmp5_;
	_tmp10_ = parent;
	_tmp11_ = file;
	_tmp12_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp13_ = _tmp12_;
	_tmp14_ = comment;
	_tmp15_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp16_ = _tmp15_;
	_tmp17_ = valadoc_drivers_tree_builder_get_private_cname (self, element);
	_tmp18_ = _tmp17_;
	_tmp19_ = valadoc_drivers_tree_builder_get_class_macro_name (self, element);
	_tmp20_ = _tmp19_;
	_tmp21_ = valadoc_drivers_tree_builder_get_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp22_ = _tmp21_;
	_tmp23_ = valadoc_drivers_tree_builder_get_is_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp24_ = _tmp23_;
	_tmp25_ = valadoc_drivers_tree_builder_get_type_cast_macro_name (self, (ValaTypeSymbol*) element);
	_tmp26_ = _tmp25_;
	_tmp27_ = valadoc_drivers_tree_builder_get_type_function_name (self, (ValaTypeSymbol*) element);
	_tmp28_ = _tmp27_;
	_tmp29_ = valadoc_drivers_tree_builder_get_class_type_macro_name (self, element);
	_tmp30_ = _tmp29_;
	_tmp31_ = valadoc_drivers_tree_builder_get_is_class_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp32_ = _tmp31_;
	_tmp33_ = vala_gd_bus_module_get_dbus_name ((ValaTypeSymbol*) element);
	_tmp34_ = _tmp33_;
	_tmp35_ = valadoc_drivers_tree_builder_get_ccode_type_id (self, (ValaCodeNode*) element);
	_tmp36_ = _tmp35_;
	_tmp37_ = valadoc_drivers_tree_builder_get_param_spec_function (self, (ValaCodeNode*) element);
	_tmp38_ = _tmp37_;
	_tmp39_ = valadoc_drivers_tree_builder_get_ref_function (self, element);
	_tmp40_ = _tmp39_;
	_tmp41_ = valadoc_drivers_tree_builder_get_unref_function (self, element);
	_tmp42_ = _tmp41_;
	_tmp43_ = valadoc_drivers_tree_builder_get_free_function_name (self, element);
	_tmp44_ = _tmp43_;
	_tmp45_ = valadoc_drivers_tree_builder_get_finalize_function_name (self, element);
	_tmp46_ = _tmp45_;
	_tmp47_ = valadoc_drivers_tree_builder_get_take_value_function (self, element);
	_tmp48_ = _tmp47_;
	_tmp49_ = valadoc_drivers_tree_builder_get_get_value_function (self, element);
	_tmp50_ = _tmp49_;
	_tmp51_ = valadoc_drivers_tree_builder_get_set_value_function (self, element);
	_tmp52_ = _tmp51_;
	_tmp53_ = vala_class_get_is_abstract (element);
	_tmp54_ = _tmp53_;
	_tmp55_ = is_basic_type;
	_tmp56_ = valadoc_api_class_new (_tmp10_, _tmp11_, _tmp13_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp14_, _tmp16_, _tmp18_, _tmp20_, _tmp22_, _tmp24_, _tmp26_, _tmp28_, _tmp30_, _tmp32_, _tmp34_, _tmp36_, _tmp38_, _tmp40_, _tmp42_, _tmp44_, _tmp46_, _tmp48_, _tmp50_, _tmp52_, vala_class_is_fundamental (element), _tmp54_, _tmp55_, element);
	_tmp57_ = _tmp56_;
	_g_free0 (_tmp52_);
	_g_free0 (_tmp50_);
	_g_free0 (_tmp48_);
	_g_free0 (_tmp46_);
	_g_free0 (_tmp44_);
	_g_free0 (_tmp42_);
	_g_free0 (_tmp40_);
	_g_free0 (_tmp38_);
	_g_free0 (_tmp36_);
	_g_free0 (_tmp34_);
	_g_free0 (_tmp32_);
	_g_free0 (_tmp30_);
	_g_free0 (_tmp28_);
	_g_free0 (_tmp26_);
	_g_free0 (_tmp24_);
	_g_free0 (_tmp22_);
	_g_free0 (_tmp20_);
	_g_free0 (_tmp18_);
	_g_free0 (_tmp16_);
	node = _tmp57_;
	_tmp58_ = self->priv->symbol_map;
	_tmp59_ = node;
	vala_map_set ((ValaMap*) _tmp58_, (ValaSymbol*) element, (ValadocApiSymbol*) _tmp59_);
	_tmp60_ = parent;
	_tmp61_ = node;
	valadoc_api_node_add_child (_tmp60_, (ValadocApiSymbol*) _tmp61_);
	{
		ValaList* _vala_type_ref_list = NULL;
		ValaList* _tmp62_;
		gint _vala_type_ref_size = 0;
		ValaList* _tmp63_;
		gint _tmp64_;
		gint _tmp65_;
		gint _vala_type_ref_index = 0;
		_tmp62_ = vala_class_get_base_types (element);
		_vala_type_ref_list = _tmp62_;
		_tmp63_ = _vala_type_ref_list;
		_tmp64_ = vala_collection_get_size ((ValaCollection*) _tmp63_);
		_tmp65_ = _tmp64_;
		_vala_type_ref_size = _tmp65_;
		_vala_type_ref_index = -1;
		while (TRUE) {
			gint _tmp66_;
			gint _tmp67_;
			gint _tmp68_;
			ValaDataType* vala_type_ref = NULL;
			ValaList* _tmp69_;
			gint _tmp70_;
			gpointer _tmp71_;
			ValadocApiTypeReference* type_ref = NULL;
			ValaDataType* _tmp72_;
			ValadocApiClass* _tmp73_;
			ValadocApiClass* _tmp74_;
			ValadocApiTypeReference* _tmp75_;
			ValaDataType* _tmp76_;
			ValaTypeSymbol* _tmp77_;
			ValaTypeSymbol* _tmp78_;
			_tmp66_ = _vala_type_ref_index;
			_vala_type_ref_index = _tmp66_ + 1;
			_tmp67_ = _vala_type_ref_index;
			_tmp68_ = _vala_type_ref_size;
			if (!(_tmp67_ < _tmp68_)) {
				break;
			}
			_tmp69_ = _vala_type_ref_list;
			_tmp70_ = _vala_type_ref_index;
			_tmp71_ = vala_list_get (_tmp69_, _tmp70_);
			vala_type_ref = (ValaDataType*) _tmp71_;
			_tmp72_ = vala_type_ref;
			_tmp73_ = node;
			_tmp74_ = node;
			_tmp75_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp72_, (ValadocApiItem*) _tmp73_, (ValadocApiNode*) _tmp74_);
			type_ref = _tmp75_;
			_tmp76_ = vala_type_ref;
			_tmp77_ = vala_data_type_get_data_type (_tmp76_);
			_tmp78_ = _tmp77_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp78_, VALA_TYPE_INTERFACE)) {
				ValadocApiClass* _tmp79_;
				ValadocApiTypeReference* _tmp80_;
				_tmp79_ = node;
				_tmp80_ = type_ref;
				valadoc_api_class_add_interface (_tmp79_, _tmp80_);
			} else {
				ValaDataType* _tmp81_;
				ValaTypeSymbol* _tmp82_;
				ValaTypeSymbol* _tmp83_;
				_tmp81_ = vala_type_ref;
				_tmp82_ = vala_data_type_get_data_type (_tmp81_);
				_tmp83_ = _tmp82_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp83_, VALA_TYPE_CLASS)) {
					ValadocApiClass* _tmp84_;
					ValadocApiTypeReference* _tmp85_;
					_tmp84_ = node;
					_tmp85_ = type_ref;
					valadoc_api_class_set_base_type (_tmp84_, _tmp85_);
				}
			}
			_g_object_unref0 (type_ref);
			_vala_code_node_unref0 (vala_type_ref);
		}
		_vala_iterable_unref0 (_vala_type_ref_list);
	}
	_tmp86_ = node;
	_tmp87_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) _tmp86_, _tmp87_);
	_tmp88_ = node;
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) _tmp88_, (ValaCodeNode*) element);
	_tmp90_ = self->priv->glib_error;
	if (_tmp90_ == NULL) {
		ValadocApiClass* _tmp91_;
		gchar* _tmp92_;
		gchar* _tmp93_;
		_tmp91_ = node;
		_tmp92_ = valadoc_api_node_get_full_name ((ValadocApiNode*) _tmp91_);
		_tmp93_ = _tmp92_;
		_tmp89_ = g_strcmp0 (_tmp93_, "GLib.Error") == 0;
		_g_free0 (_tmp93_);
	} else {
		_tmp89_ = FALSE;
	}
	if (_tmp89_) {
		ValadocApiClass* _tmp94_;
		ValadocApiClass* _tmp95_;
		_tmp94_ = node;
		_tmp95_ = _g_object_ref0 (_tmp94_);
		_g_object_unref0 (self->priv->glib_error);
		self->priv->glib_error = _tmp95_;
	}
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_interface (ValaCodeVisitor* base,
                                                   ValaInterface* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiInterface* node = NULL;
	ValadocApiNode* _tmp5_;
	ValadocApiSourceFile* _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	ValadocApiSourceComment* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	ValadocApiInterface* _tmp24_;
	ValadocApiInterface* _tmp25_;
	ValaHashMap* _tmp26_;
	ValadocApiInterface* _tmp27_;
	ValadocApiNode* _tmp28_;
	ValadocApiInterface* _tmp29_;
	ValadocApiInterface* _tmp51_;
	GList* _tmp52_;
	ValadocApiInterface* _tmp53_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = parent;
	_tmp6_ = file;
	_tmp7_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = comment;
	_tmp10_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp11_ = _tmp10_;
	_tmp12_ = valadoc_drivers_tree_builder_get_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp13_ = _tmp12_;
	_tmp14_ = valadoc_drivers_tree_builder_get_is_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp15_ = _tmp14_;
	_tmp16_ = valadoc_drivers_tree_builder_get_type_cast_macro_name (self, (ValaTypeSymbol*) element);
	_tmp17_ = _tmp16_;
	_tmp18_ = valadoc_drivers_tree_builder_get_type_function_name (self, (ValaTypeSymbol*) element);
	_tmp19_ = _tmp18_;
	_tmp20_ = valadoc_drivers_tree_builder_get_interface_macro_name (self, element);
	_tmp21_ = _tmp20_;
	_tmp22_ = vala_gd_bus_module_get_dbus_name ((ValaTypeSymbol*) element);
	_tmp23_ = _tmp22_;
	_tmp24_ = valadoc_api_interface_new (_tmp5_, _tmp6_, _tmp8_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp9_, _tmp11_, _tmp13_, _tmp15_, _tmp17_, _tmp19_, _tmp21_, _tmp23_, element);
	_tmp25_ = _tmp24_;
	_g_free0 (_tmp23_);
	_g_free0 (_tmp21_);
	_g_free0 (_tmp19_);
	_g_free0 (_tmp17_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp13_);
	_g_free0 (_tmp11_);
	node = _tmp25_;
	_tmp26_ = self->priv->symbol_map;
	_tmp27_ = node;
	vala_map_set ((ValaMap*) _tmp26_, (ValaSymbol*) element, (ValadocApiSymbol*) _tmp27_);
	_tmp28_ = parent;
	_tmp29_ = node;
	valadoc_api_node_add_child (_tmp28_, (ValadocApiSymbol*) _tmp29_);
	{
		ValaList* _vala_type_ref_list = NULL;
		ValaList* _tmp30_;
		gint _vala_type_ref_size = 0;
		ValaList* _tmp31_;
		gint _tmp32_;
		gint _tmp33_;
		gint _vala_type_ref_index = 0;
		_tmp30_ = vala_interface_get_prerequisites (element);
		_vala_type_ref_list = _tmp30_;
		_tmp31_ = _vala_type_ref_list;
		_tmp32_ = vala_collection_get_size ((ValaCollection*) _tmp31_);
		_tmp33_ = _tmp32_;
		_vala_type_ref_size = _tmp33_;
		_vala_type_ref_index = -1;
		while (TRUE) {
			gint _tmp34_;
			gint _tmp35_;
			gint _tmp36_;
			ValaDataType* vala_type_ref = NULL;
			ValaList* _tmp37_;
			gint _tmp38_;
			gpointer _tmp39_;
			ValadocApiTypeReference* type_ref = NULL;
			ValaDataType* _tmp40_;
			ValadocApiInterface* _tmp41_;
			ValadocApiInterface* _tmp42_;
			ValadocApiTypeReference* _tmp43_;
			ValaDataType* _tmp44_;
			ValaTypeSymbol* _tmp45_;
			ValaTypeSymbol* _tmp46_;
			_tmp34_ = _vala_type_ref_index;
			_vala_type_ref_index = _tmp34_ + 1;
			_tmp35_ = _vala_type_ref_index;
			_tmp36_ = _vala_type_ref_size;
			if (!(_tmp35_ < _tmp36_)) {
				break;
			}
			_tmp37_ = _vala_type_ref_list;
			_tmp38_ = _vala_type_ref_index;
			_tmp39_ = vala_list_get (_tmp37_, _tmp38_);
			vala_type_ref = (ValaDataType*) _tmp39_;
			_tmp40_ = vala_type_ref;
			_tmp41_ = node;
			_tmp42_ = node;
			_tmp43_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp40_, (ValadocApiItem*) _tmp41_, (ValadocApiNode*) _tmp42_);
			type_ref = _tmp43_;
			_tmp44_ = vala_type_ref;
			_tmp45_ = vala_data_type_get_data_type (_tmp44_);
			_tmp46_ = _tmp45_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp46_, VALA_TYPE_INTERFACE)) {
				ValadocApiInterface* _tmp47_;
				ValadocApiTypeReference* _tmp48_;
				_tmp47_ = node;
				_tmp48_ = type_ref;
				valadoc_api_interface_add_interface (_tmp47_, _tmp48_);
			} else {
				ValadocApiInterface* _tmp49_;
				ValadocApiTypeReference* _tmp50_;
				_tmp49_ = node;
				_tmp50_ = type_ref;
				valadoc_api_interface_set_base_type (_tmp49_, _tmp50_);
			}
			_g_object_unref0 (type_ref);
			_vala_code_node_unref0 (vala_type_ref);
		}
		_vala_iterable_unref0 (_vala_type_ref_list);
	}
	_tmp51_ = node;
	_tmp52_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) _tmp51_, _tmp52_);
	_tmp53_ = node;
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) _tmp53_, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_struct (ValaCodeVisitor* base,
                                                ValaStruct* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	gboolean _tmp5_ = FALSE;
	ValaDataType* _tmp6_;
	ValaDataType* _tmp7_;
	gboolean is_basic_type = FALSE;
	ValadocApiStruct* node = NULL;
	ValadocApiNode* _tmp10_;
	ValadocApiSourceFile* _tmp11_;
	const gchar* _tmp12_;
	const gchar* _tmp13_;
	ValadocApiSourceComment* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	gchar* _tmp30_;
	gboolean _tmp31_;
	ValadocApiStruct* _tmp32_;
	ValadocApiStruct* _tmp33_;
	ValaHashMap* _tmp34_;
	ValadocApiStruct* _tmp35_;
	ValadocApiNode* _tmp36_;
	ValadocApiStruct* _tmp37_;
	ValaValueType* basetype = NULL;
	ValaDataType* _tmp38_;
	ValaDataType* _tmp39_;
	ValaValueType* _tmp40_;
	ValaValueType* _tmp41_;
	ValadocApiStruct* _tmp48_;
	GList* _tmp49_;
	ValadocApiStruct* _tmp50_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp6_ = vala_struct_get_base_type (element);
	_tmp7_ = _tmp6_;
	if (_tmp7_ == NULL) {
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_ = FALSE;
		if (vala_struct_is_boolean_type (element)) {
			_tmp9_ = TRUE;
		} else {
			_tmp9_ = vala_struct_is_floating_type (element);
		}
		if (_tmp9_) {
			_tmp8_ = TRUE;
		} else {
			_tmp8_ = vala_struct_is_integer_type (element);
		}
		_tmp5_ = _tmp8_;
	} else {
		_tmp5_ = FALSE;
	}
	is_basic_type = _tmp5_;
	_tmp10_ = parent;
	_tmp11_ = file;
	_tmp12_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp13_ = _tmp12_;
	_tmp14_ = comment;
	_tmp15_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp16_ = _tmp15_;
	_tmp17_ = valadoc_drivers_tree_builder_get_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp18_ = _tmp17_;
	_tmp19_ = valadoc_drivers_tree_builder_get_type_function_name (self, (ValaTypeSymbol*) element);
	_tmp20_ = _tmp19_;
	_tmp21_ = valadoc_drivers_tree_builder_get_ccode_type_id (self, (ValaCodeNode*) element);
	_tmp22_ = _tmp21_;
	_tmp23_ = valadoc_drivers_tree_builder_get_dup_function (self, (ValaTypeSymbol*) element);
	_tmp24_ = _tmp23_;
	_tmp25_ = valadoc_drivers_tree_builder_get_copy_function (self, (ValaTypeSymbol*) element);
	_tmp26_ = _tmp25_;
	_tmp27_ = valadoc_drivers_tree_builder_get_destroy_function (self, (ValaTypeSymbol*) element);
	_tmp28_ = _tmp27_;
	_tmp29_ = valadoc_drivers_tree_builder_get_free_function (self, (ValaTypeSymbol*) element);
	_tmp30_ = _tmp29_;
	_tmp31_ = is_basic_type;
	_tmp32_ = valadoc_api_struct_new (_tmp10_, _tmp11_, _tmp13_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp14_, _tmp16_, _tmp18_, _tmp20_, _tmp22_, _tmp24_, _tmp26_, _tmp28_, _tmp30_, _tmp31_, element);
	_tmp33_ = _tmp32_;
	_g_free0 (_tmp30_);
	_g_free0 (_tmp28_);
	_g_free0 (_tmp26_);
	_g_free0 (_tmp24_);
	_g_free0 (_tmp22_);
	_g_free0 (_tmp20_);
	_g_free0 (_tmp18_);
	_g_free0 (_tmp16_);
	node = _tmp33_;
	_tmp34_ = self->priv->symbol_map;
	_tmp35_ = node;
	vala_map_set ((ValaMap*) _tmp34_, (ValaSymbol*) element, (ValadocApiSymbol*) _tmp35_);
	_tmp36_ = parent;
	_tmp37_ = node;
	valadoc_api_node_add_child (_tmp36_, (ValadocApiSymbol*) _tmp37_);
	_tmp38_ = vala_struct_get_base_type (element);
	_tmp39_ = _tmp38_;
	_tmp40_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp39_, VALA_TYPE_VALUE_TYPE) ? ((ValaValueType*) _tmp39_) : NULL);
	basetype = _tmp40_;
	_tmp41_ = basetype;
	if (_tmp41_ != NULL) {
		ValadocApiStruct* _tmp42_;
		ValaValueType* _tmp43_;
		ValadocApiStruct* _tmp44_;
		ValadocApiStruct* _tmp45_;
		ValadocApiTypeReference* _tmp46_;
		ValadocApiTypeReference* _tmp47_;
		_tmp42_ = node;
		_tmp43_ = basetype;
		_tmp44_ = node;
		_tmp45_ = node;
		_tmp46_ = valadoc_drivers_tree_builder_create_type_reference (self, (ValaDataType*) _tmp43_, (ValadocApiItem*) _tmp44_, (ValadocApiNode*) _tmp45_);
		_tmp47_ = _tmp46_;
		valadoc_api_struct_set_base_type (_tmp42_, _tmp47_);
		_g_object_unref0 (_tmp47_);
	}
	_tmp48_ = node;
	_tmp49_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) _tmp48_, _tmp49_);
	_tmp50_ = node;
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) _tmp50_, (ValaCodeNode*) element);
	_vala_code_node_unref0 (basetype);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_field (ValaCodeVisitor* base,
                                               ValaField* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiField* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	ValaMemberBinding _tmp9_;
	ValaMemberBinding _tmp10_;
	gboolean _tmp11_;
	gboolean _tmp12_;
	ValadocApiField* _tmp13_;
	ValadocApiField* _tmp14_;
	ValaDataType* _tmp15_;
	ValaDataType* _tmp16_;
	ValadocApiTypeReference* _tmp17_;
	ValadocApiTypeReference* _tmp18_;
	ValaHashMap* _tmp19_;
	GList* _tmp20_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = vala_field_get_binding (element);
	_tmp10_ = _tmp9_;
	_tmp11_ = vala_field_get_is_volatile (element);
	_tmp12_ = _tmp11_;
	_tmp13_ = valadoc_api_field_new (parent, file, _tmp6_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), comment, _tmp8_, _tmp10_ == VALA_MEMBER_BINDING_STATIC, _tmp12_, element);
	_tmp14_ = _tmp13_;
	_g_free0 (_tmp8_);
	node = _tmp14_;
	_tmp15_ = vala_variable_get_variable_type ((ValaVariable*) element);
	_tmp16_ = _tmp15_;
	_tmp17_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp16_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp18_ = _tmp17_;
	valadoc_api_field_set_field_type (node, _tmp18_);
	_g_object_unref0 (_tmp18_);
	_tmp19_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp19_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	valadoc_api_node_add_child (parent, (ValadocApiSymbol*) node);
	_tmp20_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp20_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_property (ValaCodeVisitor* base,
                                                  ValaProperty* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiProperty* node = NULL;
	ValadocApiNode* _tmp5_;
	ValadocApiSourceFile* _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	ValadocApiSourceComment* _tmp9_;
	const gchar* _tmp10_;
	const gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	ValadocApiProperty* _tmp14_;
	ValadocApiProperty* _tmp15_;
	ValadocApiProperty* _tmp16_;
	ValaDataType* _tmp17_;
	ValaDataType* _tmp18_;
	ValadocApiProperty* _tmp19_;
	ValadocApiProperty* _tmp20_;
	ValadocApiTypeReference* _tmp21_;
	ValadocApiTypeReference* _tmp22_;
	ValaHashMap* _tmp23_;
	ValadocApiProperty* _tmp24_;
	ValadocApiNode* _tmp25_;
	ValadocApiProperty* _tmp26_;
	ValaPropertyAccessor* _tmp27_;
	ValaPropertyAccessor* _tmp28_;
	ValaPropertyAccessor* _tmp46_;
	ValaPropertyAccessor* _tmp47_;
	ValadocApiProperty* _tmp65_;
	GList* _tmp66_;
	ValadocApiProperty* _tmp67_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = parent;
	_tmp6_ = file;
	_tmp7_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = comment;
	_tmp10_ = vala_property_get_nick (element);
	_tmp11_ = _tmp10_;
	_tmp12_ = vala_gd_bus_module_get_dbus_name_for_member ((ValaSymbol*) element);
	_tmp13_ = _tmp12_;
	_tmp14_ = valadoc_api_property_new (_tmp5_, _tmp6_, _tmp8_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp9_, _tmp11_, _tmp13_, vala_gd_bus_module_is_dbus_visible ((ValaCodeNode*) element), valadoc_drivers_tree_builder_get_property_binding_type (self, element), element);
	_tmp15_ = _tmp14_;
	_g_free0 (_tmp13_);
	node = _tmp15_;
	_tmp16_ = node;
	_tmp17_ = vala_property_get_property_type (element);
	_tmp18_ = _tmp17_;
	_tmp19_ = node;
	_tmp20_ = node;
	_tmp21_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp18_, (ValadocApiItem*) _tmp19_, (ValadocApiNode*) _tmp20_);
	_tmp22_ = _tmp21_;
	valadoc_api_property_set_property_type (_tmp16_, _tmp22_);
	_g_object_unref0 (_tmp22_);
	_tmp23_ = self->priv->symbol_map;
	_tmp24_ = node;
	vala_map_set ((ValaMap*) _tmp23_, (ValaSymbol*) element, (ValadocApiSymbol*) _tmp24_);
	_tmp25_ = parent;
	_tmp26_ = node;
	valadoc_api_node_add_child (_tmp25_, (ValadocApiSymbol*) _tmp26_);
	_tmp27_ = vala_property_get_get_accessor (element);
	_tmp28_ = _tmp27_;
	if (_tmp28_ != NULL) {
		ValaPropertyAccessor* accessor = NULL;
		ValaPropertyAccessor* _tmp29_;
		ValaPropertyAccessor* _tmp30_;
		ValaPropertyAccessor* _tmp31_;
		ValadocApiProperty* _tmp32_;
		ValadocApiProperty* _tmp33_;
		ValadocApiSourceFile* _tmp34_;
		const gchar* _tmp35_;
		const gchar* _tmp36_;
		ValaPropertyAccessor* _tmp37_;
		ValaPropertyAccessor* _tmp38_;
		gchar* _tmp39_;
		gchar* _tmp40_;
		ValaPropertyAccessor* _tmp41_;
		ValaPropertyAccessor* _tmp42_;
		ValaPropertyAccessor* _tmp43_;
		ValadocApiPropertyAccessor* _tmp44_;
		ValadocApiPropertyAccessor* _tmp45_;
		_tmp29_ = vala_property_get_get_accessor (element);
		_tmp30_ = _tmp29_;
		_tmp31_ = _vala_code_node_ref0 (_tmp30_);
		accessor = _tmp31_;
		_tmp32_ = node;
		_tmp33_ = node;
		_tmp34_ = file;
		_tmp35_ = vala_symbol_get_name ((ValaSymbol*) element);
		_tmp36_ = _tmp35_;
		_tmp37_ = accessor;
		_tmp38_ = accessor;
		_tmp39_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) _tmp38_);
		_tmp40_ = _tmp39_;
		_tmp41_ = accessor;
		_tmp42_ = accessor;
		_tmp43_ = accessor;
		_tmp44_ = valadoc_api_property_accessor_new (_tmp33_, _tmp34_, _tmp36_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) _tmp37_), _tmp40_, valadoc_drivers_tree_builder_get_property_accessor_type (self, _tmp41_), valadoc_drivers_tree_builder_get_property_ownership (self, _tmp42_), _tmp43_);
		_tmp45_ = _tmp44_;
		valadoc_api_property_set_getter (_tmp32_, _tmp45_);
		_g_object_unref0 (_tmp45_);
		_g_free0 (_tmp40_);
		_vala_code_node_unref0 (accessor);
	}
	_tmp46_ = vala_property_get_set_accessor (element);
	_tmp47_ = _tmp46_;
	if (_tmp47_ != NULL) {
		ValaPropertyAccessor* accessor = NULL;
		ValaPropertyAccessor* _tmp48_;
		ValaPropertyAccessor* _tmp49_;
		ValaPropertyAccessor* _tmp50_;
		ValadocApiProperty* _tmp51_;
		ValadocApiProperty* _tmp52_;
		ValadocApiSourceFile* _tmp53_;
		const gchar* _tmp54_;
		const gchar* _tmp55_;
		ValaPropertyAccessor* _tmp56_;
		ValaPropertyAccessor* _tmp57_;
		gchar* _tmp58_;
		gchar* _tmp59_;
		ValaPropertyAccessor* _tmp60_;
		ValaPropertyAccessor* _tmp61_;
		ValaPropertyAccessor* _tmp62_;
		ValadocApiPropertyAccessor* _tmp63_;
		ValadocApiPropertyAccessor* _tmp64_;
		_tmp48_ = vala_property_get_set_accessor (element);
		_tmp49_ = _tmp48_;
		_tmp50_ = _vala_code_node_ref0 (_tmp49_);
		accessor = _tmp50_;
		_tmp51_ = node;
		_tmp52_ = node;
		_tmp53_ = file;
		_tmp54_ = vala_symbol_get_name ((ValaSymbol*) element);
		_tmp55_ = _tmp54_;
		_tmp56_ = accessor;
		_tmp57_ = accessor;
		_tmp58_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) _tmp57_);
		_tmp59_ = _tmp58_;
		_tmp60_ = accessor;
		_tmp61_ = accessor;
		_tmp62_ = accessor;
		_tmp63_ = valadoc_api_property_accessor_new (_tmp52_, _tmp53_, _tmp55_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) _tmp56_), _tmp59_, valadoc_drivers_tree_builder_get_property_accessor_type (self, _tmp60_), valadoc_drivers_tree_builder_get_property_ownership (self, _tmp61_), _tmp62_);
		_tmp64_ = _tmp63_;
		valadoc_api_property_set_setter (_tmp51_, _tmp64_);
		_g_object_unref0 (_tmp64_);
		_g_free0 (_tmp59_);
		_vala_code_node_unref0 (accessor);
	}
	_tmp65_ = node;
	_tmp66_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) _tmp65_, _tmp66_);
	_tmp67_ = node;
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) _tmp67_, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_creation_method (ValaCodeVisitor* base,
                                                         ValaCreationMethod* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	gchar* _tmp5_ = NULL;
	gboolean _tmp6_;
	gboolean _tmp7_;
	ValadocApiMethod* node = NULL;
	ValadocApiNode* _tmp9_;
	ValadocApiSourceFile* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	ValadocApiSourceComment* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gboolean _tmp20_;
	gboolean _tmp21_;
	ValadocApiMethod* _tmp22_;
	ValadocApiMethod* _tmp23_;
	ValaDataType* _tmp24_;
	ValaDataType* _tmp25_;
	ValadocApiTypeReference* _tmp26_;
	ValadocApiTypeReference* _tmp27_;
	ValaHashMap* _tmp28_;
	ValadocApiNode* _tmp29_;
	GList* _tmp30_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp6_ = vala_method_get_coroutine ((ValaMethod*) element);
	_tmp7_ = _tmp6_;
	if (_tmp7_) {
		gchar* _tmp8_;
		_tmp8_ = valadoc_drivers_tree_builder_get_finish_name (self, (ValaMethod*) element);
		_g_free0 (_tmp5_);
		_tmp5_ = _tmp8_;
	} else {
		_g_free0 (_tmp5_);
		_tmp5_ = NULL;
	}
	_tmp9_ = parent;
	_tmp10_ = file;
	_tmp11_ = valadoc_drivers_tree_builder_get_method_name (self, (ValaMethod*) element);
	_tmp12_ = _tmp11_;
	_tmp13_ = comment;
	_tmp14_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp15_ = _tmp14_;
	_tmp16_ = vala_gd_bus_module_get_dbus_name_for_member ((ValaSymbol*) element);
	_tmp17_ = _tmp16_;
	_tmp18_ = vala_gd_bus_module_dbus_result_name ((ValaMethod*) element);
	_tmp19_ = _tmp18_;
	_tmp20_ = vala_method_get_coroutine ((ValaMethod*) element);
	_tmp21_ = _tmp20_;
	_tmp22_ = valadoc_api_method_new (_tmp9_, _tmp10_, _tmp12_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp13_, _tmp15_, _tmp17_, _tmp19_, _tmp5_, valadoc_drivers_tree_builder_get_method_binding_type (self, (ValaMethod*) element), _tmp21_, vala_gd_bus_module_is_dbus_visible ((ValaCodeNode*) element), G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CREATION_METHOD), element);
	_tmp23_ = _tmp22_;
	_g_free0 (_tmp19_);
	_g_free0 (_tmp17_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp12_);
	node = _tmp23_;
	_tmp24_ = vala_callable_get_return_type ((ValaCallable*) element);
	_tmp25_ = _tmp24_;
	_tmp26_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp25_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp27_ = _tmp26_;
	valadoc_api_callable_set_return_type ((ValadocApiCallable*) node, _tmp27_);
	_g_object_unref0 (_tmp27_);
	_tmp28_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp28_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	_tmp29_ = parent;
	valadoc_api_node_add_child (_tmp29_, (ValadocApiSymbol*) node);
	_tmp30_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp30_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_g_free0 (_tmp5_);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_method (ValaCodeVisitor* base,
                                                ValaMethod* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	gchar* _tmp5_ = NULL;
	gboolean _tmp6_;
	gboolean _tmp7_;
	ValadocApiMethod* node = NULL;
	ValadocApiNode* _tmp9_;
	ValadocApiSourceFile* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	ValadocApiSourceComment* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gboolean _tmp20_;
	gboolean _tmp21_;
	ValadocApiMethod* _tmp22_;
	ValadocApiMethod* _tmp23_;
	ValaDataType* _tmp24_;
	ValaDataType* _tmp25_;
	ValadocApiTypeReference* _tmp26_;
	ValadocApiTypeReference* _tmp27_;
	ValaHashMap* _tmp28_;
	ValadocApiNode* _tmp29_;
	GList* _tmp30_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp6_ = vala_method_get_coroutine (element);
	_tmp7_ = _tmp6_;
	if (_tmp7_) {
		gchar* _tmp8_;
		_tmp8_ = valadoc_drivers_tree_builder_get_finish_name (self, element);
		_g_free0 (_tmp5_);
		_tmp5_ = _tmp8_;
	} else {
		_g_free0 (_tmp5_);
		_tmp5_ = NULL;
	}
	_tmp9_ = parent;
	_tmp10_ = file;
	_tmp11_ = valadoc_drivers_tree_builder_get_method_name (self, element);
	_tmp12_ = _tmp11_;
	_tmp13_ = comment;
	_tmp14_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp15_ = _tmp14_;
	_tmp16_ = vala_gd_bus_module_get_dbus_name_for_member ((ValaSymbol*) element);
	_tmp17_ = _tmp16_;
	_tmp18_ = vala_gd_bus_module_dbus_result_name (element);
	_tmp19_ = _tmp18_;
	_tmp20_ = vala_method_get_coroutine (element);
	_tmp21_ = _tmp20_;
	_tmp22_ = valadoc_api_method_new (_tmp9_, _tmp10_, _tmp12_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp13_, _tmp15_, _tmp17_, _tmp19_, _tmp5_, valadoc_drivers_tree_builder_get_method_binding_type (self, element), _tmp21_, vala_gd_bus_module_is_dbus_visible ((ValaCodeNode*) element), G_TYPE_CHECK_INSTANCE_TYPE (element, VALA_TYPE_CREATION_METHOD), element);
	_tmp23_ = _tmp22_;
	_g_free0 (_tmp19_);
	_g_free0 (_tmp17_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp12_);
	node = _tmp23_;
	_tmp24_ = vala_callable_get_return_type ((ValaCallable*) element);
	_tmp25_ = _tmp24_;
	_tmp26_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp25_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp27_ = _tmp26_;
	valadoc_api_callable_set_return_type ((ValadocApiCallable*) node, _tmp27_);
	_g_object_unref0 (_tmp27_);
	_tmp28_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp28_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	_tmp29_ = parent;
	valadoc_api_node_add_child (_tmp29_, (ValadocApiSymbol*) node);
	_tmp30_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp30_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_g_free0 (_tmp5_);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_signal (ValaCodeVisitor* base,
                                                ValaSignal* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	gchar* _tmp5_ = NULL;
	ValaMethod* _tmp6_;
	ValaMethod* _tmp7_;
	ValadocApiSignal* node = NULL;
	ValadocApiNode* _tmp11_;
	ValadocApiSourceFile* _tmp12_;
	const gchar* _tmp13_;
	const gchar* _tmp14_;
	ValadocApiSourceComment* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gboolean _tmp20_;
	gboolean _tmp21_;
	ValadocApiSignal* _tmp22_;
	ValadocApiSignal* _tmp23_;
	ValaDataType* _tmp24_;
	ValaDataType* _tmp25_;
	ValadocApiTypeReference* _tmp26_;
	ValadocApiTypeReference* _tmp27_;
	ValaHashMap* _tmp28_;
	ValadocApiNode* _tmp29_;
	GList* _tmp30_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp6_ = vala_signal_get_default_handler (element);
	_tmp7_ = _tmp6_;
	if (_tmp7_ != NULL) {
		ValaMethod* _tmp8_;
		ValaMethod* _tmp9_;
		gchar* _tmp10_;
		_tmp8_ = vala_signal_get_default_handler (element);
		_tmp9_ = _tmp8_;
		_tmp10_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) _tmp9_);
		_g_free0 (_tmp5_);
		_tmp5_ = _tmp10_;
	} else {
		_g_free0 (_tmp5_);
		_tmp5_ = NULL;
	}
	_tmp11_ = parent;
	_tmp12_ = file;
	_tmp13_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp14_ = _tmp13_;
	_tmp15_ = comment;
	_tmp16_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp17_ = _tmp16_;
	_tmp18_ = vala_gd_bus_module_get_dbus_name_for_member ((ValaSymbol*) element);
	_tmp19_ = _tmp18_;
	_tmp20_ = vala_signal_get_is_virtual (element);
	_tmp21_ = _tmp20_;
	_tmp22_ = valadoc_api_signal_new (_tmp11_, _tmp12_, _tmp14_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), _tmp15_, _tmp17_, _tmp5_, _tmp19_, vala_gd_bus_module_is_dbus_visible ((ValaCodeNode*) element), _tmp21_, element);
	_tmp23_ = _tmp22_;
	_g_free0 (_tmp19_);
	_g_free0 (_tmp17_);
	node = _tmp23_;
	_tmp24_ = vala_callable_get_return_type ((ValaCallable*) element);
	_tmp25_ = _tmp24_;
	_tmp26_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp25_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp27_ = _tmp26_;
	valadoc_api_callable_set_return_type ((ValadocApiCallable*) node, _tmp27_);
	_g_object_unref0 (_tmp27_);
	_tmp28_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp28_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	_tmp29_ = parent;
	valadoc_api_node_add_child (_tmp29_, (ValadocApiSymbol*) node);
	_tmp30_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp30_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_g_free0 (_tmp5_);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_delegate (ValaCodeVisitor* base,
                                                  ValaDelegate* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiDelegate* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gboolean _tmp9_;
	gboolean _tmp10_;
	ValadocApiDelegate* _tmp11_;
	ValadocApiDelegate* _tmp12_;
	ValaDataType* _tmp13_;
	ValaDataType* _tmp14_;
	ValadocApiTypeReference* _tmp15_;
	ValadocApiTypeReference* _tmp16_;
	ValaHashMap* _tmp17_;
	GList* _tmp18_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = vala_delegate_get_has_target (element);
	_tmp10_ = _tmp9_;
	_tmp11_ = valadoc_api_delegate_new (parent, file, _tmp6_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), comment, _tmp8_, !_tmp10_, element);
	_tmp12_ = _tmp11_;
	_g_free0 (_tmp8_);
	node = _tmp12_;
	_tmp13_ = vala_callable_get_return_type ((ValaCallable*) element);
	_tmp14_ = _tmp13_;
	_tmp15_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp14_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp16_ = _tmp15_;
	valadoc_api_callable_set_return_type ((ValadocApiCallable*) node, _tmp16_);
	_g_object_unref0 (_tmp16_);
	_tmp17_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp17_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	valadoc_api_node_add_child (parent, (ValadocApiSymbol*) node);
	_tmp18_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp18_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_enum (ValaCodeVisitor* base,
                                              ValaEnum* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiSymbol* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	ValadocApiEnum* _tmp13_;
	ValadocApiSymbol* _tmp14_;
	ValaHashMap* _tmp15_;
	GList* _tmp16_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = valadoc_drivers_tree_builder_get_type_macro_name (self, (ValaTypeSymbol*) element);
	_tmp10_ = _tmp9_;
	_tmp11_ = valadoc_drivers_tree_builder_get_type_function_name (self, (ValaTypeSymbol*) element);
	_tmp12_ = _tmp11_;
	_tmp13_ = valadoc_api_enum_new (parent, file, _tmp6_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), comment, _tmp8_, _tmp10_, _tmp12_, element);
	_tmp14_ = (ValadocApiSymbol*) _tmp13_;
	_g_free0 (_tmp12_);
	_g_free0 (_tmp10_);
	_g_free0 (_tmp8_);
	node = _tmp14_;
	_tmp15_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp15_, (ValaSymbol*) element, node);
	valadoc_api_node_add_child (parent, node);
	_tmp16_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, node, _tmp16_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_enum_value (ValaCodeVisitor* base,
                                                    ValaEnumValue* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiEnum* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiSymbol* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	ValadocApiEnumValue* _tmp9_;
	ValadocApiSymbol* _tmp10_;
	ValaHashMap* _tmp11_;
	GList* _tmp12_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, VALADOC_API_TYPE_ENUM, ValadocApiEnum);
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = valadoc_api_enum_value_new (parent, file, _tmp6_, comment, _tmp8_, element);
	_tmp10_ = (ValadocApiSymbol*) _tmp9_;
	_g_free0 (_tmp8_);
	node = _tmp10_;
	_tmp11_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp11_, (ValaSymbol*) element, node);
	valadoc_api_node_add_child ((ValadocApiNode*) parent, node);
	_tmp12_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, node, _tmp12_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_constant (ValaCodeVisitor* base,
                                                  ValaConstant* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiConstant* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	ValadocApiConstant* _tmp9_;
	ValadocApiConstant* _tmp10_;
	ValaDataType* _tmp11_;
	ValaDataType* _tmp12_;
	ValadocApiTypeReference* _tmp13_;
	ValadocApiTypeReference* _tmp14_;
	ValaHashMap* _tmp15_;
	GList* _tmp16_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = valadoc_api_constant_new (parent, file, _tmp6_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), comment, _tmp8_, element);
	_tmp10_ = _tmp9_;
	_g_free0 (_tmp8_);
	node = _tmp10_;
	_tmp11_ = vala_constant_get_type_reference (element);
	_tmp12_ = _tmp11_;
	_tmp13_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp12_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp14_ = _tmp13_;
	valadoc_api_constant_set_constant_type (node, _tmp14_);
	_g_object_unref0 (_tmp14_);
	_tmp15_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp15_, (ValaSymbol*) element, (ValadocApiSymbol*) node);
	valadoc_api_node_add_child (parent, (ValadocApiSymbol*) node);
	_tmp16_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, (ValadocApiSymbol*) node, _tmp16_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_error_domain (ValaCodeVisitor* base,
                                                      ValaErrorDomain* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp2_;
	ValaComment* _tmp3_;
	ValadocApiSourceComment* _tmp4_;
	ValadocApiSymbol* node = NULL;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	ValadocApiErrorDomain* _tmp15_;
	ValadocApiSymbol* _tmp16_;
	ValaHashMap* _tmp17_;
	GList* _tmp18_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_drivers_tree_builder_create_comment (self, _tmp3_);
	comment = _tmp4_;
	_tmp5_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = valadoc_drivers_tree_builder_get_quark_macro_name (self, element);
	_tmp10_ = _tmp9_;
	_tmp11_ = valadoc_drivers_tree_builder_get_quark_function_name (self, element);
	_tmp12_ = _tmp11_;
	_tmp13_ = vala_gd_bus_module_get_dbus_name ((ValaTypeSymbol*) element);
	_tmp14_ = _tmp13_;
	_tmp15_ = valadoc_api_error_domain_new (parent, file, _tmp6_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), comment, _tmp8_, _tmp10_, _tmp12_, _tmp14_, element);
	_tmp16_ = (ValadocApiSymbol*) _tmp15_;
	_g_free0 (_tmp14_);
	_g_free0 (_tmp12_);
	_g_free0 (_tmp10_);
	_g_free0 (_tmp8_);
	node = _tmp16_;
	_tmp17_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp17_, (ValaSymbol*) element, node);
	valadoc_api_node_add_child (parent, node);
	_tmp18_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, node, _tmp18_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_error_code (ValaCodeVisitor* base,
                                                    ValaErrorCode* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiErrorDomain* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSourceFile* _tmp2_;
	ValadocApiSourceComment* comment = NULL;
	ValaComment* _tmp5_;
	ValaComment* _tmp6_;
	ValadocApiSourceComment* _tmp7_;
	ValadocApiSymbol* node = NULL;
	ValadocApiErrorDomain* _tmp8_;
	ValadocApiSourceFile* _tmp9_;
	const gchar* _tmp10_;
	const gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	ValadocApiErrorCode* _tmp16_;
	ValadocApiSymbol* _tmp17_;
	ValaHashMap* _tmp18_;
	ValadocApiErrorDomain* _tmp19_;
	GList* _tmp20_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, VALADOC_API_TYPE_ERROR_DOMAIN, ValadocApiErrorDomain);
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = file;
	if (_tmp2_ == NULL) {
		ValadocApiErrorDomain* _tmp3_;
		ValadocApiSourceFile* _tmp4_;
		_tmp3_ = parent;
		_tmp4_ = valadoc_api_node_get_source_file ((ValadocApiNode*) _tmp3_);
		_g_object_unref0 (file);
		file = _tmp4_;
	}
	_tmp5_ = vala_symbol_get_comment ((ValaSymbol*) element);
	_tmp6_ = _tmp5_;
	_tmp7_ = valadoc_drivers_tree_builder_create_comment (self, _tmp6_);
	comment = _tmp7_;
	_tmp8_ = parent;
	_tmp9_ = file;
	_tmp10_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp11_ = _tmp10_;
	_tmp12_ = valadoc_drivers_tree_builder_get_cname (self, (ValaSymbol*) element);
	_tmp13_ = _tmp12_;
	_tmp14_ = vala_gd_bus_module_get_dbus_name_for_member ((ValaSymbol*) element);
	_tmp15_ = _tmp14_;
	_tmp16_ = valadoc_api_error_code_new (_tmp8_, _tmp9_, _tmp11_, comment, _tmp13_, _tmp15_, element);
	_tmp17_ = (ValadocApiSymbol*) _tmp16_;
	_g_free0 (_tmp15_);
	_g_free0 (_tmp13_);
	node = _tmp17_;
	_tmp18_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp18_, (ValaSymbol*) element, node);
	_tmp19_ = parent;
	valadoc_api_node_add_child ((ValadocApiNode*) _tmp19_, node);
	_tmp20_ = ((ValaCodeNode*) element)->attributes;
	valadoc_drivers_tree_builder_process_attributes (self, node, _tmp20_);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_valadoc_api_source_comment_unref0 (comment);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_type_parameter (ValaCodeVisitor* base,
                                                        ValaTypeParameter* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiSymbol* node = NULL;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	ValadocApiTypeParameter* _tmp4_;
	ValaHashMap* _tmp5_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = valadoc_api_typeparameter_new (parent, file, _tmp3_, element);
	node = (ValadocApiSymbol*) _tmp4_;
	_tmp5_ = self->priv->symbol_map;
	vala_map_set ((ValaMap*) _tmp5_, (ValaSymbol*) element, node);
	valadoc_api_node_add_child (parent, node);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


/**
 * {@inheritDoc}
 */
static void
valadoc_drivers_tree_builder_real_visit_formal_parameter (ValaCodeVisitor* base,
                                                          ValaParameter* element)
{
	ValadocDriversTreeBuilder * self;
	ValadocApiNode* parent = NULL;
	ValadocApiNode* _tmp0_;
	ValadocApiSourceFile* file = NULL;
	ValadocApiSourceFile* _tmp1_;
	ValadocApiFormalParameter* node = NULL;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	ValadocApiFormalParameter* _tmp6_;
	ValaDataType* _tmp7_;
	ValaDataType* _tmp8_;
	ValadocApiTypeReference* _tmp9_;
	ValadocApiTypeReference* _tmp10_;
	self = (ValadocDriversTreeBuilder*) base;
	g_return_if_fail (element != NULL);
	_tmp0_ = valadoc_drivers_tree_builder_get_parent_node_for (self, (ValaSymbol*) element);
	parent = _tmp0_;
	_tmp1_ = valadoc_drivers_tree_builder_get_source_file (self, (ValaSymbol*) element);
	file = _tmp1_;
	_tmp2_ = vala_symbol_get_name ((ValaSymbol*) element);
	_tmp3_ = _tmp2_;
	_tmp4_ = vala_parameter_get_ellipsis (element);
	_tmp5_ = _tmp4_;
	_tmp6_ = valadoc_api_formal_parameter_new (parent, file, _tmp3_, valadoc_drivers_tree_builder_get_access_modifier (self, (ValaSymbol*) element), valadoc_drivers_tree_builder_get_formal_parameter_type (self, element), _tmp5_, element);
	node = _tmp6_;
	_tmp7_ = vala_variable_get_variable_type ((ValaVariable*) element);
	_tmp8_ = _tmp7_;
	_tmp9_ = valadoc_drivers_tree_builder_create_type_reference (self, _tmp8_, (ValadocApiItem*) node, (ValadocApiNode*) node);
	_tmp10_ = _tmp9_;
	valadoc_api_formal_parameter_set_parameter_type (node, _tmp10_);
	_g_object_unref0 (_tmp10_);
	valadoc_api_node_add_child (parent, (ValadocApiSymbol*) node);
	valadoc_drivers_tree_builder_process_children (self, (ValadocApiNode*) node, (ValaCodeNode*) element);
	_g_object_unref0 (node);
	_g_object_unref0 (file);
	_g_object_unref0 (parent);
}


static gpointer
_valadoc_api_tree_ref0 (gpointer self)
{
	return self ? valadoc_api_tree_ref (self) : NULL;
}


ValadocApiTree*
valadoc_drivers_tree_builder_build (ValadocDriversTreeBuilder* self,
                                    ValadocSettings* settings,
                                    ValadocErrorReporter* reporter)
{
	ValadocApiTree* result = NULL;
	ValadocSettings* _tmp0_;
	ValadocErrorReporter* _tmp1_;
	ValadocApiTree* _tmp2_;
	ValaCodeContext* context = NULL;
	ValaCodeContext* _tmp3_;
	ValadocApiTree* _tmp4_;
	ValaCodeContext* _tmp5_;
	ValaCodeContext* _tmp6_;
	ValaReport* _tmp7_;
	ValaReport* _tmp8_;
	ValaCodeContext* _tmp9_;
	ValaReport* _tmp10_;
	ValaReport* _tmp11_;
	ValaCodeContext* _tmp12_;
	ValaCodeContext* _tmp49_;
	ValadocApiTree* _tmp50_ = NULL;
	gint _tmp51_;
	gint _tmp52_;
	ValadocApiTree* _tmp54_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (settings != NULL, NULL);
	g_return_val_if_fail (reporter != NULL, NULL);
	_tmp0_ = _g_object_ref0 (settings);
	_g_object_unref0 (self->priv->settings);
	self->priv->settings = _tmp0_;
	_tmp1_ = _g_object_ref0 (reporter);
	_g_object_unref0 (self->priv->reporter);
	self->priv->reporter = _tmp1_;
	_tmp2_ = valadoc_api_tree_new (reporter, settings, NULL);
	_valadoc_api_tree_unref0 (self->priv->tree);
	self->priv->tree = _tmp2_;
	_tmp3_ = valadoc_drivers_tree_builder_create_valac_tree (self, settings);
	context = _tmp3_;
	_tmp4_ = self->priv->tree;
	_tmp5_ = context;
	valadoc_api_tree_set_data (_tmp4_, _tmp5_);
	_tmp6_ = context;
	_tmp7_ = vala_code_context_get_report (_tmp6_);
	_tmp8_ = _tmp7_;
	valadoc_error_reporter_set_warnings_offset (reporter, vala_report_get_warnings (_tmp8_));
	_tmp9_ = context;
	_tmp10_ = vala_code_context_get_report (_tmp9_);
	_tmp11_ = _tmp10_;
	valadoc_error_reporter_set_errors_offset (reporter, vala_report_get_errors (_tmp11_));
	_tmp12_ = context;
	if (_tmp12_ == NULL) {
		result = NULL;
		_vala_code_context_unref0 (context);
		return result;
	}
	{
		ValaList* _vfile_list = NULL;
		ValaCodeContext* _tmp13_;
		ValaList* _tmp14_;
		gint _vfile_size = 0;
		ValaList* _tmp15_;
		gint _tmp16_;
		gint _tmp17_;
		gint _vfile_index = 0;
		_tmp13_ = context;
		_tmp14_ = vala_code_context_get_source_files (_tmp13_);
		_vfile_list = _tmp14_;
		_tmp15_ = _vfile_list;
		_tmp16_ = vala_collection_get_size ((ValaCollection*) _tmp15_);
		_tmp17_ = _tmp16_;
		_vfile_size = _tmp17_;
		_vfile_index = -1;
		while (TRUE) {
			gint _tmp18_;
			gint _tmp19_;
			gint _tmp20_;
			ValaSourceFile* vfile = NULL;
			ValaList* _tmp21_;
			gint _tmp22_;
			gpointer _tmp23_;
			gboolean _tmp24_ = FALSE;
			gboolean _tmp25_ = FALSE;
			ValaSourceFile* _tmp26_;
			ValaSourceFileType _tmp27_;
			ValaSourceFileType _tmp28_;
			_tmp18_ = _vfile_index;
			_vfile_index = _tmp18_ + 1;
			_tmp19_ = _vfile_index;
			_tmp20_ = _vfile_size;
			if (!(_tmp19_ < _tmp20_)) {
				break;
			}
			_tmp21_ = _vfile_list;
			_tmp22_ = _vfile_index;
			_tmp23_ = vala_list_get (_tmp21_, _tmp22_);
			vfile = (ValaSourceFile*) _tmp23_;
			_tmp26_ = vfile;
			_tmp27_ = vala_source_file_get_file_type (_tmp26_);
			_tmp28_ = _tmp27_;
			if (_tmp28_ == VALA_SOURCE_FILE_TYPE_PACKAGE) {
				ValaSourceFile* _tmp29_;
				ValaList* _tmp30_;
				ValaList* _tmp31_;
				gint _tmp32_;
				gint _tmp33_;
				_tmp29_ = vfile;
				_tmp30_ = vala_source_file_get_nodes (_tmp29_);
				_tmp31_ = _tmp30_;
				_tmp32_ = vala_collection_get_size ((ValaCollection*) _tmp31_);
				_tmp33_ = _tmp32_;
				_tmp25_ = _tmp33_ > 0;
				_vala_iterable_unref0 (_tmp31_);
			} else {
				_tmp25_ = FALSE;
			}
			if (_tmp25_) {
				ValaHashMap* _tmp34_;
				ValaSourceFile* _tmp35_;
				_tmp34_ = self->priv->files;
				_tmp35_ = vfile;
				_tmp24_ = vala_map_contains ((ValaMap*) _tmp34_, _tmp35_) == FALSE;
			} else {
				_tmp24_ = FALSE;
			}
			if (_tmp24_) {
				ValadocApiPackage* vdpkg = NULL;
				ValaSourceFile* _tmp36_;
				const gchar* _tmp37_;
				const gchar* _tmp38_;
				gchar* _tmp39_;
				gchar* _tmp40_;
				ValadocApiPackage* _tmp41_;
				ValadocApiPackage* _tmp42_;
				ValadocApiPackage* _tmp43_;
				ValadocDriversTreeBuilderPackageMetaData* _tmp44_;
				ValadocDriversTreeBuilderPackageMetaData* _tmp45_;
				ValaSourceFile* _tmp46_;
				ValadocApiSourceFile* _tmp47_;
				ValadocApiSourceFile* _tmp48_;
				_tmp36_ = vfile;
				_tmp37_ = vala_source_file_get_filename (_tmp36_);
				_tmp38_ = _tmp37_;
				_tmp39_ = valadoc_drivers_tree_builder_get_package_name (self, _tmp38_);
				_tmp40_ = _tmp39_;
				_tmp41_ = valadoc_api_package_new (_tmp40_, TRUE, NULL);
				_tmp42_ = _tmp41_;
				_g_free0 (_tmp40_);
				vdpkg = _tmp42_;
				_tmp43_ = vdpkg;
				_tmp44_ = valadoc_drivers_tree_builder_register_package (self, _tmp43_);
				_tmp45_ = _tmp44_;
				_tmp46_ = vfile;
				_tmp47_ = valadoc_drivers_tree_builder_register_source_file (self, _tmp45_, _tmp46_);
				_tmp48_ = _tmp47_;
				_g_object_unref0 (_tmp48_);
				_valadoc_drivers_tree_builder_package_meta_data_unref0 (_tmp45_);
				_g_object_unref0 (vdpkg);
			}
			_vala_source_file_unref0 (vfile);
		}
		_vala_iterable_unref0 (_vfile_list);
	}
	_tmp49_ = context;
	vala_code_context_accept (_tmp49_, (ValaCodeVisitor*) self);
	_tmp51_ = valadoc_error_reporter_get_errors (reporter);
	_tmp52_ = _tmp51_;
	if (_tmp52_ == 0) {
		ValadocApiTree* _tmp53_;
		_tmp53_ = self->priv->tree;
		_tmp50_ = _tmp53_;
	} else {
		_tmp50_ = NULL;
	}
	_tmp54_ = _valadoc_api_tree_ref0 (_tmp50_);
	result = _tmp54_;
	_vala_code_context_unref0 (context);
	return result;
}


ValadocDriversTreeBuilder*
valadoc_drivers_tree_builder_construct (GType object_type)
{
	ValadocDriversTreeBuilder* self = NULL;
	self = (ValadocDriversTreeBuilder*) vala_code_visitor_construct (object_type);
	return self;
}


ValadocDriversTreeBuilder*
valadoc_drivers_tree_builder_new (void)
{
	return valadoc_drivers_tree_builder_construct (VALADOC_DRIVERS_TYPE_TREE_BUILDER);
}


static ValadocDriversTreeBuilderPackageMetaData*
valadoc_drivers_tree_builder_package_meta_data_construct (GType object_type,
                                                          ValadocApiPackage* package)
{
	ValadocDriversTreeBuilderPackageMetaData* self = NULL;
	ValadocApiPackage* _tmp0_;
	g_return_val_if_fail (package != NULL, NULL);
	self = (ValadocDriversTreeBuilderPackageMetaData*) g_type_create_instance (object_type);
	_tmp0_ = _g_object_ref0 (package);
	_g_object_unref0 (self->package);
	self->package = _tmp0_;
	return self;
}


static ValadocDriversTreeBuilderPackageMetaData*
valadoc_drivers_tree_builder_package_meta_data_new (ValadocApiPackage* package)
{
	return valadoc_drivers_tree_builder_package_meta_data_construct (VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, package);
}


static ValadocApiNamespace*
valadoc_drivers_tree_builder_package_meta_data_get_namespace (ValadocDriversTreeBuilderPackageMetaData* self,
                                                              ValaNamespace* vns,
                                                              ValadocApiSourceFile* file)
{
	ValadocApiNamespace* result = NULL;
	ValadocApiNamespace* ns = NULL;
	ValaHashMap* _tmp0_;
	gpointer _tmp1_;
	ValadocApiNamespace* _tmp2_;
	ValadocApiSourceComment* comment = NULL;
	ValaSourceReference* _tmp3_;
	ValaSourceReference* _tmp4_;
	ValaSymbol* parent_vns = NULL;
	ValaSymbol* _tmp80_;
	ValaSymbol* _tmp81_;
	ValaSymbol* _tmp82_;
	ValaSymbol* _tmp83_;
	ValaHashMap* _tmp100_;
	ValadocApiNamespace* _tmp101_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (vns != NULL, NULL);
	g_return_val_if_fail (file != NULL, NULL);
	_tmp0_ = self->namespaces;
	_tmp1_ = vala_map_get ((ValaMap*) _tmp0_, vns);
	ns = (ValadocApiNamespace*) _tmp1_;
	_tmp2_ = ns;
	if (_tmp2_ != NULL) {
		result = ns;
		return result;
	}
	comment = NULL;
	_tmp3_ = vala_code_node_get_source_reference ((ValaCodeNode*) vns);
	_tmp4_ = _tmp3_;
	if (_tmp4_ != NULL) {
		{
			ValaList* _c_list = NULL;
			ValaList* _tmp5_;
			gint _c_size = 0;
			ValaList* _tmp6_;
			gint _tmp7_;
			gint _tmp8_;
			gint _c_index = 0;
			_tmp5_ = vala_namespace_get_comments (vns);
			_c_list = _tmp5_;
			_tmp6_ = _c_list;
			_tmp7_ = vala_collection_get_size ((ValaCollection*) _tmp6_);
			_tmp8_ = _tmp7_;
			_c_size = _tmp8_;
			_c_index = -1;
			while (TRUE) {
				gint _tmp9_;
				gint _tmp10_;
				gint _tmp11_;
				ValaComment* c = NULL;
				ValaList* _tmp12_;
				gint _tmp13_;
				gpointer _tmp14_;
				gboolean _tmp15_ = FALSE;
				ValaComment* _tmp16_;
				ValaSourceReference* _tmp17_;
				ValaSourceReference* _tmp18_;
				ValaSourceFile* _tmp19_;
				ValaSourceFile* _tmp20_;
				void* _tmp21_;
				void* _tmp22_;
				_tmp9_ = _c_index;
				_c_index = _tmp9_ + 1;
				_tmp10_ = _c_index;
				_tmp11_ = _c_size;
				if (!(_tmp10_ < _tmp11_)) {
					break;
				}
				_tmp12_ = _c_list;
				_tmp13_ = _c_index;
				_tmp14_ = vala_list_get (_tmp12_, _tmp13_);
				c = (ValaComment*) _tmp14_;
				_tmp16_ = c;
				_tmp17_ = vala_comment_get_source_reference (_tmp16_);
				_tmp18_ = _tmp17_;
				_tmp19_ = vala_source_reference_get_file (_tmp18_);
				_tmp20_ = _tmp19_;
				_tmp21_ = valadoc_api_source_file_get_data (file);
				_tmp22_ = _tmp21_;
				if (_tmp20_ == _tmp22_) {
					_tmp15_ = TRUE;
				} else {
					gboolean _tmp23_ = FALSE;
					ValaComment* _tmp24_;
					ValaSourceReference* _tmp25_;
					ValaSourceReference* _tmp26_;
					ValaSourceFile* _tmp27_;
					ValaSourceFile* _tmp28_;
					ValaSourceFileType _tmp29_;
					ValaSourceFileType _tmp30_;
					_tmp24_ = c;
					_tmp25_ = vala_comment_get_source_reference (_tmp24_);
					_tmp26_ = _tmp25_;
					_tmp27_ = vala_source_reference_get_file (_tmp26_);
					_tmp28_ = _tmp27_;
					_tmp29_ = vala_source_file_get_file_type (_tmp28_);
					_tmp30_ = _tmp29_;
					if (_tmp30_ == VALA_SOURCE_FILE_TYPE_SOURCE) {
						void* _tmp31_;
						void* _tmp32_;
						ValaSourceFileType _tmp33_;
						ValaSourceFileType _tmp34_;
						_tmp31_ = valadoc_api_source_file_get_data (file);
						_tmp32_ = _tmp31_;
						_tmp33_ = vala_source_file_get_file_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, VALA_TYPE_SOURCE_FILE, ValaSourceFile));
						_tmp34_ = _tmp33_;
						_tmp23_ = _tmp34_ == VALA_SOURCE_FILE_TYPE_SOURCE;
					} else {
						_tmp23_ = FALSE;
					}
					_tmp15_ = _tmp23_;
				}
				if (_tmp15_) {
					ValaSourceReference* pos = NULL;
					ValaComment* _tmp35_;
					ValaSourceReference* _tmp36_;
					ValaSourceReference* _tmp37_;
					ValaSourceReference* _tmp38_;
					ValaComment* _tmp39_;
					_tmp35_ = c;
					_tmp36_ = vala_comment_get_source_reference (_tmp35_);
					_tmp37_ = _tmp36_;
					_tmp38_ = _vala_source_reference_ref0 (_tmp37_);
					pos = _tmp38_;
					_tmp39_ = c;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp39_, VALA_TYPE_GIR_COMMENT)) {
						ValaComment* _tmp40_;
						const gchar* _tmp41_;
						const gchar* _tmp42_;
						ValaSourceReference* _tmp43_;
						ValaSourceLocation _tmp44_ = {0};
						ValaSourceLocation _tmp45_;
						gint _tmp46_;
						ValaSourceReference* _tmp47_;
						ValaSourceLocation _tmp48_ = {0};
						ValaSourceLocation _tmp49_;
						gint _tmp50_;
						ValaSourceReference* _tmp51_;
						ValaSourceLocation _tmp52_ = {0};
						ValaSourceLocation _tmp53_;
						gint _tmp54_;
						ValaSourceReference* _tmp55_;
						ValaSourceLocation _tmp56_ = {0};
						ValaSourceLocation _tmp57_;
						gint _tmp58_;
						ValadocApiGirSourceComment* _tmp59_;
						_tmp40_ = c;
						_tmp41_ = vala_comment_get_content (_tmp40_);
						_tmp42_ = _tmp41_;
						_tmp43_ = pos;
						vala_source_reference_get_begin (_tmp43_, &_tmp44_);
						_tmp45_ = _tmp44_;
						_tmp46_ = _tmp45_.line;
						_tmp47_ = pos;
						vala_source_reference_get_begin (_tmp47_, &_tmp48_);
						_tmp49_ = _tmp48_;
						_tmp50_ = _tmp49_.column;
						_tmp51_ = pos;
						vala_source_reference_get_end (_tmp51_, &_tmp52_);
						_tmp53_ = _tmp52_;
						_tmp54_ = _tmp53_.line;
						_tmp55_ = pos;
						vala_source_reference_get_end (_tmp55_, &_tmp56_);
						_tmp57_ = _tmp56_;
						_tmp58_ = _tmp57_.column;
						_tmp59_ = valadoc_api_gir_source_comment_new (_tmp42_, file, _tmp46_, _tmp50_, _tmp54_, _tmp58_);
						_valadoc_api_source_comment_unref0 (comment);
						comment = (ValadocApiSourceComment*) _tmp59_;
					} else {
						ValaComment* _tmp60_;
						const gchar* _tmp61_;
						const gchar* _tmp62_;
						ValaSourceReference* _tmp63_;
						ValaSourceLocation _tmp64_ = {0};
						ValaSourceLocation _tmp65_;
						gint _tmp66_;
						ValaSourceReference* _tmp67_;
						ValaSourceLocation _tmp68_ = {0};
						ValaSourceLocation _tmp69_;
						gint _tmp70_;
						ValaSourceReference* _tmp71_;
						ValaSourceLocation _tmp72_ = {0};
						ValaSourceLocation _tmp73_;
						gint _tmp74_;
						ValaSourceReference* _tmp75_;
						ValaSourceLocation _tmp76_ = {0};
						ValaSourceLocation _tmp77_;
						gint _tmp78_;
						ValadocApiSourceComment* _tmp79_;
						_tmp60_ = c;
						_tmp61_ = vala_comment_get_content (_tmp60_);
						_tmp62_ = _tmp61_;
						_tmp63_ = pos;
						vala_source_reference_get_begin (_tmp63_, &_tmp64_);
						_tmp65_ = _tmp64_;
						_tmp66_ = _tmp65_.line;
						_tmp67_ = pos;
						vala_source_reference_get_begin (_tmp67_, &_tmp68_);
						_tmp69_ = _tmp68_;
						_tmp70_ = _tmp69_.column;
						_tmp71_ = pos;
						vala_source_reference_get_end (_tmp71_, &_tmp72_);
						_tmp73_ = _tmp72_;
						_tmp74_ = _tmp73_.line;
						_tmp75_ = pos;
						vala_source_reference_get_end (_tmp75_, &_tmp76_);
						_tmp77_ = _tmp76_;
						_tmp78_ = _tmp77_.column;
						_tmp79_ = valadoc_api_source_comment_new (_tmp62_, file, _tmp66_, _tmp70_, _tmp74_, _tmp78_);
						_valadoc_api_source_comment_unref0 (comment);
						comment = _tmp79_;
					}
					_vala_source_reference_unref0 (pos);
					_vala_comment_unref0 (c);
					break;
				}
				_vala_comment_unref0 (c);
			}
			_vala_iterable_unref0 (_c_list);
		}
	}
	_tmp80_ = vala_symbol_get_parent_symbol ((ValaSymbol*) vns);
	_tmp81_ = _tmp80_;
	_tmp82_ = _vala_code_node_ref0 (_tmp81_);
	parent_vns = _tmp82_;
	_tmp83_ = parent_vns;
	if (_tmp83_ == NULL) {
		ValadocApiPackage* _tmp84_;
		const gchar* _tmp85_;
		const gchar* _tmp86_;
		ValadocApiSourceComment* _tmp87_;
		ValadocApiNamespace* _tmp88_;
		ValadocApiPackage* _tmp89_;
		ValadocApiNamespace* _tmp90_;
		_tmp84_ = self->package;
		_tmp85_ = vala_symbol_get_name ((ValaSymbol*) vns);
		_tmp86_ = _tmp85_;
		_tmp87_ = comment;
		_tmp88_ = valadoc_api_namespace_new ((ValadocApiNode*) _tmp84_, file, _tmp86_, _tmp87_, vns);
		_g_object_unref0 (ns);
		ns = _tmp88_;
		_tmp89_ = self->package;
		_tmp90_ = ns;
		valadoc_api_node_add_child ((ValadocApiNode*) _tmp89_, (ValadocApiSymbol*) _tmp90_);
	} else {
		ValadocApiNamespace* parent_ns = NULL;
		ValaSymbol* _tmp91_;
		ValadocApiNamespace* _tmp92_;
		ValadocApiNamespace* _tmp93_;
		const gchar* _tmp94_;
		const gchar* _tmp95_;
		ValadocApiSourceComment* _tmp96_;
		ValadocApiNamespace* _tmp97_;
		ValadocApiNamespace* _tmp98_;
		ValadocApiNamespace* _tmp99_;
		_tmp91_ = parent_vns;
		_tmp92_ = valadoc_drivers_tree_builder_package_meta_data_get_namespace (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp91_, VALA_TYPE_NAMESPACE, ValaNamespace), file);
		parent_ns = _tmp92_;
		_tmp93_ = parent_ns;
		_tmp94_ = vala_symbol_get_name ((ValaSymbol*) vns);
		_tmp95_ = _tmp94_;
		_tmp96_ = comment;
		_tmp97_ = valadoc_api_namespace_new ((ValadocApiNode*) _tmp93_, file, _tmp95_, _tmp96_, vns);
		_g_object_unref0 (ns);
		ns = _tmp97_;
		_tmp98_ = parent_ns;
		_tmp99_ = ns;
		valadoc_api_node_add_child ((ValadocApiNode*) _tmp98_, (ValadocApiSymbol*) _tmp99_);
		_g_object_unref0 (parent_ns);
	}
	_tmp100_ = self->namespaces;
	_tmp101_ = ns;
	vala_map_set ((ValaMap*) _tmp100_, vns, _tmp101_);
	result = ns;
	_vala_code_node_unref0 (parent_vns);
	_valadoc_api_source_comment_unref0 (comment);
	return result;
}


static void
valadoc_drivers_tree_builder_package_meta_data_register_source_file (ValadocDriversTreeBuilderPackageMetaData* self,
                                                                     ValaSourceFile* file)
{
	ValaArrayList* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (file != NULL);
	_tmp0_ = self->files;
	vala_collection_add ((ValaCollection*) _tmp0_, file);
}


static gboolean
valadoc_drivers_tree_builder_package_meta_data_is_package_for_file (ValadocDriversTreeBuilderPackageMetaData* self,
                                                                    ValaSourceFile* source_file)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaSourceFileType _tmp1_;
	ValaSourceFileType _tmp2_;
	ValaArrayList* _tmp6_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (source_file != NULL, FALSE);
	_tmp1_ = vala_source_file_get_file_type (source_file);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == VALA_SOURCE_FILE_TYPE_SOURCE) {
		ValadocApiPackage* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp3_ = self->package;
		_tmp4_ = valadoc_api_package_get_is_package (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp0_ = !_tmp5_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		result = TRUE;
		return result;
	}
	_tmp6_ = self->files;
	result = vala_collection_contains ((ValaCollection*) _tmp6_, source_file);
	return result;
}


static void
valadoc_drivers_tree_builder_value_package_meta_data_init (GValue* value)
{
	value->data[0].v_pointer = NULL;
}


static void
valadoc_drivers_tree_builder_value_package_meta_data_free_value (GValue* value)
{
	if (value->data[0].v_pointer) {
		valadoc_drivers_tree_builder_package_meta_data_unref (value->data[0].v_pointer);
	}
}


static void
valadoc_drivers_tree_builder_value_package_meta_data_copy_value (const GValue* src_value,
                                                                 GValue* dest_value)
{
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = valadoc_drivers_tree_builder_package_meta_data_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer
valadoc_drivers_tree_builder_value_package_meta_data_peek_pointer (const GValue* value)
{
	return value->data[0].v_pointer;
}


static gchar*
valadoc_drivers_tree_builder_value_package_meta_data_collect_value (GValue* value,
                                                                    guint n_collect_values,
                                                                    GTypeCValue* collect_values,
                                                                    guint collect_flags)
{
	if (collect_values[0].v_pointer) {
		ValadocDriversTreeBuilderPackageMetaData * object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = valadoc_drivers_tree_builder_package_meta_data_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar*
valadoc_drivers_tree_builder_value_package_meta_data_lcopy_value (const GValue* value,
                                                                  guint n_collect_values,
                                                                  GTypeCValue* collect_values,
                                                                  guint collect_flags)
{
	ValadocDriversTreeBuilderPackageMetaData ** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = valadoc_drivers_tree_builder_package_meta_data_ref (value->data[0].v_pointer);
	}
	return NULL;
}


static GParamSpec*
valadoc_drivers_tree_builder_param_spec_package_meta_data (const gchar* name,
                                                           const gchar* nick,
                                                           const gchar* blurb,
                                                           GType object_type,
                                                           GParamFlags flags)
{
	ValadocDriversTreeBuilderParamSpecPackageMetaData* spec;
	g_return_val_if_fail (g_type_is_a (object_type, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


static gpointer
valadoc_drivers_tree_builder_value_get_package_meta_data (const GValue* value)
{
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA), NULL);
	return value->data[0].v_pointer;
}


static void
valadoc_drivers_tree_builder_value_set_package_meta_data (GValue* value,
                                                          gpointer v_object)
{
	ValadocDriversTreeBuilderPackageMetaData * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		valadoc_drivers_tree_builder_package_meta_data_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		valadoc_drivers_tree_builder_package_meta_data_unref (old);
	}
}


static void
valadoc_drivers_tree_builder_value_take_package_meta_data (GValue* value,
                                                           gpointer v_object)
{
	ValadocDriversTreeBuilderPackageMetaData * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		valadoc_drivers_tree_builder_package_meta_data_unref (old);
	}
}


static void
valadoc_drivers_tree_builder_package_meta_data_class_init (ValadocDriversTreeBuilderPackageMetaDataClass * klass)
{
	valadoc_drivers_tree_builder_package_meta_data_parent_class = g_type_class_peek_parent (klass);
	((ValadocDriversTreeBuilderPackageMetaDataClass *) klass)->finalize = valadoc_drivers_tree_builder_package_meta_data_finalize;
}


static void
valadoc_drivers_tree_builder_package_meta_data_instance_init (ValadocDriversTreeBuilderPackageMetaData * self)
{
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GEqualFunc _tmp2_;
	ValaHashMap* _tmp3_;
	GEqualFunc _tmp4_;
	ValaArrayList* _tmp5_;
	_tmp0_ = g_direct_hash;
	_tmp1_ = g_direct_equal;
	_tmp2_ = g_direct_equal;
	_tmp3_ = vala_hash_map_new (VALA_TYPE_NAMESPACE, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, VALADOC_API_TYPE_NAMESPACE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _tmp0_, _tmp1_, _tmp2_);
	self->namespaces = _tmp3_;
	_tmp4_ = g_direct_equal;
	_tmp5_ = vala_array_list_new (VALA_TYPE_SOURCE_FILE, (GBoxedCopyFunc) vala_source_file_ref, (GDestroyNotify) vala_source_file_unref, _tmp4_);
	self->files = _tmp5_;
	self->ref_count = 1;
}


static void
valadoc_drivers_tree_builder_package_meta_data_finalize (ValadocDriversTreeBuilderPackageMetaData * obj)
{
	ValadocDriversTreeBuilderPackageMetaData * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, ValadocDriversTreeBuilderPackageMetaData);
	g_signal_handlers_destroy (self);
	_g_object_unref0 (self->package);
	_vala_map_unref0 (self->namespaces);
	_vala_iterable_unref0 (self->files);
}


static GType
valadoc_drivers_tree_builder_package_meta_data_get_type (void)
{
	static volatile gsize valadoc_drivers_tree_builder_package_meta_data_type_id__volatile = 0;
	if (g_once_init_enter (&valadoc_drivers_tree_builder_package_meta_data_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { valadoc_drivers_tree_builder_value_package_meta_data_init, valadoc_drivers_tree_builder_value_package_meta_data_free_value, valadoc_drivers_tree_builder_value_package_meta_data_copy_value, valadoc_drivers_tree_builder_value_package_meta_data_peek_pointer, "p", valadoc_drivers_tree_builder_value_package_meta_data_collect_value, "p", valadoc_drivers_tree_builder_value_package_meta_data_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ValadocDriversTreeBuilderPackageMetaDataClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) valadoc_drivers_tree_builder_package_meta_data_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValadocDriversTreeBuilderPackageMetaData), 0, (GInstanceInitFunc) valadoc_drivers_tree_builder_package_meta_data_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType valadoc_drivers_tree_builder_package_meta_data_type_id;
		valadoc_drivers_tree_builder_package_meta_data_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ValadocDriversTreeBuilderPackageMetaData", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&valadoc_drivers_tree_builder_package_meta_data_type_id__volatile, valadoc_drivers_tree_builder_package_meta_data_type_id);
	}
	return valadoc_drivers_tree_builder_package_meta_data_type_id__volatile;
}


static gpointer
valadoc_drivers_tree_builder_package_meta_data_ref (gpointer instance)
{
	ValadocDriversTreeBuilderPackageMetaData * self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


static void
valadoc_drivers_tree_builder_package_meta_data_unref (gpointer instance)
{
	ValadocDriversTreeBuilderPackageMetaData * self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		VALADOC_DRIVERS_TREE_BUILDER_PACKAGE_META_DATA_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}


static void
valadoc_drivers_tree_builder_class_init (ValadocDriversTreeBuilderClass * klass)
{
	valadoc_drivers_tree_builder_parent_class = g_type_class_peek_parent (klass);
	((ValaCodeVisitorClass *) klass)->finalize = valadoc_drivers_tree_builder_finalize;
	g_type_class_add_private (klass, sizeof (ValadocDriversTreeBuilderPrivate));
	((ValaCodeVisitorClass *) klass)->visit_namespace = (void (*) (ValaCodeVisitor *, ValaNamespace*)) valadoc_drivers_tree_builder_real_visit_namespace;
	((ValaCodeVisitorClass *) klass)->visit_class = (void (*) (ValaCodeVisitor *, ValaClass*)) valadoc_drivers_tree_builder_real_visit_class;
	((ValaCodeVisitorClass *) klass)->visit_interface = (void (*) (ValaCodeVisitor *, ValaInterface*)) valadoc_drivers_tree_builder_real_visit_interface;
	((ValaCodeVisitorClass *) klass)->visit_struct = (void (*) (ValaCodeVisitor *, ValaStruct*)) valadoc_drivers_tree_builder_real_visit_struct;
	((ValaCodeVisitorClass *) klass)->visit_field = (void (*) (ValaCodeVisitor *, ValaField*)) valadoc_drivers_tree_builder_real_visit_field;
	((ValaCodeVisitorClass *) klass)->visit_property = (void (*) (ValaCodeVisitor *, ValaProperty*)) valadoc_drivers_tree_builder_real_visit_property;
	((ValaCodeVisitorClass *) klass)->visit_creation_method = (void (*) (ValaCodeVisitor *, ValaCreationMethod*)) valadoc_drivers_tree_builder_real_visit_creation_method;
	((ValaCodeVisitorClass *) klass)->visit_method = (void (*) (ValaCodeVisitor *, ValaMethod*)) valadoc_drivers_tree_builder_real_visit_method;
	((ValaCodeVisitorClass *) klass)->visit_signal = (void (*) (ValaCodeVisitor *, ValaSignal*)) valadoc_drivers_tree_builder_real_visit_signal;
	((ValaCodeVisitorClass *) klass)->visit_delegate = (void (*) (ValaCodeVisitor *, ValaDelegate*)) valadoc_drivers_tree_builder_real_visit_delegate;
	((ValaCodeVisitorClass *) klass)->visit_enum = (void (*) (ValaCodeVisitor *, ValaEnum*)) valadoc_drivers_tree_builder_real_visit_enum;
	((ValaCodeVisitorClass *) klass)->visit_enum_value = (void (*) (ValaCodeVisitor *, ValaEnumValue*)) valadoc_drivers_tree_builder_real_visit_enum_value;
	((ValaCodeVisitorClass *) klass)->visit_constant = (void (*) (ValaCodeVisitor *, ValaConstant*)) valadoc_drivers_tree_builder_real_visit_constant;
	((ValaCodeVisitorClass *) klass)->visit_error_domain = (void (*) (ValaCodeVisitor *, ValaErrorDomain*)) valadoc_drivers_tree_builder_real_visit_error_domain;
	((ValaCodeVisitorClass *) klass)->visit_error_code = (void (*) (ValaCodeVisitor *, ValaErrorCode*)) valadoc_drivers_tree_builder_real_visit_error_code;
	((ValaCodeVisitorClass *) klass)->visit_type_parameter = (void (*) (ValaCodeVisitor *, ValaTypeParameter*)) valadoc_drivers_tree_builder_real_visit_type_parameter;
	((ValaCodeVisitorClass *) klass)->visit_formal_parameter = (void (*) (ValaCodeVisitor *, ValaParameter*)) valadoc_drivers_tree_builder_real_visit_formal_parameter;
}


static void
valadoc_drivers_tree_builder_instance_init (ValadocDriversTreeBuilder * self)
{
	GEqualFunc _tmp0_;
	ValaArrayList* _tmp1_;
	GHashFunc _tmp2_;
	GEqualFunc _tmp3_;
	GEqualFunc _tmp4_;
	ValaHashMap* _tmp5_;
	GHashFunc _tmp6_;
	GEqualFunc _tmp7_;
	GEqualFunc _tmp8_;
	ValaHashMap* _tmp9_;
	self->priv = VALADOC_DRIVERS_TREE_BUILDER_GET_PRIVATE (self);
	_tmp0_ = g_direct_equal;
	_tmp1_ = vala_array_list_new (VALADOC_DRIVERS_TREE_BUILDER_TYPE_PACKAGE_META_DATA, (GBoxedCopyFunc) valadoc_drivers_tree_builder_package_meta_data_ref, (GDestroyNotify) valadoc_drivers_tree_builder_package_meta_data_unref, _tmp0_);
	self->priv->packages = _tmp1_;
	_tmp2_ = g_direct_hash;
	_tmp3_ = g_direct_equal;
	_tmp4_ = g_direct_equal;
	_tmp5_ = vala_hash_map_new (VALA_TYPE_SOURCE_FILE, (GBoxedCopyFunc) vala_source_file_ref, (GDestroyNotify) vala_source_file_unref, VALADOC_API_TYPE_SOURCE_FILE, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _tmp2_, _tmp3_, _tmp4_);
	self->priv->files = _tmp5_;
	_tmp6_ = g_direct_hash;
	_tmp7_ = g_direct_equal;
	_tmp8_ = g_direct_equal;
	_tmp9_ = vala_hash_map_new (VALA_TYPE_SYMBOL, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, VALADOC_API_TYPE_SYMBOL, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _tmp6_, _tmp7_, _tmp8_);
	self->priv->symbol_map = _tmp9_;
	self->priv->glib_error = NULL;
}


static void
valadoc_drivers_tree_builder_finalize (ValaCodeVisitor * obj)
{
	ValadocDriversTreeBuilder * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VALADOC_DRIVERS_TYPE_TREE_BUILDER, ValadocDriversTreeBuilder);
	_vala_iterable_unref0 (self->priv->packages);
	_valadoc_drivers_tree_builder_package_meta_data_unref0 (self->priv->source_package);
	_vala_map_unref0 (self->priv->files);
	_vala_map_unref0 (self->priv->symbol_map);
	_g_object_unref0 (self->priv->reporter);
	_g_object_unref0 (self->priv->settings);
	_g_object_unref0 (self->priv->current_node);
	_valadoc_api_tree_unref0 (self->priv->tree);
	_g_object_unref0 (self->priv->glib_error);
	VALA_CODE_VISITOR_CLASS (valadoc_drivers_tree_builder_parent_class)->finalize (obj);
}


/**
 * Creates an simpler, minimized, more abstract AST for valacs AST.
 */
GType
valadoc_drivers_tree_builder_get_type (void)
{
	static volatile gsize valadoc_drivers_tree_builder_type_id__volatile = 0;
	if (g_once_init_enter (&valadoc_drivers_tree_builder_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ValadocDriversTreeBuilderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) valadoc_drivers_tree_builder_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValadocDriversTreeBuilder), 0, (GInstanceInitFunc) valadoc_drivers_tree_builder_instance_init, NULL };
		GType valadoc_drivers_tree_builder_type_id;
		valadoc_drivers_tree_builder_type_id = g_type_register_static (VALA_TYPE_CODE_VISITOR, "ValadocDriversTreeBuilder", &g_define_type_info, 0);
		g_once_init_leave (&valadoc_drivers_tree_builder_type_id__volatile, valadoc_drivers_tree_builder_type_id);
	}
	return valadoc_drivers_tree_builder_type_id__volatile;
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



